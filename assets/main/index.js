window.__require=function e(t,i,n){function a(s,c){if(!i[s]){if(!t[s]){var r=s.split("/");if(r=r[r.length-1],!t[r]){var l="function"==typeof __require&&__require;if(!c&&l)return l(r,!0);if(o)return o(r,!0);throw new Error("Cannot find module '"+s+"'")}s=r}var h=i[s]={exports:{}};t[s][0].call(h.exports,function(e){return a(t[s][1][e]||e)},h,h.exports,e,t,i,n)}return i[s].exports}for(var o="function"==typeof __require&&__require,s=0;s<n.length;s++)a(n[s]);return a}({"243Break_bonus_item":[function(e,t){"use strict";cc._RF.push(t,"f9e10ObzTVNPJrXGaGorwpJ","243Break_bonus_item"),cc.Class({extends:cc.Component,properties:{open:cc.Sprite,close:cc.Node,text:cc.Label},onClickBox:function(){var e=this.node.parent.children.map(function(e){return e._id}).indexOf(this.node._id);this.getPositionBox(e)},onSend:function(){this.getPositionBox()},getPositionBox:function(e){if(0==this.open.node.active){var t=this.node.parent.convertToWorldSpaceAR(this.node.position);cc.RedT.send({g:{slot243Sap:{bonus:{box:e}}}}),cc.RedT.inGame.gameBonus.savePos(t,e)}}}),cc._RF.pop()},{}],"243Break_dialog":[function(e,t){"use strict";cc._RF.push(t,"b3329j3Iw5PsoX4hw15JCmb","243Break_dialog");var i=e("243Break_history"),n=e("243Break_top"),a=e("243Break_setting");cc.Class({extends:cc.Component,properties:{history:i,top:n,help:cc.PageView,setting:a},init:function(){this.actionShow=cc.spawn(cc.scaleTo(.5,1).easing(cc.easeBackOut(2.5)),cc.fadeTo(.5,255)),this.objShow=null,this.objTmp=null},onClickBack:function(){cc.RedT.audio.playUnClick(),this.onBack()},onBack:function(){null!=this.objShow?null==this.objShow.previous||null==this.objShow.previous?(this.objShow.active=!1,this.node.active=!1,this.objShow=null):(this.objTmp=this.objShow,this.objShow=this.objShow.previous,this.objTmp.previous=null,this.objTmp.active=!1,this.objShow.active=!0,this.objTmp=null):this.node.active=!1},onClosePrevious:function(e){void 0!==e.previous&&null!==e.previous&&(this.onClosePrevious(e.previous),delete e.previous),e.active=!1},onCloseDialog:function(){null!=this.objShow?null==this.objShow.previous||null==this.objShow.previous?(this.objShow.active=this.node.active=!1,this.objShow=null):(this.onClosePrevious(this.objShow.previous),this.objShow.active=this.node.active=!1,delete this.objShow.previous,this.objShow=null):this.node.active=!1},resetSizeDialog:function(e){e.stopAllActions(),e.scale=.5,e.opacity=0},showHistory:function(){this.node.active=this.setting.node.active=!1,this.node.active=this.history.node.active=!0,this.objShow=this.history.node},showTop:function(){this.node.active=this.setting.node.active=!1,this.node.active=this.top.node.active=!0,this.objShow=this.top.node},showHelp:function(){this.node.active=this.help.node.active=!0,this.objShow=this.help.node},showSetting:function(){this.node.active=this.setting.node.active=!0,this.objShow=this.setting.node},onclickLeftGuide:function(){this.help._curPageIdx>0&&this.help.scrollToPage(this.help._curPageIdx-1,1.5)},onclickRightGuide:function(){this.help._curPageIdx<this.help._pages.length-1&&this.help.scrollToPage(this.help._curPageIdx+1,1.5)}}),cc._RF.pop()},{"243Break_history":"243Break_history","243Break_setting":"243Break_setting","243Break_top":"243Break_top"}],"243Break_history":[function(e,t){"use strict";cc._RF.push(t,"93d26keI95CLZuxq+HCj/wu","243Break_history");var i=e("Helper");cc.Class({extends:cc.Component,properties:{page:cc.Prefab,content:cc.Node,cointRed:cc.Node,cointXu:cc.Node,red:!0},onLoad:function(){var e=this,t=cc.instantiate(this.page);t.y=-285,this.node.addChild(t),this.page=t.getComponent("Pagination"),Promise.all(this.content.children.map(function(e){return e.getComponent("VQRed_history_item")})).then(function(t){e.content=t}),this.page.init(this)},onEnable:function(){this.get_data()},get_data:function(e){void 0===e&&(e=1),cc.RedT.send({g:{slot243Sap:{log:{red:this.red,page:e}}}})},changerCoint:function(){this.red=!this.red,this.cointRed.active=!this.cointRed.active,this.cointXu.active=!this.cointXu.active,this.get_data()},onResponseServer:function(e){this.page.onSet(e.page,e.kmess,e.total),Promise.all(this.content.map(function(t,n){var a=e.data[n];void 0!==a?(t.node.active=!0,t.time.string=i.getStringDateByTime(a.time),t.phien.string=a.id,t.cuoc.string=i.numberWithCommas(a.bet),t.win.string=a.line+i.getLang(cc.RedT.language,"line_history"),t.line.string=i.numberWithCommas(a.win)):t.node.active=!1}))}}),cc._RF.pop()},{Helper:"Helper"}],"243Break_iline":[function(e,t){"use strict";cc._RF.push(t,"f511fnEtotH+5ARDdUZ7UmI","243Break_iline"),cc.Class({extends:cc.Component,properties:{line:cc.Node,ef:!1},onEnable:function(){this.node.on(cc.Node.EventType.MOUSE_ENTER,this.onShow,this),this.node.on(cc.Node.EventType.MOUSE_LEAVE,this.onHidden,this)},onDisable:function(){this.node.off(cc.Node.EventType.MOUSE_ENTER,this.onShow,this),this.node.off(cc.Node.EventType.MOUSE_LEAVE,this.onHidden,this)},onShow:function(){this.line.active=!0},onHidden:function(){!this.ef&&(this.line.active=!1)}}),cc._RF.pop()},{}],"243Break_item":[function(e,t){"use strict";cc._RF.push(t,"261d4wdsTJMzof43qIeJygp","243Break_item"),cc.Class({extends:cc.Component,properties:{icon:cc.Sprite,free:cc.Node,bonus:cc.Node,hu:cc.Node,wind:cc.Node},init:function(e){this.RedT=e},random:function(){var e=11*Math.random()>>0;return this.setIcon(e),e},setIcon:function(e,t){void 0===t&&(t=!1),8==e?(this.bonus.active=!0,this.icon.node.active=this.free.active=this.wind.active=this.hu.active=!1):10==e?(this.free.active=!0,this.icon.node.active=this.wind.active=this.bonus.active=this.hu.active=!1):9==e?(this.wind.active=!0,this.icon.node.active=this.free.active=this.bonus.active=this.hu.active=!1):(this.icon.node.active=!0,this.icon.spriteFrame=this.RedT.icons[e],this.free.active=this.wind.active=this.bonus.active=this.hu.active=!1),t&&(this.data=e)}}),cc._RF.pop()},{}],"243Break_lines":[function(e,t){"use strict";cc._RF.push(t,"e31cbGYP7FHOJqm/5j4xkSo","243Break_lines");var i=e("Helper");cc.Class({extends:cc.Component,properties:{lines:cc.Node,mainLines:cc.Node},init:function(e){var t=this;this.linew={1:[0,0,0,0,0],2:[0,0,0,0,1],3:[0,0,0,0,2],4:[0,0,0,1,0],5:[0,0,0,1,1],6:[0,0,0,1,2],7:[0,0,0,2,0],8:[0,0,0,2,1],9:[0,0,0,2,2],10:[0,0,1,0,0],11:[0,0,1,0,1],12:[0,0,1,0,2],13:[0,0,1,1,0],14:[0,0,1,1,1],15:[0,0,1,1,2],16:[0,0,1,2,0],17:[0,0,1,2,1],18:[0,0,1,2,2],19:[0,0,2,0,0],20:[0,0,2,0,1],21:[0,0,2,0,2],22:[0,0,2,1,0],23:[0,0,2,1,1],24:[0,0,2,1,2],25:[0,0,2,2,0],26:[0,0,2,2,1],27:[0,0,2,2,2],28:[0,1,0,0,0],29:[0,1,0,0,1],30:[0,1,0,0,2],31:[0,1,0,1,0],32:[0,1,0,1,1],33:[0,1,0,1,2],34:[0,1,0,2,0],35:[0,1,0,2,1],36:[0,1,0,2,2],37:[0,1,1,0,0],38:[0,1,1,0,1],39:[0,1,1,0,2],40:[0,1,1,1,0],41:[0,1,1,1,1],42:[0,1,1,1,2],43:[0,1,1,2,0],44:[0,1,1,2,1],45:[0,1,1,2,2],46:[0,1,2,0,0],47:[0,1,2,0,1],48:[0,1,2,0,2],49:[0,1,2,1,0],50:[0,1,2,1,1],51:[0,1,2,1,2],52:[0,1,2,2,0],53:[0,1,2,2,1],54:[0,1,2,2,2],55:[0,2,0,0,0],56:[0,2,0,0,1],57:[0,2,0,0,2],58:[0,2,0,1,0],59:[0,2,0,1,1],60:[0,2,0,1,2],61:[0,2,0,2,0],62:[0,2,0,2,1],63:[0,2,0,2,2],64:[0,2,1,0,0],65:[0,2,1,0,1],66:[0,2,1,0,2],67:[0,2,1,1,0],68:[0,2,1,1,1],69:[0,2,1,1,2],70:[0,2,1,2,0],71:[0,2,1,2,1],72:[0,2,1,2,2],73:[0,2,2,0,0],74:[0,2,2,0,1],75:[0,2,2,0,2],76:[0,2,2,1,0],77:[0,2,2,1,1],78:[0,2,2,1,2],79:[0,2,2,2,0],80:[0,2,2,2,1],81:[0,2,2,2,2],82:[1,0,0,0,0],83:[1,0,0,0,1],84:[1,0,0,0,2],85:[1,0,0,1,0],86:[1,0,0,1,1],87:[1,0,0,1,2],88:[1,0,0,2,0],89:[1,0,0,2,1],90:[1,0,0,2,2],91:[1,0,1,0,0],92:[1,0,1,0,1],93:[1,0,1,0,2],94:[1,0,1,1,0],95:[1,0,1,1,1],96:[1,0,1,1,2],97:[1,0,1,2,0],98:[1,0,1,2,1],99:[1,0,1,2,2],100:[1,0,2,0,0],101:[1,0,2,0,1],102:[1,0,2,0,2],103:[1,0,2,1,0],104:[1,0,2,1,1],105:[1,0,2,1,2],106:[1,0,2,2,0],107:[1,0,2,2,1],108:[1,0,2,2,2],109:[1,1,0,0,0],110:[1,1,0,0,1],111:[1,1,0,0,2],112:[1,1,0,1,0],113:[1,1,0,1,1],114:[1,1,0,1,2],115:[1,1,0,2,0],116:[1,1,0,2,1],117:[1,1,0,2,2],118:[1,1,1,0,0],119:[1,1,1,0,1],120:[1,1,1,0,2],121:[1,1,1,1,0],122:[1,1,1,1,1],123:[1,1,1,1,2],124:[1,1,1,2,0],125:[1,1,1,2,1],126:[1,1,1,2,2],127:[1,1,2,0,0],128:[1,1,2,0,1],129:[1,1,2,0,2],130:[1,1,2,1,0],131:[1,1,2,1,1],132:[1,1,2,1,2],133:[1,1,2,2,0],134:[1,1,2,2,1],135:[1,1,2,2,2],136:[1,2,0,0,0],137:[1,2,0,0,1],138:[1,2,0,0,2],139:[1,2,0,1,0],140:[1,2,0,1,1],141:[1,2,0,1,2],142:[1,2,0,2,0],143:[1,2,0,2,1],144:[1,2,0,2,2],145:[1,2,1,0,0],146:[1,2,1,0,1],147:[1,2,1,0,2],148:[1,2,1,1,0],149:[1,2,1,1,1],150:[1,2,1,1,2],151:[1,2,1,2,0],152:[1,2,1,2,1],153:[1,2,1,2,2],154:[1,2,2,0,0],155:[1,2,2,0,1],156:[1,2,2,0,2],157:[1,2,2,1,0],158:[1,2,2,1,1],159:[1,2,2,1,2],160:[1,2,2,2,0],161:[1,2,2,2,1],162:[1,2,2,2,2],163:[2,0,0,0,0],164:[2,0,0,0,1],165:[2,0,0,0,2],166:[2,0,0,1,0],167:[2,0,0,1,1],168:[2,0,0,1,2],169:[2,0,0,2,0],170:[2,0,0,2,1],171:[2,0,0,2,2],172:[2,0,1,0,0],173:[2,0,1,0,1],174:[2,0,1,0,2],175:[2,0,1,1,0],176:[2,0,1,1,1],177:[2,0,1,1,2],178:[2,0,1,2,0],179:[2,0,1,2,1],180:[2,0,1,2,2],181:[2,0,2,0,0],182:[2,0,2,0,1],183:[2,0,2,0,2],184:[2,0,2,1,0],185:[2,0,2,1,1],186:[2,0,2,1,2],187:[2,0,2,2,0],188:[2,0,2,2,1],189:[2,0,2,2,2],190:[2,1,0,0,0],191:[2,1,0,0,1],192:[2,1,0,0,2],193:[2,1,0,1,0],194:[2,1,0,1,1],195:[2,1,0,1,2],196:[2,1,0,2,0],197:[2,1,0,2,1],198:[2,1,0,2,2],199:[2,1,1,0,0],200:[2,1,1,0,1],201:[2,1,1,0,2],202:[2,1,1,1,0],203:[2,1,1,1,1],204:[2,1,1,1,2],205:[2,1,1,2,0],206:[2,1,1,2,1],207:[2,1,1,2,2],208:[2,1,2,0,0],209:[2,1,2,0,1],210:[2,1,2,0,2],211:[2,1,2,1,0],212:[2,1,2,1,1],213:[2,1,2,1,2],214:[2,1,2,2,0],215:[2,1,2,2,1],216:[2,1,2,2,2],217:[2,2,0,0,0],218:[2,2,0,0,1],219:[2,2,0,0,2],220:[2,2,0,1,0],221:[2,2,0,1,1],222:[2,2,0,1,2],223:[2,2,0,2,0],224:[2,2,0,2,1],225:[2,2,0,2,2],226:[2,2,1,0,0],227:[2,2,1,0,1],228:[2,2,1,0,2],229:[2,2,1,1,0],230:[2,2,1,1,1],231:[2,2,1,1,2],232:[2,2,1,2,0],233:[2,2,1,2,1],234:[2,2,1,2,2],235:[2,2,2,0,0],236:[2,2,2,0,1],237:[2,2,2,0,2],238:[2,2,2,1,0],239:[2,2,2,1,1],240:[2,2,2,1,2],241:[2,2,2,2,0],242:[2,2,2,2,1],243:[2,2,2,2,2]},this.RedT=e,Promise.all(this.mainLines.children.map(function(e){return e.getComponent("243Break_iline")})).then(function(e){t.mainLines=e}),this.select243()},onOpen:function(){this.node.active=!0},onClose:function(){this.RedT.playClick(),this.node.active&&this.data.length<1?this.RedT.notice.show({title:i.getLang(cc.RedT.language,"warning"),text:i.getLang(cc.RedT.language,"oneline_least")}):this.node.active=!1},select:function(e){this.RedT.playClick();var t=e.target;t.color._val!=cc.Color.WHITE._val?t.color=cc.Color.WHITE:t.color=t.color.fromHEX("#8A8A8A"),this.check()},check:function(){var e=this;Promise.all(this.lines.children.map(function(e,t){return e.color._val==cc.Color.WHITE._val?t+1:void 0})).then(function(t){Promise.all(t.filter(function(e){return void 0!==e})).then(function(t){e.data=t,e.RedT.labelLine.string=t.length,e.RedT.tong.string=i.numberWithCommas(t.length*i.getOnlyNumberInString(e.RedT.bet.string))})})},selectChan:function(){var e=this;Promise.all(this.lines.children.map(function(e,t){var i=t+1;if(!(i%2))return e.color=cc.Color.WHITE,i;e.color=e.color.fromHEX("#8A8A8A")})).then(function(t){Promise.all(t.filter(function(e){return void 0!==e})).then(function(t){e.data=t,e.RedT.labelLine.string=t.length,e.RedT.tong.string=i.numberWithCommas(t.length*i.getOnlyNumberInString(e.RedT.bet.string))})})},selectLe:function(){var e=this;Promise.all(this.lines.children.map(function(e,t){var i=t+1;if(i%2)return e.color=cc.Color.WHITE,i;e.color=e.color.fromHEX("#8A8A8A")})).then(function(t){Promise.all(t.filter(function(e){return void 0!==e})).then(function(t){e.data=t,e.RedT.labelLine.string=t.length,e.RedT.tong.string=i.numberWithCommas(t.length*i.getOnlyNumberInString(e.RedT.bet.string))})})},selectAll:function(e,t){var n=this;Promise.all(this.lines.children.map(function(e,i){var n="1"==t;return e.color=n?cc.Color.WHITE:e.color.fromHEX("#8A8A8A"),n?i+1:void 0})).then(function(e){Promise.all(e.filter(function(e){return void 0!==e})).then(function(e){n.data=e,n.RedT.labelLine.string=e.length,n.RedT.tong.string=i.numberWithCommas(e.length*i.getOnlyNumberInString(n.RedT.bet.string))})})},select243:function(){for(var e=[],t=1;t<=243;t++)e.push(t);this.data=e}}),cc._RF.pop()},{Helper:"Helper"}],"243Break_playBonus":[function(e,t){"use strict";cc._RF.push(t,"634dfUi/7dFAJHg5hC0ebpi","243Break_playBonus");var i=e("Helper");cc.Class({extends:cc.Component,properties:{player:cc.Node,listBox:cc.Node,notice:cc.Node,numberWin:cc.Label,NoHu:cc.Animation,NoHu_Label:cc.Label,EF_JackpotGrand:{default:[],type:sp.Skeleton},BigWinBonus:cc.Animation,BigWin_Label:cc.Label,huMini:cc.Label,huMinor:cc.Label,huMajor:cc.Label,huGrand:cc.Label,TotalMoney:cc.Label,icons:{default:[],type:cc.SpriteFrame}},init:function(e){var t=this;this.RedT=e,this.previousBox=34;for(var i=0;i<60;i++)cc.instantiate(this.RedT.prefabBox).parent=this.listBox;var n=this.listBox.convertToWorldSpaceAR(this.listBox.children[29].position);n=this.node.convertToNodeSpaceAR(n),this.player.position=cc.v2(-55.5,-64.5),Promise.all(this.listBox.children.map(function(e){return e.getComponent("243Break_bonus_item")})).then(function(e){t.listBox=e}),this.NoHu.on("play",this.NoHuPlay,this),this.BigWinBonus.on("finished",this.BigWinFinish,this),this.BigWinBonus.on("play",this.BigWinPlay,this)},onPlay:function(){this.reset(),this.node.active=!0,this.listBox[34].close.active=!1,this.listBox[34].open.node.active=!0,this.huMini.string=this.RedT.huMini.string,this.huMinor.string=this.RedT.huMinor.string,this.huMajor.string=this.RedT.huMajor.string,this.huGrand.string=this.RedT.huGrand.string},closeNotice:function(){this.notice.active=this.node.active=!1,this.RedT.hieuUng()},onResponseServer:function(e){var t=this.jackPotWin,n=this;void 0!==e.icon&&void 0!==e.box&&void 0!==e.bet&&(this.openBox(e.icon,e.box,e.bet),this.jackPotWin+=e.bet),void 0!==e.win&&void 0!==e.icon&&void 0!==e.box&&(n=this,this.openBox(e.icon,e.box),this.jackPotWin+=e.win,this.timeOutSapPrize=setTimeout(function(){if(e.isJackpot&&e.isJackpot>=3)this.EF_JackpotGrand[e.isJackpot-3].node.active=!0,this.NoHu.node.active=!0,this.NoHu.play(),this.RedT.vuathang.string=i.numberWithCommas(1*i.getOnlyNumberInString(this.RedT.vuathang.string)+e.win);else if(0==e.win&&0==this.jackPotWin)this.notice.active=!0,this.numberWin.string=i.getLang(cc.RedT.language,"high_low_end");else if(e.win>0&&2==e.icon)this.BigWinBonus.node.active=!0,this.BigWinBonus.play(),this.RedT.vuathang.string=i.numberWithCommas(1*i.getOnlyNumberInString(this.RedT.vuathang.string)+e.win);else{this.notice.active=!0,this.numberWin.string=i.getLang(cc.RedT.language,"total_win")+" "+this.TotalMoney.string;for(var t=0;t<n.listBox.length;t++)n.listBox[t].open.node.active=!1;this.RedT.hieuUng(),this.RedT.vuathang.string=i.numberWithCommas(1*i.getOnlyNumberInString(this.RedT.vuathang.string)+e.win)}}.bind(this),1500)),this.movePosition(this.pos,this.boxIndex),i.numberTo(this.TotalMoney,t,this.jackPotWin,2e3,!0)},reset:function(){this.player.position=cc.v2(-57.5,-64.5),this.previousBox=34,this.jackPotWin=0,i.numberTo(this.TotalMoney,0,0,500,!0);for(var e=0;e<4;e++)this.EF_JackpotGrand[e].node.active=!1;Promise.all(this.listBox.map(function(e){e.open.spriteFrame=null,e.open.node.active=!1,e.close.active=!0,e.close.opacity=255,e.text.string=""}))},NoHuPlay:function(){var e=this;this.NoHu_Label.string="";var t=cc.callFunc(function(){this.RedT._playSFX(this.RedT.audioJackpot),i.numberTo(this.NoHu_Label,0,this.jackPotWin,2e3,!0)},this);this.NoHu.node.runAction(cc.sequence(cc.delayTime(.3),t));var n=cc.callFunc(function(){this.NoHu.node.active=!1,this.node.active=!1;for(var t=0;t<e.listBox.length;t++)e.listBox[t].open.node.active=!1;this.RedT.hieuUng()},this);this.NoHu.node.runAction(cc.sequence(cc.delayTime(4),n))},BigWinPlay:function(){var e=cc.callFunc(function(){this.RedT._playSFX(this.RedT.audioBigWin),i.numberTo(this.BigWin_Label,0,this.jackPotWin,2e3,!0)},this);this.BigWinBonus.node.runAction(cc.sequence(cc.delayTime(.3),e))},BigWinFinish:function(){this.node.active=!1,this.BigWinBonus.node.active=!1,this.BigWin_Label.string="",this.RedT.hieuUng()},savePos:function(e,t){this.pos=e,this.boxIndex=t},movePosition:function(e,t){if(this.previousBox-1==t||this.previousBox+1==t||this.previousBox-10==t||this.previousBox+10==t){e=this.node.convertToNodeSpaceAR(e);var i=cc.callFunc(function(){this.player.runAction(cc.moveTo(.5,e))},this);this.player.runAction(cc.sequence(cc.delayTime(1),i)),this.previousBox=t}},openBox:function(e,t,i){var n=cc.callFunc(function(){this.listBox[t].close.active=!1},this);this.listBox[t].close.runAction(cc.sequence(cc.fadeTo(.5,0),n)),this.listBox[t].open.node.active=!0,0==e?this.listBox[t].text.string=i:1==e?this.listBox[t].open.spriteFrame=this.icons[1]:2==e?this.listBox[t].open.spriteFrame=this.icons[2]:3==e?this.listBox[t].open.spriteFrame=this.icons[3]:4==e?this.listBox[t].open.spriteFrame=this.icons[4]:5==e?this.listBox[t].open.spriteFrame=this.icons[5]:6==e&&(this.listBox[t].open.spriteFrame=this.icons[6])}}),cc._RF.pop()},{Helper:"Helper"}],"243Break_reel":[function(e,t){"use strict";cc._RF.push(t,"fdb8eDCfJhM27ghTr2cVKxv","243Break_reel"),cc.Class({extends:cc.Component,init:function(e){var t=this;this.RedT=e,this.icons=[];var i=this,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.node.height=146*n.length,Promise.all(n.map(function(e,t){var a=cc.instantiate(i.RedT.icon);return a.position=cc.v2(0,146*t),i.node.addChild(a),(a=a.getComponent("243Break_item")).init(i.RedT),t>2&&t<n.length-3&&a.random(),a})).then(function(e){t.icons=e,t.icons[t.icons.length-1].setIcon(t.icons[4].random()),t.icons[t.icons.length-2].setIcon(t.icons[3].random()),t.icons[t.icons.length-3].setIcon(t.icons[2].random()),t.icons[t.icons.length-4].setIcon(t.icons[1].random()),t.icons[t.icons.length-5].setIcon(t.icons[0].random())})},reStoreReel:function(e){var t=this;this.RedT=e,this.icons=[];var i=this;if(i.node.children.length<=3){var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.node.height=146*(n.length+3),Promise.all(n.map(function(e,t){var a=cc.instantiate(i.RedT.icon);return a.position=cc.v2(0,146*(t+3)),i.node.addChild(a),(a=a.getComponent("243Break_item")).init(i.RedT),t>2&&t<n.length-3&&a.random(),a})).then(function(e){for(var n=0;n<3;n++){var a=i.node._children[2-n].getComponent("243Break_item");e.unshift(a)}t.icons=e,t.icons[t.icons.length-1].setIcon(t.icons[4].random()),t.icons[t.icons.length-2].setIcon(t.icons[3].random())})}},spin:function(e){this.node.stopAllActions();var t=cc.moveTo(1,cc.v2(this.node.x,-(this.node.height-396-40))).easing(cc.easeInOut(3)),i=cc.callFunc(function(){0===e&&this.RedT.copy(),this.node.y=0},this);if(4===e){var n=cc.callFunc(function(){this.RedT.EF_vuathang(),this.node.y=0,this.RedT.random(),this.RedT.hieuUng()},this);this.node.runAction(cc.sequence(cc.delayTime(.1*e),t,n))}else this.node.runAction(cc.sequence(cc.delayTime(.1*e),t,i))},stop:function(){this.node.stopAllActions(),this.RedT.copy(),this.node.y=0},destroyOther:function(){Promise.all(this.node._children.map(function(e,t){t>2&&e&&e.destroy()}))},addItems:function(e){if(e)for(var t=e.length-1;t>=0;t--){var i=cc.instantiate(this.RedT.icon);i.position=cc.v2(0,438+146*(e.length-t)),this.node.addChild(i),(i=i.getComponent("243Break_item")).init(this.RedT),i.setIcon(e[t])}}}),cc._RF.pop()},{}],"243Break_setting":[function(e,t){"use strict";cc._RF.push(t,"3d99bnmP4tPiIMEZDUmt8Ls","243Break_setting"),e("CheckOut");var i=e("UIPopupManager");cc.Class({extends:cc.Component,properties:{NhacNen:{default:null,type:cc.Toggle},NhacGame:{default:null,type:cc.Toggle}},onLoad:function(){},onEnable:function(){this.node.runAction(i.Instance.actionShow)},onDisable:function(){},OnChangerNhacNen:function(){cc.RedT.setSoundBackground(this.NhacNen.isChecked),this.NhacNen.isChecked?cc.RedT.inGame.playMusic():cc.RedT.inGame.pauseMusic()},OnChangerNhacGame:function(){cc.RedT.setSoundGame(this.NhacGame.isChecked),this.NhacGame.isChecked?cc.RedT.IS_SOUND=!0:cc.RedT.IS_SOUND=!1}}),cc._RF.pop()},{CheckOut:"CheckOut",UIPopupManager:"UIPopupManager"}],"243Break_top":[function(e,t){"use strict";cc._RF.push(t,"09571IhKSJAYqdljlfjVBZS","243Break_top");var i=e("Helper");cc.Class({extends:cc.Component,properties:{item:cc.Prefab,content:cc.Node,red:!0},onEnable:function(){this.get_data()},get_data:function(e){void 0===e&&(e=1),cc.RedT.send({g:{slot243Sap:{top:this.red}}})},changerCoint:function(){this.red=!this.red,this.get_data()},onResponseServer:function(e){this.content.removeAllChildren();var t=this;Promise.all(e.map(function(e,n){var a=cc.instantiate(t.item),o=a.getComponent("VQRed_history_item");o.time.string=i.getStringDateByTime(e.time),o.phien.string=e.name,o.cuoc.string=i.numberWithCommas(e.bet),o.line.string=i.numberWithCommas(e.win),o.win.string=2==e.type?"Jackpot":"Big Win",a.children[0].active=!(1&n),t.content.addChild(a)}))}}),cc._RF.pop()},{Helper:"Helper"}],"243Break":[function(e,t){"use strict";cc._RF.push(t,"00077//EsJDq6X3vwiqr7qu","243Break");var i=e("Helper"),n=e("243Break_reel"),a=e("243Break_lines"),o=e("243Break_playBonus"),s=e("Notice"),c=e("243Break_dialog"),r=e("Admob"),l=e("UIPopupManager");cc.Class({extends:cc.Component,properties:{gameBonus:o,audioBG:cc.AudioSource,audioClickSpin:{default:null,type:cc.AudioClip},audioClick:{default:null,type:cc.AudioClip},audioWin:{default:null,type:cc.AudioClip},audioBigWin:{default:null,type:cc.AudioClip},audioJackpot:{default:null,type:cc.AudioClip},reels:{default:[],type:n},icon:cc.Prefab,icons:{default:[],type:cc.SpriteFrame},fontCong:{default:null,type:cc.BitmapFont},betString:{default:[],type:cc.String},nodeNotice:cc.Node,prefabNotice:cc.Prefab,prefabBox:cc.Prefab,loading:cc.Node,notice:s,dialog:c,Line:a,huMini:cc.Label,huMinor:cc.Label,huMajor:cc.Label,huGrand:cc.Label,taikhoan:cc.Label,tong:cc.Label,vuathang:cc.Label,bet:cc.Label,freeLabel:cc.Label,freebutton:cc.Node,bonusProgress:cc.Sprite,plusBonusLabel:cc.Label,BigWin:cc.Animation,BigWin_Label:cc.Label,EF_Bonus:cc.Animation,EF_Free:cc.Animation,buttonHomeOff:cc.Node,buttonSpin:cc.Node,efline:cc.Node,efbonusfly:cc.Node,buttonStop:cc.Node,holdSpin:cc.Node,spinTimes:cc.Label,wallBlock:cc.Node,isAuto:!1,isSpin:!1,isFreeSpin:!1,red:!0,betSelect:0,buttonArrowLeft:cc.Node,buttonArrowRight:cc.Node,maxBetBtn:cc.Node},onLoad:function(){cc.director.getPhysicsManager().enabled=!0,cc.director.getPhysicsManager().gravity=cc.v2(0,-1500),cc.RedT.inGame=this,cc.RedT.IS_SOUND=!0;var e=this;this.Line.init(this),this.BigWin.on("finished",this.BigWinFinish,this),this.BigWin.on("play",this.BigWinPlay,this),this.EF_Free.on("finished",this.EF_FreeFinish,this),this.EF_Bonus.on("finished",this.EF_BonusFinish,this),this.gameBonus.init(this),this.dialog.init(),this.buttonStop.active=!1,this.holdSpin.active=!0,this.autoTimes=null,this.currentCel=[],this.spinTimes.string="",Promise.all(this.reels.map(function(t){t.init(e)})),cc.RedT.send({scene:"243Break"}),this.taikhoan.string=i.numberWithCommas(cc.RedT.user.red),this.speed=400,localStorage.setItem("playing_game","243Break"),localStorage.setItem("playing_money",5e4),this.bonusProgress.fillRange=(localStorage.getItem(this.bet.string+"bonusMineMiner"+cc.RedT.user.UID)?localStorage.getItem(this.bet.string+"bonusMineMiner"+cc.RedT.user.UID):0)/100,i.setReceivedRewardMustSeeAds(cc.RedT.user.receivedRewardTime)},onEnable:function(){this.buttonSpin.on(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.buttonSpin.on(cc.Node.EventType.TOUCH_END,this.eventEnd,this)},onDisable:function(){this.buttonSpin.off(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.buttonSpin.off(cc.Node.EventType.TOUCH_END,this.eventEnd,this)},_playSFX:function(e){cc.RedT.IS_SOUND&&cc.audioEngine.playEffect(e,!1)},playClick:function(){this._playSFX(this.audioClick)},closeHoldSpin:function(){this.holdSpin.active=!1},onHoldSpin:function(){this.buttonArrowLeft.pauseSystemEvents(),this.buttonArrowRight.pauseSystemEvents(),this.maxBetBtn.pauseSystemEvents(),this.buttonSpin.on(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.buttonSpin.on(cc.Node.EventType.MOUSE_DOWN,this.eventStart,this),this.buttonSpin.on(cc.Node.EventType.MOUSE_UP,this.eventEnd,this)},eventStart:function(){var e=this,t=0;void 0!==this.timeInterval&&clearInterval(this.timeInterval),this.isHold=!1,this.timeInterval=setInterval(function(){1==++t&&(e.holdSpin.active=!0,e.isHolding(),e.clearinterval())},1e3)},isHolding:function(){this.isHold=!0},clearinterval:function(){null!=this.timeInterval&&(clearInterval(this.timeInterval),this.timeInterval=null)},eventEnd:function(){this.isHold||(this.onClickSpin(),null!=this.timeInterval&&(clearInterval(this.timeInterval),this.timeInterval=null))},onSpinTimes:function(e,t){this.spinTimes.string=-1==t?"\u221e":t,this.autoTimes=t-1,this.holdSpin.active=!1,this.onClickSpin(),this.onAuto()},BigWinPlay:function(){var e=cc.callFunc(function(){this._playSFX(this.audioBigWin),i.numberTo(this.BigWin_Label,0,this.H_win,2e3,!0)},this);this.BigWin.node.runAction(cc.sequence(cc.delayTime(.3),e))},BigWinFinish:function(){this.isBigWin=!1,this.BigWin.node.active=!1,this.BigWin_Label.string="",this.showLineWin(!1),this.hieuUng()},EF_BonusFinish:function(){this.EF_Bonus.node.active=!1,this.gameBonus.onPlay(this.isBonus),this.isBonus=0,this.showLineWin(!1)},EF_FreeFinish:function(){this.isFree=!1,this.EF_Free.node.active=!1,this.showLineWin(!1),this.hieuUng()},onData:function(e){void 0!==e.user&&(this.m_user=e.user,this.userData(e.user),cc.RedT.userData(e.user)),void 0!==e.slot243Sap&&(e.slot243Sap.sapItems?(this.SapMatrix(e.slot243Sap.sapItems),this.TwoFourThreeBreak(e.slot243Sap.normalMatrix),this.countBonusItems(e.slot243Sap.sapItems)):e.slot243Sap&&(this.TwoFourThreeBreak(e.slot243Sap),e.slot243Sap.cel&&this.countBonusItems(e.slot243Sap.cel))),void 0!==e.TopHu&&this.onGetHu(),void 0!==e.notice&&this.addNotice(e.notice)},userData:function(e){e.red&&(this.taikhoan.string=i.numberWithCommas(e.red))},SapMatrix:function(e){Promise.all(this.reels.map(function(t,i){t.addItems(e[i])}))},TwoFourThreeBreak:function(e){var t=this;e.winCel&&(this.EfWin=e.winCel,this.winCel=this.checkIsWinMatrix(e.winCel)),void 0!==e.status&&(this.currentCel=e.cel,1===e.status?(e.cel&&Promise.all(e.cel.map(function(e,i){Promise.all(e.map(function(e,n){t.reels[i].icons[17-n].setIcon(e,!0)}))})),this.runReels(),this.H_line_win=e.line_win,this.H_win=e.win,this.H_free=e.free,this.isBonus=e.isBonus,this.isNoHu=e.isNoHu,this.isBigWin=e.isBigWin,this.isFree=e.isFree,this.isFreeSpin=!!e.free,this.isSap=!1):2===e.status?(this.setSpin(),this.H_line_win=e.line_win,this.H_win=e.win,this.H_free=e.free,this.isBonus=e.isBonus,this.isNoHu=e.isNoHu,this.isBigWin=e.isBigWin,this.isFree=e.isFree,this.isFreeSpin=!!e.free,t=this,this.timeOutSap=setTimeout(function(){t.EF_vuathang(),t.hieuUng()},1200),this.isSap=!0):this.resetSpin(),this.H_free||this.autoTimes||this.winCel?(this.buttonArrowLeft.pauseSystemEvents(),this.buttonArrowRight.pauseSystemEvents(),this.maxBetBtn.pauseSystemEvents()):(this.buttonArrowLeft.resumeSystemEvents(),this.buttonArrowRight.resumeSystemEvents(),this.maxBetBtn.resumeSystemEvents())),e.bonus&&this.gameBonus.onResponseServer(e.bonus),e.log&&this.dialog.history.onResponseServer(e.log),e.top&&this.dialog.top.onResponseServer(e.top),e.notice&&this.addNotice(e.notice)},EF_vuathang:function(){this.showLineWin(!0),this.winCel&&this.fadeWinItem(this.winCel),this.vuathang.string=i.numberWithCommas(parseInt(this.vuathang.string.replace(".",""))+this.H_win),this.buttonSpin.active=!this.H_free,this.freeLabel.string=this.H_free,this.freebutton.active=this.freeLabel.node.active=this.buttonHomeOff.active=!!this.H_free,this.buttonStop.active=!!this.autoTimes},onLineWin:function(e){var t=this;this.EfWin&&Promise.all(this.EfWin.map(function(i,n){t.efline.children[n].children.forEach(function(t,n){i[n]>=0&&(t.active=e,t._components[0].setAnimation(0,"animation",!1))})}))},showLineWin:function(e){this.onLineWin(e)},hieuUng:function(){var e=this;if(this.isBigWin&&!this.isNoHu)this.BigWin.node.active=!0,this.BigWin.play(),this.oldBigWin=!0;else if(this.isBonus)this.EF_Bonus.node.active=!0,this.EF_Bonus.play(),cc.RedT.audio.playEf("bonus");else if(this.isFree)this.EF_Free.node.active=!0,this.EF_Free.play();else if(this.H_win>0){var t={red:this.m_user.red};t.red+=this.H_win,cc.RedT.userData(t),this.userData(t),this.m_user=null;var n=new cc.Node;n.addComponent(cc.Label),(n=n.getComponent(cc.Label)).string="+"+i.numberWithCommas(this.H_win),n.font=this.fontCong,n.lineHeight=130,n.fontSize=30,n.node.position=cc.v2(0,21),this.nodeNotice.addChild(n.node),!this.oldBigWin&&this._playSFX(this.audioWin),n.node.runAction(cc.sequence(cc.moveTo(1.2,cc.v2(0,105)),cc.callFunc(function(){if(this.speed=0,n.node.destroy(),this.hieuUng(),this.winCel){var e=[];this.onLineWin(!1),(0==this.isAuto&&0==this.isFreeSpin||0==this.autoTimes)&&(this.removeWinItem(this.winCel),this.destroyCel(),e=this.getCelLeft(this.currentCel,this.winCel),localStorage.getItem(this.bet.string+"bonusMineMiner"+cc.RedT.user.UID)>=100?(cc.RedT.send({g:{slot243Sap:{sap:{cuoc:i.getOnlyNumberInString(this.bet.string),celLeft:e,bonus:!0}}}}),localStorage.setItem(this.bet.string+"bonusMineMiner"+cc.RedT.user.UID,0),this.bonusProgress.fillRange=0):cc.RedT.send({g:{slot243Sap:{sap:{cuoc:i.getOnlyNumberInString(this.bet.string),celLeft:e}}}}))}else this.showLineWin(!1)},this))),this.H_win=0,this.oldBigWin=!1}else!this.winCel&&this.isSap&&Promise.all(this.reels.map(function(t){t.reStoreReel(e)})),this.isAuto||this.isFreeSpin?this.timeOut=setTimeout(function(){this.onAutoSpin(),this.speed=400}.bind(this),this.speed):this.winCel||this.resetSpin()},onChangerBetRight:function(){this._playSFX(this.audioClick),this.betSelect++,this.betSelect>6&&(this.betSelect=0),this.bet.string=this.betString[this.betSelect],this.bonusProgress.fillRange=(localStorage.getItem(this.bet.string+"bonusMineMiner"+cc.RedT.user.UID)?localStorage.getItem(this.bet.string+"bonusMineMiner"+cc.RedT.user.UID):0)/100,this.tong.string=i.numberWithCommas(i.getOnlyNumberInString(this.bet.string)),this.onGetHu()},onChangerBetLeft:function(){this._playSFX(this.audioClick),this.betSelect--,this.betSelect<0&&(this.betSelect=6),this.bet.string=this.betString[this.betSelect],this.bonusProgress.fillRange=(localStorage.getItem(this.bet.string+"bonusMineMiner"+cc.RedT.user.UID)?localStorage.getItem(this.bet.string+"bonusMineMiner"+cc.RedT.user.UID):0)/100,this.tong.string=i.numberWithCommas(i.getOnlyNumberInString(this.bet.string)),this.onGetHu()},onChangerMaxBet:function(){this._playSFX(this.audioClick),this.betSelect=6,this.bet.string=this.betString[this.betSelect],this.bonusProgress.fillRange=(localStorage.getItem(this.bet.string+"bonusMineMiner"+cc.RedT.user.UID)?localStorage.getItem(this.bet.string+"bonusMineMiner"+cc.RedT.user.UID):0)/100,this.tong.string=i.numberWithCommas(i.getOnlyNumberInString(this.bet.string)),this.onGetHu()},changerCoint:function(){this.red=!this.red,this.userData(cc.RedT.user),this.onGetHu()},onClickAuto:function(){this._playSFX(this.audioClick),this.onAuto()},onAuto:function(){this.isAuto=!0,this.isFreeSpin?this.buttonStop.active=!1:this.buttonStop.active=this.isSpin},onClickSpin:function(){this.holdSpin.active=!1,this.onSpin()},onAutoSpin:function(){this.isFreeSpin?(this.buttonStop.active=!1,this.spinTimes.string="",this.holdSpin.active=!1,this._playSFX(this.audioClickSpin),this.winCel?this.onFreeSpin():this.onGetSpin()):null!=this.autoTimes&&(this.buttonStop.active=!0,this.autoTimes<0?(cc.RedT.IS_SOUND&&this._playSFX(this.audioClick),this.spinTimes.string="\u221e",this.winCel?this.onFreeSpin():this.onGetSpin()):this.autoTimes>0?(cc.RedT.IS_SOUND&&this._playSFX(this.audioClick),this.spinTimes.string=this.autoTimes,this.winCel?this.onFreeSpin():(this.autoTimes--,this.onGetSpin())):(cc.RedT.IS_SOUND&&this._playSFX(this.audioClick),this.spinTimes.string="",this.onClickStop(),this.resetSpin()))},onFreeSpin:function(){var e;this.onLineWin(!1),this.removeWinItem(this.winCel),this.destroyCel(),e=this.getCelLeft(this.currentCel,this.winCel),localStorage.getItem(this.bet.string+"bonusMineMiner"+cc.RedT.user.UID)>=100?(cc.RedT.send({g:{slot243Sap:{sap:{cuoc:i.getOnlyNumberInString(this.bet.string),celLeft:e,bonus:!0}}}}),localStorage.setItem(this.bet.string+"bonusMineMiner"+cc.RedT.user.UID,0),this.bonusProgress.fillRange=0):cc.RedT.send({g:{slot243Sap:{sap:{cuoc:i.getOnlyNumberInString(this.bet.string),celLeft:e}}}})},onClickStop:function(){this.autoTimes=null,this.spinTimes.string="",cc.RedT.audio.playClick(),this.onStop()},onStop:function(){this.isAuto=this.buttonStop.active=!1},onSpin:function(){this.isSpin||(this._playSFX(this.audioClickSpin),this.node.stopAllActions(),void 0!==this.eflineN&&void 0!==this.H_line_win&&this.H_line_win.length,this.eflineO=this.eflineN=0,this.isSpin=!0,this.setSpin(),this.onGetSpin())},setSpin:function(){this.buttonSpin.pauseSystemEvents()},resetSpin:function(){this.isAuto&&this.onAuto(),this.isSpin=this.buttonStop.active=!1,this.spinTimes.string="",this.buttonSpin.resumeSystemEvents()},runReels:function(){Promise.all(this.reels.map(function(e,t){e.spin(t)}))},copy:function(){Promise.all(this.reels.map(function(e){e.icons[0].setIcon(e.icons[15].data),e.icons[1].setIcon(e.icons[16].data),e.icons[2].setIcon(e.icons[17].data)}))},random:function(){Promise.all(this.reels.map(function(e){Promise.all(e.icons.map(function(t,i){i>2&&i<e.icons.length-3&&t.random()}))}))},destroyCel:function(){Promise.all(this.reels.map(function(e){e.destroyOther()}))},onGetSpin:function(){var e=this;0==i.checkShowNoAdsUser(cc.RedT.user.receivedRewardTime,cc.RedT.user.noAdsUser)?(r.Instance.showRewardedMustSeeAds(),this.timeOutSap=setTimeout(function(){e.vuathang.string=0,cc.director.getPhysicsManager().enabled=!1,e.wallBlock.active=!1,localStorage.getItem(e.bet.string+"bonusMineMiner"+cc.RedT.user.UID)>=100?(cc.RedT.send({g:{slot243Sap:{spin:{cuoc:i.getOnlyNumberInString(e.bet.string),bonus:!0}}}}),localStorage.setItem(e.bet.string+"bonusMineMiner"+cc.RedT.user.UID,0),e.bonusProgress.fillRange=0):cc.RedT.send({g:{slot243Sap:{spin:{cuoc:i.getOnlyNumberInString(e.bet.string)}}}})},5e3)):(this.vuathang.string=0,cc.director.getPhysicsManager().enabled=!1,this.wallBlock.active=!1,localStorage.getItem(this.bet.string+"bonusMineMiner"+cc.RedT.user.UID)>=100?(cc.RedT.send({g:{slot243Sap:{spin:{cuoc:i.getOnlyNumberInString(this.bet.string),bonus:!0}}}}),localStorage.setItem(this.bet.string+"bonusMineMiner"+cc.RedT.user.UID,0),this.bonusProgress.fillRange=0):cc.RedT.send({g:{slot243Sap:{spin:{cuoc:i.getOnlyNumberInString(this.bet.string)}}}}))},addNotice:function(e){"string"==typeof e?l.Instance.notice.show({title:i.getLang(cc.RedT.language,"taixiu_notice"),text:e}):void 0!==e.button?l.Instance.notice.show({title:e.title,text:e.text,button:{text:"notice",type:"watchVideo"}}):l.Instance.notice.show({title:e.title,text:e.text})},backGame:function(){this.loading.active=!0,void 0===this.timeOut&&null==this.timeOut||(clearTimeout(this.timeOut),this.timeOut=null),void 0===this.timeOutSap&&null==this.timeOutSap||(clearTimeout(this.timeOutSap),this.timeOutSap=null),localStorage.setItem("playing_game",""),localStorage.setItem("playing_money",0),cc.director.preloadScene("MainGame",function(){cc.director.loadScene("MainGame")})},signOut:function(){cc.director.preloadScene("MainGame",function(){cc.director.loadScene("MainGame"),cc.RedT.inGame.signOut()})},onGetHu:function(){var e=this;if(void 0!==cc.RedT.setting.topHu&&void 0!==cc.RedT.setting.topHu.data){var t=this,n=i.getOnlyNumberInString(t.bet.string);Promise.all(cc.RedT.setting.topHu.data.slot243Sap.filter(function(e){return e.type==n&&e.red==t.red})).then(function(t){var n=i.getOnlyNumberInString(e.huMini.string),a=t&&t[0]&&t[0].bet_mini?t[0].bet_mini:0;n-a!=0&&i.numberTo(e.huMini,n,a,2e3,!0);var o=i.getOnlyNumberInString(e.huMinor.string),s=t&&t[0]&&t[0].bet_minor?t[0].bet_minor:0;o-s!=0&&i.numberTo(e.huMinor,o,s,2e3,!0);var c=i.getOnlyNumberInString(e.huMajor.string),r=t&&t[0]&&t[0].bet_major?t[0].bet_major:0;c-r!=0&&i.numberTo(e.huMajor,c,r,2e3,!0);var l=i.getOnlyNumberInString(e.huGrand.string),h=t&&t[0]&&t[0].bet_grand?t[0].bet_grand:0;l-h!=0&&i.numberTo(e.huGrand,l,h,2e3,!0)})}},playMusic:function(){null!=this&&null!=this.audioBG&&this.audioBG.play()},pauseMusic:function(){null!=this&&null!=this.audioBG&&this.audioBG.pause()},removeWinItem:function(e){this.wallBlock.active=!0,cc.director.getPhysicsManager().enabled=!0;var t=this;Promise.all(e.map(function(e,i){Promise.all(e.map(function(e,n){e>=0&&t.reels[i].node._children[2-n]&&t.reels[i].node._children[2-n].destroy()}))}))},fadeWinItem:function(e){this.wallBlock.active=!0,cc.director.getPhysicsManager().enabled=!0;var t=this;Promise.all(e.map(function(e,i){Promise.all(e.map(function(e,n){e>=0&&t.reels[i].node._children[2-n]&&t.reels[i].node._children[2-n].runAction(cc.fadeTo(.5,0))}))}))},checkIsWinMatrix:function(e){var t=!1;return e.forEach(function(e){e.forEach(function(e){e>=0&&(t=!0)})}),this.winCel=t?e:null,this.winCel},getCelLeft:function(e,t){return e.forEach(function(i,n){t[n].forEach(function(t,i){t>=0&&(e[n][i]=-1)});for(var a=e[n].length;a--;)e[n][a]<0&&e[n].splice(a,1)}),e},changeIcon:function(){Promise.all(this.reels.map(function(e){e.icons[17].setIcon(0),e.icons[16].setIcon(0),e.icons[15].setIcon(0)}))},countBonusItems:function(e){var t=0,i=this;if(e.forEach(function(e){e.forEach(function(e){8==e&&(t+=1)})}),t>0){localStorage.setItem(this.bet.string+"bonusMineMiner"+cc.RedT.user.UID,(localStorage.getItem(this.bet.string+"bonusMineMiner"+cc.RedT.user.UID)?parseInt(localStorage.getItem(this.bet.string+"bonusMineMiner"+cc.RedT.user.UID)):0)+t);var n=cc.callFunc(function(){e.map(function(e,t){i.efbonusfly.children[t].children.forEach(function(t,i){8==e[i]&&(t.active=!0,t._components[0].setAnimation(0,"animation",!1))})})}),a=cc.callFunc(function(){this.bonusProgress.fillRange=localStorage.getItem(this.bet.string+"bonusMineMiner"+cc.RedT.user.UID)/100,e.map(function(e,t){i.efbonusfly.children[t].children.forEach(function(t,i){8==e[i]&&(t.active=!1)})})},this);this.bonusProgress.node.runAction(cc.sequence(cc.delayTime(1.2),n,cc.delayTime(1.2),a))}}}),cc._RF.pop()},{"243Break_dialog":"243Break_dialog","243Break_lines":"243Break_lines","243Break_playBonus":"243Break_playBonus","243Break_reel":"243Break_reel",Admob:"Admob",Helper:"Helper",Notice:"Notice",UIPopupManager:"UIPopupManager"}],"243WaySlot_bonus_item":[function(e,t){"use strict";cc._RF.push(t,"5e0507qIFdBzK5vkUd+lOQr","243WaySlot_bonus_item"),cc.Class({extends:cc.Component,properties:{open:sp.Skeleton,close:cc.Node,text:cc.Label}}),cc._RF.pop()},{}],"243WaySlot_dialog":[function(e,t){"use strict";cc._RF.push(t,"73b04BBxwpPmJZjKv1s2RS5","243WaySlot_dialog");var i=e("243WaySlot_history"),n=e("243WaySlot_top"),a=e("243WaySlot_setting");cc.Class({extends:cc.Component,properties:{history:i,top:n,help:cc.PageView,setting:a},init:function(){this.actionShow=cc.spawn(cc.scaleTo(.5,1).easing(cc.easeBackOut(2.5)),cc.fadeTo(.5,255)),this.objShow=null,this.objTmp=null},onClickBack:function(){cc.RedT.audio.playUnClick(),this.onBack()},onBack:function(){null!=this.objShow?null==this.objShow.previous||null==this.objShow.previous?(this.objShow.active=!1,this.node.active=!1,this.objShow=null):(this.objTmp=this.objShow,this.objShow=this.objShow.previous,this.objTmp.previous=null,this.objTmp.active=!1,this.objShow.active=!0,this.objTmp=null):this.node.active=!1},onClosePrevious:function(e){void 0!==e.previous&&null!==e.previous&&(this.onClosePrevious(e.previous),delete e.previous),e.active=!1},onCloseDialog:function(){null!=this.objShow?null==this.objShow.previous||null==this.objShow.previous?(this.objShow.active=this.node.active=!1,this.objShow=null):(this.onClosePrevious(this.objShow.previous),this.objShow.active=this.node.active=!1,delete this.objShow.previous,this.objShow=null):this.node.active=!1},resetSizeDialog:function(e){e.stopAllActions(),e.scale=.5,e.opacity=0},showHistory:function(){this.node.active=this.setting.node.active=!1,this.node.active=this.history.node.active=!0,this.objShow=this.history.node},showTop:function(){this.node.active=this.setting.node.active=!1,this.node.active=this.top.node.active=!0,this.objShow=this.top.node},showHelp:function(){this.node.active=this.help.node.active=!0,this.objShow=this.help.node},showSetting:function(){this.node.active=this.setting.node.active=!0,this.objShow=this.setting.node},onclickLeftGuide:function(){this.help._curPageIdx>0&&this.help.scrollToPage(this.help._curPageIdx-1,1.5)},onclickRightGuide:function(){this.help._curPageIdx<this.help._pages.length-1&&this.help.scrollToPage(this.help._curPageIdx+1,1.5)}}),cc._RF.pop()},{"243WaySlot_history":"243WaySlot_history","243WaySlot_setting":"243WaySlot_setting","243WaySlot_top":"243WaySlot_top"}],"243WaySlot_history":[function(e,t){"use strict";cc._RF.push(t,"af20bIOg/tGM7LfZwz9/6ia","243WaySlot_history");var i=e("Helper");cc.Class({extends:cc.Component,properties:{page:cc.Prefab,content:cc.Node,red:!0},onLoad:function(){var e=this,t=cc.instantiate(this.page);t.y=-285,this.node.addChild(t),this.page=t.getComponent("Pagination"),Promise.all(this.content.children.map(function(e){return e.getComponent("VQRed_history_item")})).then(function(t){e.content=t}),this.page.init(this)},onEnable:function(){this.get_data()},get_data:function(e){void 0===e&&(e=1),cc.RedT.send({g:{slot243:{log:{red:this.red,page:e}}}})},changerCoint:function(){this.red=!this.red,this.get_data()},onResponseServer:function(e){this.page.onSet(e.page,e.kmess,e.total),Promise.all(this.content.map(function(t,n){var a=e.data[n];void 0!==a?(t.node.active=!0,t.time.string=i.getStringDateByTime(a.time),t.phien.string=a.id,t.cuoc.string=i.numberWithCommas(a.bet),t.win.string=a.line+i.getLang(cc.RedT.language,"line_history"),t.line.string=i.numberWithCommas(a.win)):t.node.active=!1}))}}),cc._RF.pop()},{Helper:"Helper"}],"243WaySlot_iline":[function(e,t){"use strict";cc._RF.push(t,"a21eeBJEzpH1qHmoub1qyAy","243WaySlot_iline"),cc.Class({extends:cc.Component,properties:{line:cc.Node,ef:!1},onEnable:function(){this.node.on(cc.Node.EventType.MOUSE_ENTER,this.onShow,this),this.node.on(cc.Node.EventType.MOUSE_LEAVE,this.onHidden,this)},onDisable:function(){this.node.off(cc.Node.EventType.MOUSE_ENTER,this.onShow,this),this.node.off(cc.Node.EventType.MOUSE_LEAVE,this.onHidden,this)},onShow:function(){this.line.active=!0},onHidden:function(){!this.ef&&(this.line.active=!1)}}),cc._RF.pop()},{}],"243WaySlot_item":[function(e,t){"use strict";cc._RF.push(t,"d5175AKActDp6Htfp4HsgL5","243WaySlot_item"),cc.Class({extends:cc.Component,properties:{icon:cc.Sprite,free:cc.Node,bonus:cc.Node,hu:cc.Node,wind:cc.Node},init:function(e){this.RedT=e},random:function(){var e=11*Math.random()>>0;return this.setIcon(e),e},setIcon:function(e,t){void 0===t&&(t=!1),12==e?(this.bonus.active=!0,this.icon.node.active=this.free.active=this.wind.active=this.hu.active=!1):11==e?(this.free.active=!0,this.icon.node.active=this.wind.active=this.bonus.active=this.hu.active=!1):10==e?(this.wind.active=!0,this.icon.node.active=this.free.active=this.bonus.active=this.hu.active=!1):(this.icon.node.active=!0,this.icon.spriteFrame=this.RedT.icons[e],this.free.active=this.wind.active=this.bonus.active=this.hu.active=!1),t&&(this.data=e)}}),cc._RF.pop()},{}],"243WaySlot_lines":[function(e,t){"use strict";cc._RF.push(t,"4ead9g+2adODbaeZR523+4l","243WaySlot_lines");var i=e("Helper");cc.Class({extends:cc.Component,properties:{lines:cc.Node,mainLines:cc.Node},init:function(e){var t=this;this.linew={1:[0,0,0,0,0],2:[0,0,0,0,1],3:[0,0,0,0,2],4:[0,0,0,1,0],5:[0,0,0,1,1],6:[0,0,0,1,2],7:[0,0,0,2,0],8:[0,0,0,2,1],9:[0,0,0,2,2],10:[0,0,1,0,0],11:[0,0,1,0,1],12:[0,0,1,0,2],13:[0,0,1,1,0],14:[0,0,1,1,1],15:[0,0,1,1,2],16:[0,0,1,2,0],17:[0,0,1,2,1],18:[0,0,1,2,2],19:[0,0,2,0,0],20:[0,0,2,0,1],21:[0,0,2,0,2],22:[0,0,2,1,0],23:[0,0,2,1,1],24:[0,0,2,1,2],25:[0,0,2,2,0],26:[0,0,2,2,1],27:[0,0,2,2,2],28:[0,1,0,0,0],29:[0,1,0,0,1],30:[0,1,0,0,2],31:[0,1,0,1,0],32:[0,1,0,1,1],33:[0,1,0,1,2],34:[0,1,0,2,0],35:[0,1,0,2,1],36:[0,1,0,2,2],37:[0,1,1,0,0],38:[0,1,1,0,1],39:[0,1,1,0,2],40:[0,1,1,1,0],41:[0,1,1,1,1],42:[0,1,1,1,2],43:[0,1,1,2,0],44:[0,1,1,2,1],45:[0,1,1,2,2],46:[0,1,2,0,0],47:[0,1,2,0,1],48:[0,1,2,0,2],49:[0,1,2,1,0],50:[0,1,2,1,1],51:[0,1,2,1,2],52:[0,1,2,2,0],53:[0,1,2,2,1],54:[0,1,2,2,2],55:[0,2,0,0,0],56:[0,2,0,0,1],57:[0,2,0,0,2],58:[0,2,0,1,0],59:[0,2,0,1,1],60:[0,2,0,1,2],61:[0,2,0,2,0],62:[0,2,0,2,1],63:[0,2,0,2,2],64:[0,2,1,0,0],65:[0,2,1,0,1],66:[0,2,1,0,2],67:[0,2,1,1,0],68:[0,2,1,1,1],69:[0,2,1,1,2],70:[0,2,1,2,0],71:[0,2,1,2,1],72:[0,2,1,2,2],73:[0,2,2,0,0],74:[0,2,2,0,1],75:[0,2,2,0,2],76:[0,2,2,1,0],77:[0,2,2,1,1],78:[0,2,2,1,2],79:[0,2,2,2,0],80:[0,2,2,2,1],81:[0,2,2,2,2],82:[1,0,0,0,0],83:[1,0,0,0,1],84:[1,0,0,0,2],85:[1,0,0,1,0],86:[1,0,0,1,1],87:[1,0,0,1,2],88:[1,0,0,2,0],89:[1,0,0,2,1],90:[1,0,0,2,2],91:[1,0,1,0,0],92:[1,0,1,0,1],93:[1,0,1,0,2],94:[1,0,1,1,0],95:[1,0,1,1,1],96:[1,0,1,1,2],97:[1,0,1,2,0],98:[1,0,1,2,1],99:[1,0,1,2,2],100:[1,0,2,0,0],101:[1,0,2,0,1],102:[1,0,2,0,2],103:[1,0,2,1,0],104:[1,0,2,1,1],105:[1,0,2,1,2],106:[1,0,2,2,0],107:[1,0,2,2,1],108:[1,0,2,2,2],109:[1,1,0,0,0],110:[1,1,0,0,1],111:[1,1,0,0,2],112:[1,1,0,1,0],113:[1,1,0,1,1],114:[1,1,0,1,2],115:[1,1,0,2,0],116:[1,1,0,2,1],117:[1,1,0,2,2],118:[1,1,1,0,0],119:[1,1,1,0,1],120:[1,1,1,0,2],121:[1,1,1,1,0],122:[1,1,1,1,1],123:[1,1,1,1,2],124:[1,1,1,2,0],125:[1,1,1,2,1],126:[1,1,1,2,2],127:[1,1,2,0,0],128:[1,1,2,0,1],129:[1,1,2,0,2],130:[1,1,2,1,0],131:[1,1,2,1,1],132:[1,1,2,1,2],133:[1,1,2,2,0],134:[1,1,2,2,1],135:[1,1,2,2,2],136:[1,2,0,0,0],137:[1,2,0,0,1],138:[1,2,0,0,2],139:[1,2,0,1,0],140:[1,2,0,1,1],141:[1,2,0,1,2],142:[1,2,0,2,0],143:[1,2,0,2,1],144:[1,2,0,2,2],145:[1,2,1,0,0],146:[1,2,1,0,1],147:[1,2,1,0,2],148:[1,2,1,1,0],149:[1,2,1,1,1],150:[1,2,1,1,2],151:[1,2,1,2,0],152:[1,2,1,2,1],153:[1,2,1,2,2],154:[1,2,2,0,0],155:[1,2,2,0,1],156:[1,2,2,0,2],157:[1,2,2,1,0],158:[1,2,2,1,1],159:[1,2,2,1,2],160:[1,2,2,2,0],161:[1,2,2,2,1],162:[1,2,2,2,2],163:[2,0,0,0,0],164:[2,0,0,0,1],165:[2,0,0,0,2],166:[2,0,0,1,0],167:[2,0,0,1,1],168:[2,0,0,1,2],169:[2,0,0,2,0],170:[2,0,0,2,1],171:[2,0,0,2,2],172:[2,0,1,0,0],173:[2,0,1,0,1],174:[2,0,1,0,2],175:[2,0,1,1,0],176:[2,0,1,1,1],177:[2,0,1,1,2],178:[2,0,1,2,0],179:[2,0,1,2,1],180:[2,0,1,2,2],181:[2,0,2,0,0],182:[2,0,2,0,1],183:[2,0,2,0,2],184:[2,0,2,1,0],185:[2,0,2,1,1],186:[2,0,2,1,2],187:[2,0,2,2,0],188:[2,0,2,2,1],189:[2,0,2,2,2],190:[2,1,0,0,0],191:[2,1,0,0,1],192:[2,1,0,0,2],193:[2,1,0,1,0],194:[2,1,0,1,1],195:[2,1,0,1,2],196:[2,1,0,2,0],197:[2,1,0,2,1],198:[2,1,0,2,2],199:[2,1,1,0,0],200:[2,1,1,0,1],201:[2,1,1,0,2],202:[2,1,1,1,0],203:[2,1,1,1,1],204:[2,1,1,1,2],205:[2,1,1,2,0],206:[2,1,1,2,1],207:[2,1,1,2,2],208:[2,1,2,0,0],209:[2,1,2,0,1],210:[2,1,2,0,2],211:[2,1,2,1,0],212:[2,1,2,1,1],213:[2,1,2,1,2],214:[2,1,2,2,0],215:[2,1,2,2,1],216:[2,1,2,2,2],217:[2,2,0,0,0],218:[2,2,0,0,1],219:[2,2,0,0,2],220:[2,2,0,1,0],221:[2,2,0,1,1],222:[2,2,0,1,2],223:[2,2,0,2,0],224:[2,2,0,2,1],225:[2,2,0,2,2],226:[2,2,1,0,0],227:[2,2,1,0,1],228:[2,2,1,0,2],229:[2,2,1,1,0],230:[2,2,1,1,1],231:[2,2,1,1,2],232:[2,2,1,2,0],233:[2,2,1,2,1],234:[2,2,1,2,2],235:[2,2,2,0,0],236:[2,2,2,0,1],237:[2,2,2,0,2],238:[2,2,2,1,0],239:[2,2,2,1,1],240:[2,2,2,1,2],241:[2,2,2,2,0],242:[2,2,2,2,1],243:[2,2,2,2,2]},this.RedT=e,Promise.all(this.mainLines.children.map(function(e){return e.getComponent("243WaySlot_iline")})).then(function(e){t.mainLines=e}),this.select243()},onOpen:function(){this.node.active=!0},onClose:function(){this.RedT.playClick(),this.node.active&&this.data.length<1?this.RedT.notice.show({title:i.getLang(cc.RedT.language,"warning"),text:i.getLang(cc.RedT.language,"oneline_least")}):this.node.active=!1},select:function(e){this.RedT.playClick();var t=e.target;t.color._val!=cc.Color.WHITE._val?t.color=cc.Color.WHITE:t.color=t.color.fromHEX("#8A8A8A"),this.check()},check:function(){var e=this;Promise.all(this.lines.children.map(function(e,t){return e.color._val==cc.Color.WHITE._val?t+1:void 0})).then(function(t){Promise.all(t.filter(function(e){return void 0!==e})).then(function(t){e.data=t,e.RedT.labelLine.string=t.length,e.RedT.tong.string=i.numberWithCommas(t.length*i.getOnlyNumberInString(e.RedT.bet.string))})})},selectChan:function(){var e=this;Promise.all(this.lines.children.map(function(e,t){var i=t+1;if(!(i%2))return e.color=cc.Color.WHITE,i;e.color=e.color.fromHEX("#8A8A8A")})).then(function(t){Promise.all(t.filter(function(e){return void 0!==e})).then(function(t){e.data=t,e.RedT.labelLine.string=t.length,e.RedT.tong.string=i.numberWithCommas(t.length*i.getOnlyNumberInString(e.RedT.bet.string))})})},selectLe:function(){var e=this;Promise.all(this.lines.children.map(function(e,t){var i=t+1;if(i%2)return e.color=cc.Color.WHITE,i;e.color=e.color.fromHEX("#8A8A8A")})).then(function(t){Promise.all(t.filter(function(e){return void 0!==e})).then(function(t){e.data=t,e.RedT.labelLine.string=t.length,e.RedT.tong.string=i.numberWithCommas(t.length*i.getOnlyNumberInString(e.RedT.bet.string))})})},selectAll:function(e,t){var n=this;Promise.all(this.lines.children.map(function(e,i){var n="1"==t;return e.color=n?cc.Color.WHITE:e.color.fromHEX("#8A8A8A"),n?i+1:void 0})).then(function(e){Promise.all(e.filter(function(e){return void 0!==e})).then(function(e){n.data=e,n.RedT.labelLine.string=e.length,n.RedT.tong.string=i.numberWithCommas(e.length*i.getOnlyNumberInString(n.RedT.bet.string))})})},select243:function(){for(var e=[],t=1;t<=243;t++)e.push(t);this.data=e}}),cc._RF.pop()},{Helper:"Helper"}],"243WaySlot_playBonus":[function(e,t){"use strict";cc._RF.push(t,"64223R5QXJHJpQvpUBbudgP","243WaySlot_playBonus");var i=e("Helper");cc.Class({extends:cc.Component,properties:{numberBonus:cc.Label,listBox:cc.Node,notice:cc.Node,numberWin:cc.Label,NoHu:cc.Animation,NoHu_Label:cc.Label,icons:{default:[],type:sp.SkeletonData}},init:function(e){var t=this;this.RedT=e,Promise.all(this.listBox.children.map(function(e){return e.getComponent("243WaySlot_bonus_item")})).then(function(e){t.listBox=e}),this.NoHu.on("play",this.NoHuPlay,this)},onPlay:function(e){this.reset(),this.node.active=!0,this.numberBonus.string=e},onClickBox:function(e){this.numberBonus.string&&(this.RedT.playClick(),this.onSend(e.target.name))},closeNotice:function(){this.notice.active=this.node.active=!1,this.RedT.hieuUng()},onResponseServer:function(e){if(void 0!==e.box){var t=this.listBox[e.box];t.text.string=["MINI","MINOR","MAJOR","GRAND"][e.icon],"MINI"==t.text.string?t.open.skeletonData=this.icons[0]:"MINOR"==t.text.string?t.open.skeletonData=this.icons[1]:"MAJOR"==t.text.string?t.open.skeletonData=this.icons[2]:t.open.skeletonData=this.icons[3],t.open.defaultAnimation="animation",t.open.setAnimation(0,"animation",!0),t.open.node.active=!0,t.close.active=!1,this.numberBonus.string=e.bonus}void 0!==e.win&&(this.jackPotWin=e.win,this.NoHu.node.active=!0,this.NoHu.play(),this.RedT.vuathang.string=i.numberWithCommas(1*i.getOnlyNumberInString(this.RedT.vuathang.string)+e.win))},onSend:function(e){cc.RedT.send({g:{slot243:{bonus:{box:e}}}})},reset:function(){Promise.all(this.listBox.map(function(e){e.open.active=!1,e.close.active=!0,e.text.string=""}))},NoHuPlay:function(){var e=this;this.NoHu_Label.string="";var t=cc.callFunc(function(){this.RedT._playSFX(this.RedT.audioJackpot),i.numberTo(this.NoHu_Label,0,this.jackPotWin,2e3,!0)},this);this.NoHu.node.runAction(cc.sequence(cc.delayTime(.3),t));var n=cc.callFunc(function(){this.NoHu.node.active=!1,this.node.active=!1;for(var t=0;t<e.listBox.length;t++)e.listBox[t].open.node.active=!1;this.RedT.hieuUng()},this);this.NoHu.node.runAction(cc.sequence(cc.delayTime(4),n))}}),cc._RF.pop()},{Helper:"Helper"}],"243WaySlot_reel":[function(e,t){"use strict";cc._RF.push(t,"b655aEPGXRAhrJNx0xdRCvp","243WaySlot_reel"),cc.Class({extends:cc.Component,init:function(e){var t=this;this.RedT=e,this.icons=[];var i=this,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];Promise.all(n.map(function(e,t){var a=cc.instantiate(i.RedT.icon);return i.node.addChild(a),(a=a.getComponent("243WaySlot_item")).init(i.RedT),t>2&&t<n.length-3&&a.random(),a})).then(function(e){t.icons=e,t.icons[t.icons.length-1].setIcon(t.icons[4].random()),t.icons[t.icons.length-2].setIcon(t.icons[3].random()),t.icons[t.icons.length-3].setIcon(t.icons[2].random()),t.icons[t.icons.length-4].setIcon(t.icons[1].random()),t.icons[t.icons.length-5].setIcon(t.icons[0].random())})},spin:function(e){this.node.stopAllActions();var t=cc.moveTo(1,cc.v2(this.node.x,-(this.node.height-396-40))).easing(cc.easeInOut(3)),i=cc.callFunc(function(){0===e&&this.RedT.copy(),this.node.y=0},this);if(4===e){var n=cc.callFunc(function(){this.RedT.EF_vuathang(),this.node.y=0,this.RedT.random(),this.RedT.hieuUng()},this);this.node.runAction(cc.sequence(cc.delayTime(.1*e),t,n))}else this.node.runAction(cc.sequence(cc.delayTime(.1*e),t,i))},stop:function(){this.node.stopAllActions(),this.RedT.copy(),this.node.y=0}}),cc._RF.pop()},{}],"243WaySlot_setting":[function(e,t){"use strict";cc._RF.push(t,"b3533FDH0NLSquwWgpl1h56","243WaySlot_setting"),e("CheckOut");var i=e("UIPopupManager");cc.Class({extends:cc.Component,properties:{NhacNen:{default:null,type:cc.Toggle},NhacGame:{default:null,type:cc.Toggle}},onLoad:function(){},onEnable:function(){this.node.runAction(i.Instance.actionShow)},onDisable:function(){},OnChangerNhacNen:function(){cc.RedT.setSoundBackground(this.NhacNen.isChecked),this.NhacNen.isChecked?cc.RedT.inGame.playMusic():cc.RedT.inGame.pauseMusic()},OnChangerNhacGame:function(){cc.RedT.setSoundGame(this.NhacGame.isChecked),this.NhacGame.isChecked?cc.RedT.IS_SOUND=!0:cc.RedT.IS_SOUND=!1}}),cc._RF.pop()},{CheckOut:"CheckOut",UIPopupManager:"UIPopupManager"}],"243WaySlot_top":[function(e,t){"use strict";cc._RF.push(t,"776c69WE3lDw4Tqnow/oPeP","243WaySlot_top");var i=e("Helper");cc.Class({extends:cc.Component,properties:{item:cc.Prefab,content:cc.Node,red:!0},onEnable:function(){this.get_data()},get_data:function(e){void 0===e&&(e=1),cc.RedT.send({g:{slot243:{top:this.red}}})},changerCoint:function(){this.red=!this.red,this.get_data()},onResponseServer:function(e){this.content.removeAllChildren();var t=this;Promise.all(e.map(function(e,n){var a=cc.instantiate(t.item),o=a.getComponent("VQRed_history_item");o.time.string=i.getStringDateByTime(e.time),o.phien.string=e.name,o.cuoc.string=i.numberWithCommas(e.bet),o.line.string=i.numberWithCommas(e.win),o.win.string=2==e.type?"Jackpot":"Big Win",a.children[0].active=!(1&n),t.content.addChild(a)}))}}),cc._RF.pop()},{Helper:"Helper"}],"243WaySlot":[function(e,t){"use strict";cc._RF.push(t,"5b5d0tEpxJDAJsuSyRrcpCQ","243WaySlot");var i=e("Helper"),n=e("243WaySlot_reel"),a=e("243WaySlot_lines"),o=e("243WaySlot_playBonus"),s=e("Notice"),c=e("243WaySlot_dialog"),r=e("Admob"),l=e("UIPopupManager");cc.Class({extends:cc.Component,properties:{gameBonus:o,audioBG:cc.AudioSource,audioClickSpin:{default:null,type:cc.AudioClip},audioClick:{default:null,type:cc.AudioClip},audioWin:{default:null,type:cc.AudioClip},audioBigWin:{default:null,type:cc.AudioClip},audioJackpot:{default:null,type:cc.AudioClip},redhat:cc.Node,reels:{default:[],type:n},icon:cc.Prefab,icons:{default:[],type:cc.SpriteFrame},fontCong:{default:null,type:cc.BitmapFont},betString:{default:[],type:cc.String},nodeNotice:cc.Node,prefabNotice:cc.Prefab,loading:cc.Node,notice:s,dialog:c,Line:a,jackpotLock:cc.Node,huMini:cc.Label,huMinor:cc.Label,huMajor:cc.Label,huMajorLock:cc.Label,huGrand:cc.Label,huGrandLock:cc.Label,taikhoan:cc.Label,tong:cc.Label,vuathang:cc.Label,bet:cc.Label,freeLabel:cc.Label,freebutton:cc.Node,freebgr:cc.Node,boxFreeSpin:cc.Label,BigWin:cc.Animation,BigWin_Label:cc.Label,NoHu_close:cc.Node,NoHu:cc.Animation,NoHu_Label:cc.Label,EF_Bonus:cc.Animation,EF_Free:cc.Animation,buttonHomeOff:cc.Node,buttonSpin:cc.Node,buttonAuto:cc.Node,efline:cc.Node,buttonStop:cc.Node,holdSpin:cc.Node,spinTimes:cc.Label,buttonArrowLeft:cc.Node,buttonArrowRight:cc.Node,maxBetBtn:cc.Node,isAuto:!1,isSpin:!1,isFreeSpin:!1,red:!0,betSelect:0},onLoad:function(){cc.RedT.inGame=this,cc.RedT.IS_SOUND=!0;var e=this;this.Line.init(this),this.BigWin.on("finished",this.BigWinFinish,this),this.BigWin.on("play",this.BigWinPlay,this),this.EF_Free.on("finished",this.EF_FreeFinish,this),this.NoHu.on("play",this.NoHuPlay,this),this.EF_Bonus.on("finished",this.EF_BonusFinish,this),this.gameBonus.init(this),this.dialog.init(),this.buttonStop.active=!1,this.holdSpin.active=!0,this.autoTimes=null,this.spinTimes.string="",Promise.all(this.reels.map(function(t){t.init(e)})),cc.RedT.send({scene:"243WaySlot"}),this.taikhoan.string=i.numberWithCommas(cc.RedT.user.red),this.speed=400,localStorage.setItem("playing_game","243WaySlot"),localStorage.setItem("playing_money",5e4),i.setReceivedRewardMustSeeAds(cc.RedT.user.receivedRewardTime)},onEnable:function(){this.buttonSpin.on(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.buttonSpin.on(cc.Node.EventType.TOUCH_END,this.eventEnd,this)},onDisable:function(){this.buttonSpin.off(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.buttonSpin.off(cc.Node.EventType.TOUCH_END,this.eventEnd,this)},_playSFX:function(e){cc.RedT.IS_SOUND&&cc.audioEngine.playEffect(e,!1)},playClick:function(){this._playSFX(this.audioClick)},closeHoldSpin:function(){this.holdSpin.active=!1},onHoldSpin:function(){this.buttonSpin.on(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.buttonSpin.on(cc.Node.EventType.MOUSE_DOWN,this.eventStart,this),this.buttonSpin.on(cc.Node.EventType.MOUSE_UP,this.eventEnd,this)},eventStart:function(){var e=this,t=0;void 0!==this.timeInterval&&clearInterval(this.timeInterval),this.isHold=!1,this.timeInterval=setInterval(function(){1==++t&&(e.holdSpin.active=!0,e.isHolding(),e.clearinterval())},1e3)},isHolding:function(){this.isHold=!0},clearinterval:function(){null!=this.timeInterval&&(clearInterval(this.timeInterval),this.timeInterval=null)},eventEnd:function(){this.isHold||(this.onClickSpin(),null!=this.timeInterval&&(clearInterval(this.timeInterval),this.timeInterval=null))},onSpinTimes:function(e,t){this.spinTimes.string=-1==t?"\u221e":t,this.autoTimes=t-1,this.holdSpin.active=!1,this.onClickSpin(),this.onAuto()},BigWinPlay:function(){var e=cc.callFunc(function(){this._playSFX(this.audioBigWin),i.numberTo(this.BigWin_Label,0,this.H_win,2e3,!0)},this);this.BigWin.node.runAction(cc.sequence(cc.delayTime(.3),e))},BigWinFinish:function(){this.isBigWin=!1,this.BigWin.node.active=!1,this.BigWin_Label.string="",this.showLineWin(!1),this.hieuUng()},NoHuPlay:function(){this.NoHu_Label.string="";var e=cc.callFunc(function(){this._playSFX(this.audioJackpot),i.numberTo(this.NoHu_Label,0,this.H_win,2e3,!0)},this);this.NoHu.node.runAction(cc.sequence(cc.delayTime(.3),e));var t=cc.callFunc(function(){this.NoHu_close.active=!0},this);this.NoHu.node.runAction(cc.sequence(cc.delayTime(4),t))},NoHuFinish:function(){this.isNoHu=!1,this.isAuto&&this.onAuto(),this.showLineWin(!1),this.hieuUng()},NoHuClose:function(){this.NoHu.node.active=this.NoHu_close.active=!1,this.NoHuFinish()},EF_BonusFinish:function(){this.EF_Bonus.node.active=!1,this.gameBonus.onPlay(this.isBonus),this.isBonus=0,this.showLineWin(!1)},EF_FreeFinish:function(){this.isFree=!1,this.EF_Free.node.active=!1,this.showLineWin(!1),this.H_free?this.hieuUng():this.boxFreeSpin.node.active=!0},onData:function(e){void 0!==e.user&&(this.m_user=e.user,this.userData(e.user),cc.RedT.userData(e.user)),void 0!==e.slot243&&this.TwoFourThreeWaySlot(e.slot243),void 0!==e.TopHu&&this.onGetHu(),void 0!==e.notice&&this.addNotice(e.notice)},userData:function(e){e.red&&(this.taikhoan.string=i.numberWithCommas(e.red))},TwoFourThreeWaySlot:function(e){var t=this;void 0!==e.status&&(1===e.status?(this.cel=e.cel,Promise.all(e.cel.map(function(e,i){Promise.all(e.map(function(e,n){t.reels[i].icons[n].setIcon(e,!0)}))})),this.runReels(),this.H_line_win=e.line_win,this.H_win=e.win,this.H_free=e.free,this.isBonus=e.isBonus,this.isNoHu=e.isNoHu,this.isBigWin=e.isBigWin,this.isFree=e.isFree,this.isFreeSpin=!!e.free,this.H_free||this.autoTimes?(this.buttonArrowLeft.pauseSystemEvents(),this.buttonArrowRight.pauseSystemEvents(),this.maxBetBtn.pauseSystemEvents()):(this.buttonArrowLeft.resumeSystemEvents(),this.buttonArrowRight.resumeSystemEvents(),this.maxBetBtn.resumeSystemEvents())):this.resetSpin()),e.bonus&&this.gameBonus.onResponseServer(e.bonus),e.log&&this.dialog.history.onResponseServer(e.log),e.top&&this.dialog.top.onResponseServer(e.top),e.notice&&this.addNotice(e.notice)},EF_vuathang:function(){this.showLineWin(!0),this.H_free?this.vuathang.string=i.numberWithCommas(parseInt(this.vuathang.string.replace(".",""))+this.H_win):this.vuathang.string=i.numberWithCommas(this.H_win),this.buttonSpin.active=!this.H_free,this.freeLabel.string=this.H_free,this.freebutton.active=this.freeLabel.node.active=this.freebgr.active=this.buttonHomeOff.active=!!this.H_free,this.buttonStop.active=!!this.autoTimes},onLineWin:function(e){var t=this;Promise.all(this.H_line_win.map(function(i){var n=i.type;Promise.all(t.Line.linew[i.line].map(function(a,o){n&&(t.cel[o][a]==i.win||i.wild&&10==t.cel[o][a])&&(t.efline.children[o].children[a].active=e,n--)}))}))},showLineWin:function(e){this.onLineWin(e),e||this.isNoHu||this.isBigWin||this.isAuto||this.isFreeSpin||(this.eflineN=0,this.efLineWin())},efLineWin:function(){if(this.H_line_win.length){this.node.stopAllActions(),void 0===this.H_line_win[this.eflineN]&&(this.eflineN=0),this.efOneLineWin(this.eflineN,!0);var e=cc.callFunc(function(){this.efOneLineWin(this.eflineN,!1),this.eflineN+=1,this.efLineWin()},this);this.ignoreLine?this.node.runAction(e):this.node.runAction(cc.sequence(cc.delayTime(1.5),e))}},efOneLineWin:function(e,t){var i=this;e=this.H_line_win[this.eflineN].line;var n=this.H_line_win[this.eflineN].win,a=this.H_line_win[this.eflineN].wild,o=this.H_line_win[this.eflineN].type,s=[],c=0;this.Arr&&(this.previousArr=this.Arr),Promise.all(this.Line.linew[e].map(function(e,r){o&&(i.cel[r][e]==n||a&&10==i.cel[r][e])&&(i.efline.children[r].children[e].active=t,s[c]=e,c++,o--)})),this.Arr=s,i=this,this.Arr&&this.previousArr&&(this.Arr.length===this.previousArr.length&&this.Arr.every(function(e,t){return e===i.previousArr[t]})?this.ignoreLine=!0:this.ignoreLine=!1)},hieuUng:function(){if(this.isBigWin&&!this.isNoHu)this.BigWin.node.active=!0,this.BigWin.play(),this.oldBigWin=!0;else if(this.isNoHu)this.NoHu.node.active=!0,this.NoHu.play();else if(this.isBonus)this.EF_Bonus.node.active=!0,this.EF_Bonus.play(),cc.RedT.audio.playEf("bonus");else if(this.isFree)this.EF_Free.node.active=!0,this.EF_Free.play();else if(this.H_win>0){var e={red:this.m_user.red};e.red+=this.H_win,cc.RedT.userData(e),this.userData(e),this.m_user=null;var t=new cc.Node;t.addComponent(cc.Label),(t=t.getComponent(cc.Label)).string="+"+i.numberWithCommas(this.H_win),t.font=this.fontCong,t.lineHeight=130,t.fontSize=30,t.node.position=cc.v2(0,21),this.nodeNotice.addChild(t.node),!this.oldBigWin&&this._playSFX(this.audioWin),t.node.runAction(cc.sequence(cc.moveTo(1.2,cc.v2(0,105)),cc.callFunc(function(){this.speed=0,t.node.destroy(),this.hieuUng(),this.showLineWin(!1)},this))),this.H_win=0,this.oldBigWin=!1}else this.isAuto||this.isFreeSpin?this.timeOut=setTimeout(function(){this.onAutoSpin(),this.speed=400}.bind(this),this.speed):this.resetSpin()},onChangerBetRight:function(){this._playSFX(this.audioClick),this.betSelect++,this.betSelect>6&&(this.betSelect=0),this.betSelect>2?this.jackpotLock.active=!1:this.jackpotLock.active=!0,this.bet.string=this.betString[this.betSelect],this.tong.string=i.numberWithCommas(i.getOnlyNumberInString(this.bet.string)),this.onGetHu()},onChangerBetLeft:function(){this._playSFX(this.audioClick),this.betSelect--,this.betSelect<0&&(this.betSelect=6),this.betSelect>2?this.jackpotLock.active=!1:this.jackpotLock.active=!0,this.bet.string=this.betString[this.betSelect],this.tong.string=i.numberWithCommas(i.getOnlyNumberInString(this.bet.string)),this.onGetHu()},onChangerMaxBet:function(){this._playSFX(this.audioClick),this.betSelect=6,this.bet.string=this.betString[this.betSelect],this.tong.string=i.numberWithCommas(i.getOnlyNumberInString(this.bet.string)),this.onGetHu()},changerCoint:function(){this.red=!this.red,this.userData(cc.RedT.user),this.onGetHu()},onClickAuto:function(){this._playSFX(this.audioClick),this.onAuto()},onAuto:function(){this.isAuto=!0,this.isFreeSpin?this.buttonStop.active=!1:this.buttonStop.active=this.isSpin},onClickSpin:function(){this.holdSpin.active=!1,this.onSpin()},onAutoSpin:function(){this.isFreeSpin?(this.buttonStop.active=!1,this.spinTimes.string="",this.holdSpin.active=!1,this._playSFX(this.audioClickSpin),this.onGetSpin()):null!=this.autoTimes&&(this.buttonStop.active=!0,this.autoTimes<0?(cc.RedT.IS_SOUND&&this._playSFX(this.audioClick),this.spinTimes.string="\u221e",this.onGetSpin()):this.autoTimes>0?(cc.RedT.IS_SOUND&&this._playSFX(this.audioClick),this.spinTimes.string=this.autoTimes,this.onGetSpin(),this.autoTimes--):(cc.RedT.IS_SOUND&&this._playSFX(this.audioClick),this.spinTimes.string="",this.onClickStop(),this.resetSpin()))},onFreeSpin:function(e,t){cc.RedT.send({g:{slot243:{spin:{cuoc:i.getOnlyNumberInString(this.bet.string),red:this.red,freetype:t}}}}),this.boxFreeSpin.node.active=!1,this.node.stopAllActions(),void 0!==this.eflineN&&void 0!==this.H_line_win&&this.H_line_win.length&&this.efOneLineWin(this.eflineN,!1),this.eflineO=this.eflineN=0,this.isSpin=!0},onClickStop:function(){this.autoTimes=null,this.spinTimes.string="",this.buttonArrowLeft.resumeSystemEvents(),this.buttonArrowRight.resumeSystemEvents(),this.maxBetBtn.resumeSystemEvents(),cc.RedT.audio.playClick(),this.onStop()},onStop:function(){this.isAuto=this.buttonStop.active=!1},onSpin:function(){this.isSpin||(this._playSFX(this.audioClickSpin),this.node.stopAllActions(),void 0!==this.eflineN&&void 0!==this.H_line_win&&this.H_line_win.length&&this.efOneLineWin(this.eflineN,!1),this.eflineO=this.eflineN=0,this.isSpin=!0,this.setSpin(),this.onGetSpin())},setSpin:function(){this.buttonSpin.pauseSystemEvents()},resetSpin:function(){this.isAuto&&this.onAuto(),this.isSpin=this.buttonStop.active=!1,this.buttonSpin.resumeSystemEvents(),this.spinTimes.string=""},runReels:function(){Promise.all(this.reels.map(function(e,t){e.spin(t)}))},copy:function(){Promise.all(this.reels.map(function(e){e.icons[e.icons.length-1].setIcon(e.icons[2].data),e.icons[e.icons.length-2].setIcon(e.icons[1].data),e.icons[e.icons.length-3].setIcon(e.icons[0].data)}))},random:function(){Promise.all(this.reels.map(function(e){Promise.all(e.icons.map(function(t,i){i>2&&i<e.icons.length-3&&t.random()}))}))},onGetSpin:function(){var e=this;0==i.checkShowNoAdsUser(cc.RedT.user.receivedRewardTime,cc.RedT.user.noAdsUser)?(r.Instance.showRewardedMustSeeAds(),this.timeOutSap=setTimeout(function(){cc.RedT.send({g:{slot243:{spin:{cuoc:i.getOnlyNumberInString(e.bet.string),red:e.red}}}})},5e3)):cc.RedT.send({g:{slot243:{spin:{cuoc:i.getOnlyNumberInString(this.bet.string),red:this.red}}}})},addNotice:function(e){"string"==typeof e?l.Instance.notice.show({title:i.getLang(cc.RedT.language,"taixiu_notice"),text:e}):void 0!==e.button?l.Instance.notice.show({title:e.title,text:e.text,button:{text:"notice",type:"watchVideo"}}):l.Instance.notice.show({title:e.title,text:e.text})},backGame:function(){this.loading.active=!0,void 0!==this.timeOut&&clearTimeout(this.timeOut),localStorage.setItem("playing_game",""),localStorage.setItem("playing_money",0),cc.director.preloadScene("MainGame",function(){cc.director.loadScene("MainGame")})},signOut:function(){cc.director.preloadScene("MainGame",function(){cc.director.loadScene("MainGame"),cc.RedT.inGame.signOut()})},onGetHu:function(){var e=this;if(void 0!==cc.RedT.setting.topHu&&void 0!==cc.RedT.setting.topHu.data){var t=this,n=i.getOnlyNumberInString(t.bet.string);Promise.all(cc.RedT.setting.topHu.data.slot243.filter(function(e){return e.type==n&&e.red==t.red})).then(function(t){var n=i.getOnlyNumberInString(e.huMini.string),a=t&&t[0]&&t[0].bet_mini?t[0].bet_mini:0;n-a!=0&&i.numberTo(e.huMini,n,a,2e3,!0);var o=i.getOnlyNumberInString(e.huMinor.string),s=t&&t[0]&&t[0].bet_minor?t[0].bet_minor:0;o-s!=0&&i.numberTo(e.huMinor,o,s,2e3,!0);var c=i.getOnlyNumberInString(e.huMajor.string),r=t&&t[0]&&t[0].bet_major?t[0].bet_major:0;c-r!=0&&i.numberTo(e.huMajor,c,r,2e3,!0),i.numberTo(e.huMajorLock,c,r,2e3,!0);var l=i.getOnlyNumberInString(e.huGrand.string),h=t&&t[0]&&t[0].bet_grand?t[0].bet_grand:0;l-h!=0&&i.numberTo(e.huGrand,l,h,2e3,!0),i.numberTo(e.huGrandLock,l,h,2e3,!0)})}},playMusic:function(){null!=this&&null!=this.audioBG&&this.audioBG.play()},pauseMusic:function(){null!=this&&null!=this.audioBG&&this.audioBG.pause()}}),cc._RF.pop()},{"243WaySlot_dialog":"243WaySlot_dialog","243WaySlot_lines":"243WaySlot_lines","243WaySlot_playBonus":"243WaySlot_playBonus","243WaySlot_reel":"243WaySlot_reel",Admob:"Admob",Helper:"Helper",Notice:"Notice",UIPopupManager:"UIPopupManager"}],Admob:[function(e,t){"use strict";cc._RF.push(t,"3a9e58QIG5K+YOQEPl2Hu2M","Admob"),e("../SDKBox/sdkbox_config");var i=e("Helper"),n=cc.Class({extends:cc.Component,statics:{Instance:null},properties:{},onLoad:function(){n.Instance=this},admobInit:function(){"undefined"!=typeof sdkbox?void 0!==sdkbox.PluginAdMob?cc.sys.isMobile&&(sdkbox.PluginAdMob.setListener({adViewDidReceiveAd:function(){},adViewDidFailToReceiveAdWithError:function(){},adViewWillPresentScreen:function(){},adViewDidDismissScreen:function(){cc.RedT.inGame.playMusic();var e=JSON.parse(localStorage.getItem("receivedReward"));e&&(Date.now()-e>=3e4?cc.RedT.UIPopupManager.showCollectCoins():cc.RedT.UIPopupManager.notice.show({title:i.getLang(cc.RedT.language,"taixiu_notice"),text:i.getLang(cc.RedT.language,"need_watch30s")}))},adViewWillDismissScreen:function(){},adViewWillLeaveApplication:function(){}}),sdkbox.PluginAdMob.init()):cc.RedT.inGame.notice.show({title:"Notice",text:"SDK PluginAdMob not available"}):cc.RedT.inGame.notice.show({title:"Notice",text:"SDK not available"})},cacheInterstitial:function(){cc.sys.isMobile&&sdkbox.PluginAdMob.cache("banner")},showInterstitial:function(){cc.sys.isMobile&&(localStorage.setItem("receivedReward",Date.now()),sdkbox.PluginAdMob.show("interstitial"))},showAppopen:function(){cc.sys.isMobile&&sdkbox.PluginAdMob.show("appopen")},showRewarded:function(){cc.sys.isMobile&&(cc.RedT.inGame.pauseMusic(),localStorage.setItem("receivedReward",Date.now()),sdkbox.PluginAdMob.show("reward"))},showRewardedMustSeeAds:function(){cc.sys.isMobile&&(cc.RedT.inGame.pauseMusic(),localStorage.setItem("receivedRewardMustSeeAds",Date.now()),sdkbox.PluginAdMob.show("mustseeads"))},showRewarded_notoffMusic:function(){cc.sys.isMobile&&sdkbox.PluginAdMob.show("reward")},showBanner:function(){cc.sys.isMobile&&sdkbox.PluginAdMob.show("banner")},closeBanner:function(){cc.sys.isMobile&&sdkbox.PluginAdMob.isAvailable("banner")&&sdkbox.PluginAdMob.hide("banner")}});t.exports=n,cc._RF.pop()},{"../SDKBox/sdkbox_config":"sdkbox_config",Helper:"Helper"}],AngryBird_history_item:[function(e,t){"use strict";cc._RF.push(t,"cb9e5TUbrlHrp4F0Oa21Pvd","AngryBird_history_item"),cc.Class({extends:cc.Component,properties:{time:cc.Label,phien:cc.Label,cuoc:cc.Label,win:cc.Label}}),cc._RF.pop()},{}],AngryBird_history:[function(e,t){"use strict";cc._RF.push(t,"0f89dKGp89FS4A0zk0h6nwz","AngryBird_history");var i=e("Helper"),n=e("UIPopupManager");cc.Class({extends:cc.Component,properties:{background:cc.Node,page:cc.Prefab,content:cc.Node,cointRed:cc.Node,cointXu:cc.Node,red:!0},onLoad:function(){var e=this,t=cc.instantiate(this.page);t.y=-275,this.node.addChild(t),this.page=t.getComponent("Pagination"),this.page.init(this),Promise.all(this.content.children.map(function(e){return e.getComponent("AngryBird_history_item")})).then(function(t){e.content=t})},show:function(){this.setTop()},hide:function(){n.Instance.hideGameAngryBirds_history()},onEnable:function(){this.get_data(),this.background.on(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.background.on(cc.Node.EventType.TOUCH_MOVE,this.eventMove,this),this.background.on(cc.Node.EventType.TOUCH_END,this.eventEnd,this),this.background.on(cc.Node.EventType.TOUCH_CANCEL,this.eventEnd,this)},onDisable:function(){this.background.off(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.background.off(cc.Node.EventType.TOUCH_MOVE,this.eventMove,this),this.background.off(cc.Node.EventType.TOUCH_END,this.eventEnd,this),this.background.off(cc.Node.EventType.TOUCH_CANCEL,this.eventEnd,this)},eventStart:function(e){this.setTop(),this.ttOffset=cc.v2(e.touch.getLocationX()-this.node.position.x,e.touch.getLocationY()-this.node.position.y)},eventMove:function(e){this.node.position=cc.v2(e.touch.getLocationX()-this.ttOffset.x,e.touch.getLocationY()-this.ttOffset.y)},eventEnd:function(){},setTop:function(){this.node.parent.insertChild(this.node)},get_data:function(e){void 0===e&&(e=1),cc.RedT.send({g:{angrybird:{log:{red:this.red,page:e}}}})},changerCoint:function(){this.red=!this.red,this.cointRed.active=!this.cointRed.active,this.cointXu.active=!this.cointXu.active,this.get_data()},onData:function(e){this.page.onSet(e.page,e.kmess,e.total),Promise.all(this.content.map(function(t,n){var a=e.data[n];void 0!==a?(t.node.active=!0,t.time.string=i.getStringDateByTime(a.time),t.phien.string=a.id,t.cuoc.string=i.numberWithCommas(a.bet),t.win.string=i.numberWithCommas(a.win)):t.node.active=!1}))},reset:function(){Promise.all(this.content.map(function(e){e.active=!1}))}}),cc._RF.pop()},{Helper:"Helper",UIPopupManager:"UIPopupManager"}],AngryBird_top:[function(e,t){"use strict";cc._RF.push(t,"35ab39NsE9AhaEAoAbzTFqx","AngryBird_top");var i=e("Helper"),n=e("UIPopupManager");cc.Class({extends:cc.Component,properties:{background:cc.Node,item:cc.Prefab,content:cc.Node,cointRed:cc.Node,cointXu:cc.Node,red:!0},show:function(){this.setTop()},onEnable:function(){this.get_data(),this.background.on(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.background.on(cc.Node.EventType.TOUCH_MOVE,this.eventMove,this),this.background.on(cc.Node.EventType.TOUCH_END,this.eventEnd,this),this.background.on(cc.Node.EventType.TOUCH_CANCEL,this.eventEnd,this)},onDisable:function(){this.background.off(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.background.off(cc.Node.EventType.TOUCH_MOVE,this.eventMove,this),this.background.off(cc.Node.EventType.TOUCH_END,this.eventEnd,this),this.background.off(cc.Node.EventType.TOUCH_CANCEL,this.eventEnd,this)},eventStart:function(e){this.setTop(),this.ttOffset=cc.v2(e.touch.getLocationX()-this.node.position.x,e.touch.getLocationY()-this.node.position.y)},eventMove:function(e){this.node.position=cc.v2(e.touch.getLocationX()-this.ttOffset.x,e.touch.getLocationY()-this.ttOffset.y)},eventEnd:function(){},setTop:function(){this.node.parent.insertChild(this.node)},get_data:function(e){void 0===e&&(e=1),cc.RedT.send({g:{angrybird:{top:this.red}}})},changerCoint:function(){this.red=!this.red,this.cointRed.active=!this.cointRed.active,this.cointXu.active=!this.cointXu.active,this.get_data()},hide:function(){n.Instance.hideGameAngryBirds_top()},onData:function(e){this.content.removeAllChildren();var t=this;Promise.all(e.map(function(e,n){var a=cc.instantiate(t.item),o=a.getComponent("VQRed_history_item");o.time.string=i.getStringDateByTime(e.time),o.phien.string=e.name,o.cuoc.string=i.numberWithCommas(e.bet),o.line.string=i.numberWithCommas(e.win),o.win.string=2==e.type?"Jackpot":"Big Win",a.children[0].active=!(1&n),t.content.addChild(a)}))}}),cc._RF.pop()},{Helper:"Helper",UIPopupManager:"UIPopupManager"}],"AngryBirds-itemR":[function(e,t){"use strict";cc._RF.push(t,"778daCpzslOUbNzvpIkVWDh","AngryBirds-itemR"),cc.Class({extends:cc.Component,properties:{icon:cc.Sprite},init:function(e){this.RedT=e},random:function(e){void 0===e&&(e=!1);var t=~~(4*Math.random());return this.setIcon(t),e&&(this.data=t),t},setIcon:function(e,t){void 0===t&&(t=!1),this.icon.spriteFrame=0==e?this.RedT.icons[0]:this.RedT.iconsX[e-1],t&&(this.data=e)}}),cc._RF.pop()},{}],"AngryBirds-item":[function(e,t){"use strict";cc._RF.push(t,"efa70M1TdBLHa9pSAAOj37L","AngryBirds-item"),cc.Class({extends:cc.Component,properties:{icon:cc.Sprite},init:function(e){this.RedT=e},random:function(e){void 0===e&&(e=!1);var t=~~(6*Math.random());return this.setIcon(t),e&&(this.data=t),t},setIcon:function(e,t){void 0===t&&(t=!1),this.icon.spriteFrame=this.RedT.icons[e],t&&(this.data=e)}}),cc._RF.pop()},{}],AngryBirds_reelsL:[function(e,t){"use strict";cc._RF.push(t,"254d4+O0EJLmrFqrwJc7Bsf","AngryBirds_reelsL"),cc.Class({extends:cc.Component,properties:{},init:function(e){var t=this;this.RedT=e,this.icons=[];var i=this;Promise.all([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].map(function(e,t){var n=cc.instantiate(i.RedT.iconLPrefab);return i.node.addChild(n),(n=n.getComponent("AngryBirds-item")).init(i.RedT),t>2&&t<14&&n.random(),n})).then(function(e){t.icons=e,t.icons[19].setIcon(t.icons[2].random(!0)),t.icons[18].setIcon(t.icons[1].random(!0)),t.icons[17].setIcon(t.icons[0].random(!0))})},copy:function(){this.icons[19].setIcon(this.icons[2].data),this.icons[18].setIcon(this.icons[1].data),this.icons[17].setIcon(this.icons[0].data),this.node.y=0},spin:function(e){this.node.stopAllActions();var t=cc.moveTo(1.1,cc.v2(this.node.x,-(this.node.height-225.84))).easing(cc.easeInOut(3)),i=cc.callFunc(function(){this.copy()},this);this.node.runAction(cc.sequence(cc.delayTime(.1*e),t,i))},stop:function(){this.node.stopAllActions(),this.copy()}}),cc._RF.pop()},{}],AngryBirds_reelsR:[function(e,t){"use strict";cc._RF.push(t,"77651BdeG5Cw5a2bw3wvZf0","AngryBirds_reelsR"),cc.Class({extends:cc.Component,properties:{},init:function(e){var t=this;this.RedT=e,this.icons=[];var i=this;Promise.all([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].map(function(e,t){var n=cc.instantiate(i.RedT.iconRPrefab);return i.node.addChild(n),(n=n.getComponent("AngryBirds-itemR")).init(i.RedT),t>2&&t<14&&n.random(),n})).then(function(e){t.icons=e,t.icons[22].setIcon(t.icons[2].random(!0)),t.icons[21].setIcon(t.icons[1].random(!0)),t.icons[20].setIcon(t.icons[0].random(!0))})},copy:function(){this.icons[22].setIcon(this.icons[2].data),this.icons[21].setIcon(this.icons[1].data),this.icons[20].setIcon(this.icons[0].data),this.node.y=0},spin:function(e){this.node.stopAllActions();var t=cc.moveTo(1.5,cc.v2(this.node.x,-(this.node.height-189))).easing(cc.easeInOut(3)),i=cc.callFunc(function(){this.copy(),4===e&&this.RedT.hieuUng()},this);this.node.runAction(cc.sequence(cc.delayTime(.15*e),t,i))},stop:function(){this.node.stopAllActions(),this.copy()}}),cc._RF.pop()},{}],AngryBirds:[function(e,t){"use strict";cc._RF.push(t,"30b8fKriZRPeqMEQoyRprQy","AngryBirds");var i=e("Helper"),n=e("AngryBirds_reelsL"),a=e("AngryBirds_reelsR"),o=e("UIPopupManager");cc.Class({extends:cc.Component,properties:{nodeEfect:cc.Node,PrefabNoHu:cc.Prefab,background:cc.Node,line:cc.Node,reelsL:{default:[],type:n},reelsR:{default:[],type:a},icons:{default:[],type:cc.SpriteFrame},iconsX:{default:[],type:cc.SpriteFrame},iconLPrefab:cc.Prefab,iconRPrefab:cc.Prefab,buttonSpin:cc.Node,buttonAuto:cc.Node,txtAuto:cc.Node,buttonStop:cc.Node,buttonCoint:cc.Node,nodeRed:cc.Node,nodeXu:cc.Node,bet:cc.Node,notice:cc.Node,prefabNotice:cc.Prefab,hu:cc.Label,cuoc:"",isAuto:!1,isSpin:!1,red:!0},onLoad:function(){cc.RedT.setting.angrybird=cc.RedT.setting.angrybird||{},localStorage.getItem("angrybird"),void 0!==cc.RedT.setting.angrybird.position&&(this.node.position=cc.RedT.setting.angrybird.position),void 0!==cc.RedT.setting.angrybird.bet&&cc.RedT.setting.angrybird.bet!=this.cuoc&&this.intChangerBet(),void 0!==cc.RedT.setting.angrybird.red&&this.red!=cc.RedT.setting.angrybird.red&&this.changerCoint(),void 0!==cc.RedT.setting.angrybird.isAuto&&(this.isAuto,cc.RedT.setting.angrybird.isAuto);var e=this;this.ttOffset=null,Promise.all(this.reelsL.map(function(t){t.init(e)})),Promise.all(this.reelsR.map(function(t){t.init(e)})),"MainGame"==cc.RedT.inGame.__classname__&&(localStorage.setItem("playing_game","angrybird"),localStorage.setItem("playing_money",5e4))},onBtnTutorial:function(){o.Instance.showGameHuongDan("AngryBirds")},onBtnTop:function(){o.Instance.showGameAngryBirds_top()},onBtnHistory:function(){o.Instance.showGameAngryBirds_history()},onEnable:function(){this.onGetHu(),this.background.on(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.background.on(cc.Node.EventType.TOUCH_MOVE,this.eventMove,this),this.background.on(cc.Node.EventType.TOUCH_END,this.eventEnd,this),this.background.on(cc.Node.EventType.TOUCH_CANCEL,this.eventEnd,this)},onDisable:function(){this.background.off(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.background.off(cc.Node.EventType.TOUCH_MOVE,this.eventMove,this),this.background.off(cc.Node.EventType.TOUCH_END,this.eventEnd,this),this.background.off(cc.Node.EventType.TOUCH_CANCEL,this.eventEnd,this),this.onCloseGame()},eventStart:function(e){this.setTop(),this.ttOffset=cc.v2(e.touch.getLocationX()-this.node.position.x,e.touch.getLocationY()-this.node.position.y)},eventMove:function(e){this.node.position=cc.v2(e.touch.getLocationX()-this.ttOffset.x,e.touch.getLocationY()-this.ttOffset.y)},eventEnd:function(){cc.RedT.setting.angrybird.position=this.node.position},setTop:function(){this.node.parent.insertChild(this.node)},openGame:function(){cc.RedT.audio.playClick(),cc.RedT.IS_LOGIN?(this.node.active=!0,localStorage.setItem("angrybird",!1),this.setTop()):o.Instance.showSignIn()},closeGame:function(){this.node.active=!1,localStorage.setItem("angrybird",!1),o.Instance.hideGameAngryBirds()},changerCoint:function(){this.red=cc.RedT.setting.angrybird.red=!this.red,this.nodeRed.active=!this.nodeRed.active,this.nodeXu.active=!this.nodeXu.active,this.onGetHu()},intChangerBet:function(){var e=this;Promise.all(this.bet.children.map(function(t){t.name==cc.RedT.setting.angrybird.bet?(e.cuoc=t.name,t.children[0].active=!0,t.pauseSystemEvents()):(t.children[0].active=!1,t.resumeSystemEvents())}))},changerBet:function(e,t){this.cuoc=cc.RedT.setting.angrybird.bet=t;var i=e.target;Promise.all(this.bet.children.map(function(e){e==i?(e.children[0].active=!0,e.pauseSystemEvents()):(e.children[0].active=!1,e.resumeSystemEvents())})),this.onGetHu()},autoSpin:function(){var e=this;Promise.all([0,1,2,3,4].map(function(t){t<3?e.reelsL[t].spin(t):e.reelsR[t-3].spin(t)}))},onSpin:function(){this.buttonSpin.pauseSystemEvents(),this.buttonCoint.pauseSystemEvents(),Promise.all(this.bet.children.map(function(e){e.pauseSystemEvents()}))},offSpin:function(){this.isSpin=this.buttonStop.active=this.isAuto=!1,this.buttonAuto.color=cc.color(155,155,155),this.txtAuto.color=cc.color(155,155,155),this.buttonAuto.active=this.buttonSpin.active=!0,this.buttonSpin.resumeSystemEvents(),this.buttonCoint.resumeSystemEvents(),Promise.all(this.bet.children.map(function(e){e.children[0].active||e.resumeSystemEvents()}))},onClickSpin:function(){this.isSpin||(this.isSpin=!0,this.onSpin(),this.onGetSpin())},onClickAuto:function(){this.isAuto=cc.RedT.setting.angrybird.isAuto=!this.isAuto,this.buttonAuto.color=this.isAuto?cc.Color.WHITE:cc.color(155,155,155),this.txtAuto.color=this.isAuto?cc.Color.WHITE:cc.color(155,155,155),this.buttonStop.active=!!this.isSpin&&!!this.isAuto,this.buttonAuto.active=!this.buttonStop.active,this.buttonSpin.active=!this.isSpin},onClickStop:function(){this.onClickAuto(),this.buttonStop.active=!1},onGetInfo:function(){cc.RedT.send({g:{angrybird:{info:{cuoc:this.cuoc,red:this.red}}}})},onGetSpin:function(){if("angrybird"!=localStorage.getItem("playing_game")){var e=localStorage.getItem("playing_game"),t=parseInt(localStorage.getItem("playing_money"));cc.RedT.send({g:{angrybird:{spin:{cuoc:this.cuoc,red:this.red,playing_game:e,playing_money:t}}}})}else cc.RedT.send({g:{angrybird:{spin:{cuoc:this.cuoc,red:this.red}}}})},onCloseGame:function(){this.isSpin=!1,Promise.all(this.reelsL.map(function(e){e.stop()})),Promise.all(this.reelsR.map(function(e){e.stop()})),this.offSpin()},addNotice:function(e){"string"==typeof e?o.Instance.notice.show({title:i.getLang(cc.RedT.language,"taixiu_notice"),text:e}):void 0!==e.button?o.Instance.notice.show({title:e.title,text:e.text,button:{text:"notice",type:"watchVideo"}}):o.Instance.notice.show({title:e.title,text:e.text})},onData:function(e){var t=this,i=this;void 0!==e.status&&(1===e.status?(this.notice.removeAllChildren(),this.win=e.win,this.nohu=e.nohu,this.isBigWin=e.isBigWin,this.buttonStop.active=!!this.isAuto,this.buttonAuto.active=this.buttonSpin.active=!this.buttonStop.active,Promise.all(e.celR.map(function(e,t){Promise.all(e.map(function(e,n){i.reelsR[t].icons[n].setIcon(e,!0)}))})),Promise.all(e.cel.map(function(e,t){return Promise.all(e.map(function(e,n){i.reelsL[t].icons[n].setIcon(e,!0)})).then(function(e){return e})})).then(function(){t.autoSpin()})):this.offSpin()),void 0!==e.line_win&&(this.line_win=e.line_win),void 0!==e.notice&&this.addNotice(e.notice)},copy:function(){Promise.all(this.reelsL.map(function(e){void 0!==e.icons&&void 0!==e.icons[16]&&void 0!==e.icons[16].setIcon&&(e.icons[16].setIcon(e.icons[2].data),e.icons[15].setIcon(e.icons[1].data),e.icons[14].setIcon(e.icons[0].data))})),Promise.all(this.reelsR.map(function(e){void 0!==e.icons&&void 0!==e.icons[16]&&void 0!==e.icons[16].setIcon&&(e.icons[16].setIcon(e.icons[2].data),e.icons[15].setIcon(e.icons[1].data),e.icons[14].setIcon(e.icons[0].data))}))},random:function(){Promise.all(this.reelsL.map(function(e){Promise.all(e.icons.map(function(e,t){t>2&&t<14&&e.random()}))})),Promise.all(this.reelsR.map(function(e){Promise.all(e.icons.map(function(e,t){t>2&&t<14&&e.random()}))}))},onGetHu:function(){var e=this;if(void 0!==cc.RedT.setting.topHu&&void 0!==cc.RedT.setting.topHu.data&&this.node.active){var t=this;Promise.all(cc.RedT.setting.topHu.data.arb.filter(function(e){return e.type==t.cuoc&&e.red==t.red})).then(function(t){var n=i.getOnlyNumberInString(e.hu.string),a=t[0].bet;n-a!=0&&i.numberTo(e.hu,n,a,1500,!0)})}},userData:function(e){var t={red:parseInt(cc.RedT.user.red)};t.red+=e,cc.RedT.MainGame.dataUser(t)},hieuUng:function(){if(this.nohu){this.nohu=!1,1==this.isAuto&&this.onClickStop();var e=cc.instantiate(o.Instance.PrefabNoHu),t=(e=e.getComponent(cc.Animation)).node.children[6].getComponent(cc.Label);this.userData(this.win),this.nodeEfect.addChild(e.node),e.on("play",function(){var n=cc.callFunc(function(){cc.RedT.audio.playEf("winHu"),i.numberTo(t,0,this.win,1e3,!0)},this);e.node.runAction(cc.sequence(cc.delayTime(.25),n))},this),e.on("finished",function(){e.node.destroy(),this.win=0,this.hieuUng()},this),e.play()}else if(!this.nohu&&this.isBigWin){this.isBigWin=!1;var n=cc.instantiate(o.Instance.prefabBigWin);n=n.getComponent(cc.Animation),this.userData(this.win),n.on("finished",function(){n.node.destroy(),this.isAuto?this.onGetSpin():this.offSpin()},this),n.node.bet=this.win,n.node.red=this.red,n.node.position=cc.v2(0,98),this.notice.addChild(n.node),this.win=0,this.isAuto||this.offSpin()}else if(!this.isBigWin&&this.win>0){this.userData(this.win);var a=new cc.Node;a.addComponent(cc.Label),a=a.getComponent(cc.Label),i.numberTo(a,0,this.win,600,!0),a.font=this.red?cc.RedT.util.fontCong:cc.RedT.util.fontTru,a.lineHeight=130,a.fontSize=25,a.node.position=cc.v2(0,98),a.node.runAction(cc.sequence(cc.delayTime(1.5),cc.callFunc(function(){a.node.destroy(),this.hieuUng(),this.offLineWin()},this))),this.notice.addChild(a.node),this.win=0,this.onLineWin()}else this.isAuto?this.timeOut=setTimeout(function(){this.onGetSpin()}.bind(this),300):this.offSpin()},onLineWin:function(){var e=this;Promise.all(this.line_win.map(function(t){e.line.children[t.line-1].active=!0}))},offLineWin:function(){Promise.all(this.line.children.map(function(e){e.active=!1}))}}),cc._RF.pop()},{AngryBirds_reelsL:"AngryBirds_reelsL",AngryBirds_reelsR:"AngryBirds_reelsR",Helper:"Helper",UIPopupManager:"UIPopupManager"}],BJBetUIControl:[function(e,t){"use strict";cc._RF.push(t,"1bbf9LYig5ENoBTnLH3u4Ix","BJBetUIControl");var i=e("Helper");cc.Class({extends:cc.Component,properties:{labels:{default:[],type:cc.Label},highlight:{default:[],type:cc.Node}},init:function(e,t){for(var n in this.bet=t.room,this.gameplay=e,this.bets=[],this.labels){var a=t.room;1==n?a*=2:2==n?a*=5:3==n&&(a*=10),this.bets.push(a),this.labels[n].string=i.ToKMB2(a)}this.itemClick(null,0)},itemClick:function(e,t){for(var i in this.highlight)i==t?(this.highlight[i].active=!0,this.bet=this.bets[t]):this.highlight[i].active=!1}}),cc._RF.pop()},{Helper:"Helper"}],BJDealer:[function(e,t){"use strict";cc._RF.push(t,"c08c0JJGtlN4ZN26vwcJOV9","BJDealer"),cc.Class({extends:cc.Component,properties:{point:cc.Label,pointRoot:cc.Node,cardRoot:cc.Node,pointBackground:cc.Sprite,pointBackgroundNormal:cc.SpriteFrame,pointBackgroundBust:cc.SpriteFrame,animBlackJack:cc.Node,anim21:cc.Node,animBust:cc.Node},init:function(e){for(var t in this.gameplay=e,this.pointRoot.active=!1,this.cardRoot.active=!1,this.cards=[],this.cardRoot.children)this.cards.push(this.cardRoot.children[t].getComponent(cc.Sprite))},reset:function(){this.pointRoot.active=!1,this.cardRoot.active=!1,this.point.node.active=!0,this.animBlackJack.active=!1,this.anim21.active=!1,this.animBust.active=!1},refreshUI:function(e){if(null!=e&&null!=e.cards&&e.cards.length>0){for(var t in this.cardRoot.active=!0,this.cards)e.cards.length>t?(this.cards[t].node.active=!0,this.cards[t].spriteFrame=this.gameplay.getCardImage(e.cards[t].card+""+e.cards[t].suite)):1==t?(this.cards[t].node.active=!0,this.cards[t].spriteFrame=this.gameplay.getCardImage(null)):this.cards[t].node.active=!1;if(e.cards.length>=2){this.pointRoot.active=!0,this.point.string=e.totalPoint;var i=e;this.pointBackground.spriteFrame=i.totalPoint>21?this.pointBackgroundBust:this.pointBackgroundNormal,i.blackjack?0==this.animBlackJack.active&&(this.point.node.active=!1,this.animBlackJack.active=!0,cc.tween(this.animBlackJack).to(.5,{scale:1.2}).to(.5,{scale:1}).repeat(2).start(),this.anim21.active=!1,this.animBust.active=!1):i.isBust?0==this.animBust.active&&(this.point.node.active=!0,cc.tween(this.point.node).to(.5,{scale:1.2}).to(.5,{scale:1}).start(),this.animBlackJack.active=!1,this.anim21.active=!1,this.animBust.active=!0,cc.tween(this.animBust).to(.5,{scale:1.2}).to(.5,{scale:1}).start()):21==i.totalPoint?0==this.anim21.active&&(this.point.node.active=!0,this.animBlackJack.active=!1,this.anim21.active=!0,this.animBust.active=!1):(this.point.node.active=!0,this.animBlackJack.active=!1,this.anim21.active=!1,this.animBust.active=!1)}}else this.cardRoot.active=!1,this.pointRoot.active=!1}}),cc._RF.pop()},{}],BJGamePlay:[function(e,t){"use strict";cc._RF.push(t,"4701epFD7tGT6MCj2vVL3eJ","BJGamePlay");var i=e("BJDealer"),n=e("BJPlayer"),a=e("BJBetUIControl"),o=e("Helper"),s=e("UIPopupManager");cc.Class({extends:cc.Component,properties:{maxBet:cc.Label,chatBox:cc.Node,bettingCountDown:cc.Sprite,dealer:i,playersUI:{default:[],type:n},betUIControl:a,handReviewRoot:cc.Node,handReviewCountDown:cc.Sprite,betTutorial:cc.Node,handReviewAction:cc.Node,surrenderBtn:cc.Node,insuranceBtn:cc.Node,turnAction:cc.Node,hitBtn:cc.Node,standBtn:cc.Node,doubleBtn:cc.Node,splitBtn:cc.Node,cardsSpriteH:{default:[],type:cc.SpriteFrame},cardsSpriteD:{default:[],type:cc.SpriteFrame},cardsSpriteC:{default:[],type:cc.SpriteFrame},cardsSpriteS:{default:[],type:cc.SpriteFrame},cardHide:cc.SpriteFrame,objSetting:cc.Node,objDropdownSetting:cc.Node,audioBG:cc.AudioSource,audioIcons:{default:[],type:cc.SpriteFrame},audioIcon:cc.Sprite,betChips:cc.Node},onLoad:function(){for(var e in this.dealer.init(this),this.playersUI)this.playersUI[e].init(this);this.clientState="",this.handReviewRoot.active=!0,this.lastActionIndex=-1},onEnable:function(){this.clientState=""},onData:function(e){e.table_info&&(localStorage.setItem("playing_game","BlackJack"),localStorage.setItem("playing_money",10*e.table_info.room)),e.onTableEvent?this.onTableEvent(e.onTableEvent):null!=e.playerJoin&&""==this.clientState&&(this.onTableEvent(e.table_info),this.betUIControl.init(this,e.table_info),this.bjChat=this.chatBox.getComponent("BlackJackChat"),this.bjChat.init(e.table_info.id))},onChat:function(e){if(this.bjChat.onData(e),null!=e.message)for(var t=e.message.user,i=0;i<this.playersUI.length;i++)if(this.playersUI[i].playerName.string==t){this.playersUI[i].Chat(e.message.value);break}},playMusic:function(){null!=this&&null!=this.audioBG&&this.audioBG.play()},pauseMusic:function(){null!=this&&null!=this.audioBG&&this.audioBG.stop()},onSetAudio:function(){this.audioIcon.spriteFrame==this.audioIcons[1]?(this.pauseMusic(),this.audioIcon.spriteFrame=this.audioIcons[0]):(this.playMusic(),this.audioIcon.spriteFrame=this.audioIcons[1])},onTableEvent:function(e){this.data=e;var t=this;switch(t.myIndex=t.getMyIndex(),t.refreshPlayersUI(e.players),t.maxBet.string=o.ToKMB(100*e.room),e.state){case"JOIN":this.turnAction.active=!1,this.betChips.active=!0,this.handReviewAction.active=!1,this.handReviewRoot.active=!1,this.lastActionIndex=-1;break;case"BETTING":if(this.betTutorial.active=!0,this.betChips.active=!0,this.turnAction.active=!1,this.handReviewAction.active=!1,this.handReviewRoot.active=!1,t.canBetting=!0,this.clientState==e.state)return;var i=e.countDown;for(var n in t.tweenProgress(i,t.bettingCountDown,function(){t.canBetting=!1}),t.dealer.reset(),t.playersUI)t.playersUI[n].reset();break;case"HAND_REVIEW":if(this.betTutorial.active=!1,t.showLastAction(),this.clientState==e.state)return;t.handReviewObj();break;case"USER_ACTION":t.showLastAction(),t.showUserActionUI();break;case"DEALER_ACTION":t.dealer.refreshUI(e.dealerHand),t.showUserActionUI();break;case"RESULT":var a=e.result;for(var n in t.playersUI)if(0!=t.playersUI[n].node.active)for(var s in a)a[s].playerName==t.playersUI[n].playerName.string&&t.playersUI[n].showResult(a[s])}this.clientState=e.state},showLastAction:function(){var e=this.data;if(null!=e&&null!=e.actions&&0!=e.actions.length&&e.actions.length-1!=this.lastActionIndex){this.lastActionIndex=e.actions.length-1;var t=e.actions[this.lastActionIndex];for(var i in this.playersUI)0!=this.playersUI[i].node.active&&t.playerName==this.playersUI[i].playerName.string&&this.playersUI[i].showAction(t.action)}},showUserActionUI:function(){var e=this,t=this.data,i=e.myIndex==t.currentPlayer;for(var n in this.playersUI){var a=this.playersUI[n];0!=a.node.active&&null!=a.data&&(a.data.index==t.currentPlayer?a.startCountdown(t.countDown):a.stopCountdown())}if(1==e.handReviewAction.active&&(e.handReviewAction.active=!1),0==i)1==e.turnAction.active&&(e.turnAction.active=!1);else{var o=t.players[e.myIndex],s=o.hands[o.handIndex],c=!0;s.isBust&&(c=!1),s.blackjack&&(c=!1),21==s.totalPoint&&(c=!1),c?0==e.turnAction.active&&(e.betChips.active=!1,e.turnAction.active=!0,this.standBtn.active=!0,this.doubleBtn.active=2==s.cards.length,this.splitBtn.active=2==s.cards.length&&(s.cards[0].card==s.cards[1].card||10==s.cards[0].value&&10==s.cards[1].value)):1==e.turnAction.active&&(e.turnAction.active=!1)}},handReviewObj:function(){var e=this,t=this.data;e.dealer.refreshUI(t.dealerHand),e.handReviewRoot.active=!0;var i=t.countDown;if(e.tweenProgress(i,e.handReviewCountDown,function(){e.handReviewRoot.active=!1}),0==e.isMeInGame())return e.turnAction.active=!1,void(e.handReviewAction.active=!1);e.betChips.active=!1,e.handReviewAction.active=!0,e.turnAction.active=!1,t.dealerHand.cards[0].card&&"A"==t.dealerHand.cards[0].card?(e.insuranceBtn.active=!0,e.surrenderBtn.active=!1):(e.insuranceBtn.active=!1,e.surrenderBtn.active=!0)},isMeInGame:function(){return null!=this.data},getMyIndex:function(){for(var e=this.data.players,t=0;t<e.length;t++)if(e[t].UID==cc.RedT.user.UID)return t;return null},getUIClientIndex:function(e,t){return 0==t?e:e>=t?e-t:this.playersUI.length-(t-e)},tweenProgress:function(e,t,i){var n={a:100};cc.tween(n).to(e,{a:0},{progress:function(e,i,a,o){if(null!=t)try{t.fillRange=a/100}catch(s){cc.Tween.stopAllByTarget(n)}else cc.Tween.stopAllByTarget(n);return e+(i-e)*o}}).call(function(){i&&i()}).start()},refreshPlayersUI:function(e){var t=[];for(var i in e){var n=this.getUIClientIndex(e[i].index,this.myIndex);this.playersUI[n].node.active=!0,this.playersUI[n].refreshUI(e[i]),t.push(parseInt(n))}for(var a=0;a<this.playersUI.length;a++)-1===t.indexOf(a)&&(this.playersUI[a].node.active=!1,this.playersUI[a].data=null)},sendData:function(e){cc.RedT.send({g:{blackjack:e}})},onBet_Click:function(){null!=this.canBetting&&0!=this.canBetting&&this.sendData({user_action:{action:"bet",amount:this.betUIControl.bet},tid:this.data.id})},onHit_Click:function(){this.sendData({user_action:{action:"hit",handIndex:0},tid:this.data.id})},onStand_Click:function(){this.sendData({user_action:{action:"stand"},tid:this.data.id})},onSurrender_Click:function(){this.sendData({user_action:{action:"surrender"},tid:this.data.id})},onInsurance_Click:function(){this.sendData({user_action:{action:"insurance"},tid:this.data.id})},onSplit_Click:function(){this.sendData({user_action:{action:"split"},tid:this.data.id})},onDouble_Click:function(){this.sendData({user_action:{action:"double"},tid:this.data.id})},backToChooseRoom:function(){"JOIN"==this.clientState||"BETTING"==this.clientState&&"0"==this.playersUI[0].bet.string?(this.sendData({outTable:this.data.id}),localStorage.setItem("playing_game",""),localStorage.setItem("playing_money",0)):s.Instance.notice.show({title:o.getLang(cc.RedT.language,"warning"),text:o.getLang(cc.RedT.language,"quit_playing")})},showSettingDropdown:function(){this.objSetting.active=!1,this.objDropdownSetting.active=!0},hideSettingDropdown:function(){this.objSetting.active=!0,this.objDropdownSetting.active=!1},getCardImage:function(e){if(null==e||-1==e)return this.cardHide;var t=e[0],i=0;if(t>="0"&&t<="9")i=parseInt(t);else switch(t){case"J":i=11;break;case"Q":i=12;break;case"K":i=13;break;case"A":i=1;break;case"T":i=10}switch(e[1]){case"H":return this.cardsSpriteH[i];case"D":return this.cardsSpriteD[i];case"C":return this.cardsSpriteC[i];case"S":return this.cardsSpriteS[i]}return this.cardHide}}),cc._RF.pop()},{BJBetUIControl:"BJBetUIControl",BJDealer:"BJDealer",BJPlayer:"BJPlayer",Helper:"Helper",UIPopupManager:"UIPopupManager"}],BJHistoryDialog:[function(e,t){"use strict";cc._RF.push(t,"d9d427+FTZLY7lgwiuwNogH","BJHistoryDialog");var i=e("Helper"),n=e("BJGamePlay");cc.Class({extends:cc.Component,properties:{gameplay:n,page:cc.Prefab,content:cc.Node,cointRed:cc.Node,cointXu:cc.Node,red:!0},onLoad:function(){var e=this;this.page=cc.instantiate(this.page),this.page.y=-307,this.node.addChild(this.page),this.page=this.page.getComponent("Pagination"),Promise.all(this.content.children.map(function(e){return e.getComponent("BJHistoryItem")})).then(function(t){e.content=t}),this.page.init(this)},onEnable:function(){this.get_data()},get_data:function(e){void 0===e&&(e=1),cc.RedT.send({g:{blackjack:{history:{page:e}}}})},changerCoint:function(){this.red=!this.red,this.cointRed.active=!this.cointRed.active,this.cointXu.active=!this.cointXu.active,this.get_data()},getMyIndex:function(e){for(var t=0;t<e.length;t++)if(e[t].playerName==cc.RedT.user.name)return t;return-1},onData:function(e){var t=this;this.page.onSet(e.page,e.kmess,e.total),Promise.all(this.content.map(function(n,a){var o=e.data[a];if(null!=o){var s=t.getMyIndex(o.players),c=o.players[s];n.node.active=!0,n.time.string=o.time.split(".")[0],n.round.string=o.sessionId;var r=o.dealerCards;for(var l in n.dealerHand)r.length>l?(n.dealerHand[l].node.active=!0,n.dealerHand[l].spriteFrame=t.gameplay.getCardImage(r[l].card+""+r[l].suite)):n.dealerHand[l].node.active=!1;var h=0;for(var d in n.myHandsRoot)if(c.hands.length>d){n.myHandsRoot[d].active=!0;var u=c.hands[d].cards;for(var p in h+=c.hands[d].bet,n.myHands[d])u.length>p?(n.myHands[d][p].node.active=!0,n.myHands[d][p].spriteFrame=t.gameplay.getCardImage(u[p].card+""+u[p].suite)):n.myHands[d][p].node.active=!1}else n.myHandsRoot[d].active=!1;var g=c.win;n.bet.string=i.numberWithCommas(h),n.win.string=i.numberWithCommas(g)}else n.node.active=!1}))}}),cc._RF.pop()},{BJGamePlay:"BJGamePlay",Helper:"Helper"}],BJHistoryItem:[function(e,t){"use strict";cc._RF.push(t,"e807dUYCiRPcryf8dt+pKg+","BJHistoryItem"),cc.Class({extends:cc.Component,properties:{time:cc.Label,round:cc.Label,myHandsRoot:{default:[],type:cc.Node},dealerHand:{default:[],type:cc.Sprite},bet:cc.Label,win:cc.Label},onLoad:function(){for(var e in this.myHands=[],this.myHandsRoot){var t=this.myHandsRoot[e],i=[];for(var n in t.children)i.push(t.children[n].getComponent(cc.Sprite));this.myHands.push(i)}},init:function(){}}),cc._RF.pop()},{}],BJLobby:[function(e,t){"use strict";cc._RF.push(t,"38a69cx1wVMNoAhLp5br67b","BJLobby");var i=e("Helper"),n=e("../../Script/ResourceManager");cc.Class({extends:cc.Component,properties:{prefabItem:{default:null,type:cc.Node},contentItem:{default:null,type:cc.Node},username:cc.Label,usercoin:cc.Label,avatar:cc.Sprite,frame:cc.Sprite},start:function(){null==this.uiItemRoomArr&&(this.uiItemRoomArr=[])},callGetInfo:function(){cc.RedT.send({g:{blackjack:{getRoomInfo:!0}}})},cancelUpdate:function(){null!=this.intervalUpdate&&(clearInterval(this.intervalUpdate),this.intervalUpdate=null)},show:function(e){var t=this;t.username.string=cc.RedT.user.name,t.usercoin.string=i.numberWithCommas(cc.RedT.user.red);var a=n.Instance.avatars[cc.RedT.user.avatar];null!=a&&(t.avatar.spriteFrame=a),this.frame&&cc.RedT.MainGame.updateFrame(Math.floor(cc.RedT.user.systemLevel/5)-1,this.frame),null==t.uiItemRoomArr&&(t.uiItemRoomArr=[]),null!=t.intervalUpdate&&(clearInterval(t.intervalUpdate),t.intervalUpdate=null),t.intervalUpdate=setInterval(function(){null!=t.node&&0!=t.node.active?t.callGetInfo():clearInterval(t.intervalUpdate)},6e4),t.node.active=!0;for(var o=0;o<t.uiItemRoomArr.length;o++)t.uiItemRoomArr[o].node.destroy();t.uiItemRoomArr=[],t.createItemsRoom(e)},createItemsRoom:function(e){for(var t=0;t<e.length;t++){var i=cc.instantiate(this.prefabItem);i.parent=this.contentItem;var n=i.getComponent("BJ_UIChooseRoom");n.init(this,e[t]),this.uiItemRoomArr.push(n)}},destroyItemsRoom:function(){this.contentItem.removeAllChildren()},hide:function(){this.node.active=!1,null!=this.intervalUpdate&&(clearInterval(this.intervalUpdate),this.intervalUpdate=null),this.destroyItemsRoom()},playnow:function(){cc.RedT.send({g:{blackjack:{playNow:!0}}})},backGame:function(){cc.RedT.send({g:{blackjack:{outgame:!0}}}),void 0!==this.intervalUpdate&&clearInterval(this.intervalUpdate),cc.RedT.inGame.gameplay.pauseMusic(),cc.director.loadScene("MainGame")}}),cc._RF.pop()},{"../../Script/ResourceManager":"ResourceManager",Helper:"Helper"}],BJPlayerChipPoll:[function(e,t){"use strict";cc._RF.push(t,"d0ef2rwtANDqbhbQ2ddEvHt","BJPlayerChipPoll"),e("BJPlayerHand"),e("Helper"),e("Helper"),cc.Class({extends:cc.Component,properties:{chipPrefab:cc.Node,chipActiveContent:cc.Node,chipImages:{type:cc.SpriteFrame,default:[]}},refreshRoom:function(e){this.room=e},reset:function(){for(var e in null==this.chipPoll&&(this.chipPoll=[],this.chipsActive=[],this.currentBet=0),this.chipsActive)this.chipsActive[e].active=!1;this.chipPoll=this.chipPoll.concat(this.chipsActive),this.chipsActive=[],this.currentBet=0},checkBet:function(e){if(this.currentBet!=e){var t=Math.floor(e-this.currentBet);this.currentBet=e;var i=null;this.chipActiveContent.childrenCount>=3?((i=this.chipActiveContent.children[0]).active=!1,i.parent=this.node):i=0==this.chipPoll.length?cc.instantiate(this.chipPrefab):this.chipPoll.pop(),i.active=!0,this.chipsActive.push(i),this.chipActiveContent.insertChild(i);try{var n;n=t<=this.room?0:t<=Math.floor(2*this.room)?1:t<=Math.floor(10*this.room)?2:this.chipImages.length-1,i.getComponent(cc.Sprite).spriteFrame=this.chipImages[n]}catch(a){console.trace(a)}}}}),cc._RF.pop()},{BJPlayerHand:"BJPlayerHand",Helper:"Helper"}],BJPlayerHand:[function(e,t){"use strict";cc._RF.push(t,"848e1RDjBpMT7oJ8IXvo+3m","BJPlayerHand"),cc.Class({extends:cc.Component,properties:{point:cc.Label,pointRoot:cc.Node,pointBackground:cc.Sprite,pointBackgroundNormal:cc.SpriteFrame,pointBackgroundBust:cc.SpriteFrame,cardRoot:cc.Node,animBlackJack:cc.Node,anim21:cc.Node,animBust:cc.Node},init:function(e,t){for(var i in this.playerUI=e,this.gameplay=t,this.cards=[],this.cardRoot.children)this.cards.push(this.cardRoot.children[i].getComponent(cc.Sprite))},refreshUI:function(e,t){try{for(var i in this.node.opacity=t?255:170,this.cardRoot.active=!0,this.pointRoot.active=!0,this.cards)e.cards.length>i?(this.cards[i].node.active=!0,this.cards[i].spriteFrame=this.gameplay.getCardImage(e.cards[i].card+""+e.cards[i].suite)):this.cards[i].node.active=!1;this.point.string=e.totalPoint,this.pointBackground.spriteFrame=e.totalPoint>21?this.pointBackgroundBust:this.pointBackgroundNormal,e.blackjack?0==this.animBlackJack.active&&(this.point.node.active=!1,this.animBlackJack.active=!0,cc.tween(this.animBlackJack).to(.5,{scale:1.2}).to(.5,{scale:1}).repeat(2).start(),this.anim21.active=!1,this.animBust.active=!1):e.isBust?0==this.animBust.active&&(this.point.node.active=!0,cc.tween(this.point.node).to(.5,{scale:1.2}).to(.5,{scale:1}).start(),this.animBlackJack.active=!1,this.anim21.active=!1,this.animBust.active=!0,cc.tween(this.animBust).to(.5,{scale:1.2}).to(.5,{scale:1}).start()):21==e.totalPoint?0==this.anim21.active&&(this.point.node.active=!0,this.animBlackJack.active=!1,this.anim21.active=!0,this.animBust.active=!1):(this.point.node.active=!0,this.animBlackJack.active=!1,this.anim21.active=!1,this.animBust.active=!1)}catch(n){console.log("ERROR: "+n)}}}),cc._RF.pop()},{}],BJPlayer:[function(e,t){"use strict";cc._RF.push(t,"fab055wrsxBwpconMew5sRz","BJPlayer");var i=e("BJPlayerHand"),n=e("Helper"),a=e("BJPlayerChipPoll"),o=e("../../Script/ResourceManager");cc.Class({extends:cc.Component,properties:{playerName:cc.Label,red:cc.Label,bet:cc.Label,countDown:cc.Sprite,avatar:cc.Sprite,frame:cc.Sprite,hands:{default:[],type:i},handsPos:{default:[],type:cc.Node},objResult:cc.Node,moneyResult:cc.Label,objWin:cc.Node,objLose:cc.Node,chatObj:cc.Node,chatLabel:cc.Label,chipPoll:a,objInsurance:cc.Node},init:function(e){for(var t in this.gameplay=e,this.objResult.active=!1,this.hands)this.hands[t].init(this,e);this.reset(),this.handsChildCount=this.handsPos[0].parent.childrenCount,this.chatObj.active=!1},reset:function(){for(var e in this.objResult.active=!1,this.bet.string="0",this.hands)this.hands[e].node.active=!1;this.objInsurance.active=!1,this.stopCountdown(),this.chipPoll.reset()},showAction:function(e){this.chatLabel.string=e,this.chatObj.scale=1,this.chatObj.active=!0;var t=this;null!=t.timeoutChat&&clearTimeout(t.timeoutChat),t.timeoutChat=setTimeout(function(){t.chatObj.active=!1},3e3)},Chat:function(e){this.chatLabel.string=e,this.chatObj.scale=1,this.chatObj.active=!0;var t=this;null!=t.timeoutChat&&clearTimeout(t.timeoutChat),t.timeoutChat=setTimeout(function(){t.chatObj.active=!1},3e3)},hideChat:function(){var e=this;cc.tween(this.chatObj).to(.4,{scale:0}).call(function(){e.chatObj.active=!1}).start()},showResult:function(e){this.objResult.active=!0;var t=e.win;this.moneyResult.string=(t>0?"+":"")+n.numberWithCommas(t),t>0?(this.objWin.active=!0,this.objLose.active=!1,this.moneyResult.node.color=cc.Color.YELLOW):(this.objWin.active=!1,this.objLose.active=!0,this.moneyResult.node.active=!1)},startCountdown:function(e){var t=this;t.countDown.node.active=!0,t.tweenProgress(e,t.countDown,function(){t.countDown.node.active=!1})},stopCountdown:function(){null!=this.TweenObject&&cc.Tween.stopAllByTarget(this.TweenObject),this.countDown.fillRange=0,this.countDown.node.active=!1},tweenProgress:function(e,t,i){this.TweenObject={a:100};var n=this;cc.tween(this.TweenObject).to(e,{a:0},{progress:function(e,i,n,a){return t.fillRange=n/100,e+(i-e)*a}}).call(function(){n.TweenObject=null,i&&i()}).start()},refreshUI:function(e){this.gameplay&&this.gameplay.data&&this.chipPoll.refreshRoom(this.gameplay.data.room),this.data=e,this.playerName.string=e.playerName,this.red.string=n.numberWithCommas(e.chips);var t={red:e.chips};cc.RedT.userData(t),this.bet.string=n.numberWithCommas(e.bet),this.chipPoll.checkBet(e.bet);var i=parseInt(e.avatar);if(isNaN(i)&&(i=0),this.avatar.spriteFrame=o.Instance.avatars[i],this.frame&&cc.RedT.MainGame.updateFrame(Math.floor(cc.RedT.user.systemLevel/5)-1,this.frame),e.insurance&&0==this.objInsurance.active&&(this.objInsurance.scale=0,this.objInsurance.active=!0,cc.tween(this.objInsurance).to(.8,{scale:1}).start()),null==e.hands)for(var a in this.hands)this.hands[a].node.active=!1;else{var s=1;for(var a in this.hands)if(e.hands.length>a){this.hands[a].node.active=!0,this.hands[a].refreshUI(e.hands[a],a==e.handIndex);var c=a==e.handIndex?0:s;this.hands[a].node.setSiblingIndex(this.handsChildCount-(c+1)),this.hands[a].node.x=this.handsPos[c].x,this.hands[a].node.y=this.handsPos[c].y,a!=e.handIndex&&s++}else this.hands[a].node.active=!1}}}),cc._RF.pop()},{"../../Script/ResourceManager":"ResourceManager",BJPlayerChipPoll:"BJPlayerChipPoll",BJPlayerHand:"BJPlayerHand",Helper:"Helper"}],BJ_UIChooseRoom:[function(e,t){"use strict";cc._RF.push(t,"75f7bIGkCFOMZZKrIgoZZKy","BJ_UIChooseRoom");var i=e("Helper");cc.Class({extends:cc.Component,properties:{labelMucCuoc:{default:null,type:cc.Label},labelCuocToiDa:{default:null,type:cc.Label},labelSoNguoiChoi:{default:null,type:cc.Label},spriteProgress:{default:null,type:cc.Sprite}},init:function(e,t){this.screenLobby=e,this.data=t,this.labelMucCuoc.string=i.numberWithCommas(t.room),this.labelCuocToiDa.string=i.numberWithCommas(100*t.room),this.labelSoNguoiChoi.string=t.playerCount+"/"+t.maxPlayers,this.spriteProgress.fillRange=t.playerCount/t.maxPlayers},onBtnPlay:function(){cc.RedT.send({g:{blackjack:{joinTable:this.data.id}}})}}),cc._RF.pop()},{Helper:"Helper"}],BaCayChat:[function(e,t){"use strict";cc._RF.push(t,"052ceC0/2hGeJrkfkj2aCnM","BaCayChat");var i=e("Helper"),n=e("BrowserUtil");cc.Class({extends:cc.Component,properties:{content:{default:null,type:cc.ScrollView},item:{default:null,type:cc.Prefab},input:{default:null,type:cc.EditBox},layout:{default:null,type:cc.Layout},isLoad:!1},init:function(e){this.RedT=e,void 0!==cc.RedT.setting.threecards.chat_active&&(this.node.active=cc.RedT.setting.threecards.chat_active)},onLoad:function(){var e=this;this.keyHandle=function(t){return t.keyCode===cc.macro.KEY.tab?(t.preventDefault&&t.preventDefault(),!1):t.keyCode===cc.macro.KEY.enter?(n.focusGame(),e.onChatClick(),t.preventDefault&&t.preventDefault(),!1):void 0}},onEnable:function(){cc.sys.isBrowser&&this.addEvent(),this.isLoad||this.getData()},onDisable:function(){cc.sys.isBrowser&&this.removeEvent(),this.clean()},addEvent:function(){n.getHTMLElementByEditBox(this.input).addEventListener("keydown",this.keyHandle,!1)},removeEvent:function(){n.getHTMLElementByEditBox(this.input).removeEventListener("keydown",this.keyHandle,!1)},getData:function(){this.isLoad=!0,null!=this.RedT&&(this.RedT.isPrivate?cc.RedT.send({g:{bacay_p:{getLogChat:!0,room_id:this.RedT.room_id}}}):cc.RedT.send({g:{threecards:{getLogChat:!0}}}))},message:function(e,t){void 0===t&&(t=!1);var i=cc.instantiate(this.item),n=i.getComponent(cc.Label);e.value=e.value.replace("\r",""),n.string=e.user+": "+e.value,i.children[0].getComponent(cc.Label).string=e.user,this.content.content.addChild(i),t&&this.layout.node.height>300&&this.layout.node.height-this.layout.node.position.y-134<70&&setTimeout(function(){this.content&&this.content.scrollToBottom(.1)}.bind(this),100)},logs:function(e){var t=this;if(e.length){var i=this;Promise.all(e.map(function(e){return i.message(e)})).then(function(){setTimeout(function(){this.content&&this.content.scrollToBottom(.1)}.bind(t),100)})}},onData:function(e){void 0!==e.message&&this.message(e.message,!0),void 0!==e.logs&&this.logs(e.logs)},onChatClick:function(){i.isEmpty(this.input.string)?this.RedT.onData({err:i.getLang(cc.RedT.language,"chat_err")}):(this.RedT.isPrivate?cc.RedT.send({g:{bacay_p:{chat:this.input.string,room_id:this.RedT.room_id}}}):cc.RedT.send({g:{threecards:{chat:this.input.string}}}),this.onData({message:{user:cc.RedT.user.name,value:this.input.string}}),this.clean())},toggle:function(){cc.RedT.audio.playClick(),this.node.active=cc.RedT.setting.threecards.chat_active=!this.node.active},clean:function(){this.input.string=""},reset:function(){this.content.content.destroyAllChildren(),this.node.active=!1}}),cc._RF.pop()},{BrowserUtil:"BrowserUtil",Helper:"Helper"}],BaCay_LichSu:[function(e,t){"use strict";cc._RF.push(t,"3e2e6OA3oxHKpxTPSN2nHiU","BaCay_LichSu");var i=e("Helper");cc.Class({extends:cc.Component,properties:{titleNameOrTime:cc.Label,page:cc.Prefab,content:cc.Node,cointRed:cc.Node,cointXu:cc.Node,red:!0},init:function(e){this.RedT=e},onLoad:function(){var e=this;this.page=cc.instantiate(this.page),this.page.y=-307,this.node.addChild(this.page),this.page=this.page.getComponent("Pagination"),Promise.all(this.content.children.map(function(e){return e.getComponent("BaCay_ls_item")})).then(function(t){e.content=t}),this.page.init(this)},onEnable:function(){this.get_data()},get_data:function(e){void 0===e&&(e=1),this.is_private&&1==this.is_private?cc.RedT.send({g:{bacay_p:{viewlogs:{red:this.red,page:e,room_id:this.room_id}}}}):cc.RedT.send({g:{threecards:{viewlogs:{red:this.red,page:e}}}})},changerCoint:function(){this.red=!this.red,this.cointRed.active=!this.cointRed.active,this.cointXu.active=!this.cointXu.active,this.get_data()},onData:function(e){var t=this;this.page.onSet(e.page,e.kmess,e.total),Promise.all(this.content.map(function(n,a){var o=e.data[a];if(void 0!==o){var s=function(e){return e[0].substring(0,1)+""+e[1].substring(0,1)+e[2].substring(0,1)},c=!0;t.root&&t.root.isPrivate&&(t.root.isOwner?(c=!1,t.titleNameOrTime.string=i.getLang(cc.RedT.language,"participants")):t.titleNameOrTime.string=i.getLang(cc.RedT.language,"time"));var r=new Date(o.time);r.setTime(r.getTime()+252e5),n.node.active=!0,n.time.string=c?r.toISOString().split(".")[0].replace("T"," "):o.name,n.phien.string=o.session,n.thang.string=i.numberWithCommas(o.betwin),n.kq.string=s(o.kq[0]);var l="";for(a=1;a<o.kq.length;a++)o[a]>0&&(l+=a+"|"+s(o.kq[a])+"  ");l.length>=1&&(l=l.substring(0,l.length-1)),n.dat.string=l}else n.node.active=!1}))}}),cc._RF.pop()},{Helper:"Helper"}],BaCay_dialog:[function(e,t){"use strict";cc._RF.push(t,"e85b2+z5B9IQZCdIloZI3Cm","BaCay_dialog");var i=e("BaCay_LichSu"),n=e("BaCay_top");cc.Class({extends:cc.Component,properties:{history:i,top:n,tutorial:cc.Node},init:function(){this.actionShow=cc.spawn(cc.scaleTo(.5,1).easing(cc.easeBackOut(2.5)),cc.fadeTo(.5,255)),this.objShow=null,this.objTmp=null},onClickBack:function(){cc.RedT.audio.playUnClick(),this.onBack()},onBack:function(){null!=this.objShow?null==this.objShow.previous||null==this.objShow.previous?(this.objShow.active=!1,this.node.active=!1,this.objShow=null):(this.objTmp=this.objShow,this.objShow=this.objShow.previous,this.objTmp.previous=null,this.objTmp.active=!1,this.objShow.active=!0,this.objTmp=null):this.node.active=!1},onClosePrevious:function(e){void 0!==e.previous&&null!==e.previous&&(this.onClosePrevious(e.previous),delete e.previous),e.active=!1},onCloseDialog:function(){null!=this.objShow?null==this.objShow.previous||null==this.objShow.previous?(this.objShow.active=this.node.active=!1,this.objShow=null):(this.onClosePrevious(this.objShow.previous),this.objShow.active=this.node.active=!1,delete this.objShow.previous,this.objShow=null):this.node.active=!1},resetSizeDialog:function(e){e.stopAllActions(),e.scale=.5,e.opacity=0},showHistory:function(){this.node.active=this.history.node.active=!0,this.objShow=this.history.node},showTop:function(){this.node.active=this.top.node.active=!0,this.objShow=this.top.node},showSetting:function(){this.node.active=this.setting.node.active=!0,this.objShow=this.setting.node},showTutorial:function(){this.node.active=this.tutorial.active=!0,this.objShow=this.tutorial}}),cc._RF.pop()},{BaCay_LichSu:"BaCay_LichSu",BaCay_top:"BaCay_top"}],BaCay_linhVat:[function(e,t){"use strict";cc._RF.push(t,"53b4fkBhURMd4NyXeisL/mS","BaCay_linhVat");var i=e("Helper");cc.Class({extends:cc.Component,properties:{xLabel:cc.Label,totall:cc.Label,me:cc.Label,gate:cc.Label,nodeMe:cc.Node,nodeSelect:cc.Node,arrCard:{default:[],type:cc.Sprite}},meCuoc:function(e){e?(this.nodeMe.active=!0,this.me.string=i.nFormatter(e,1)):this.nodeMe.active=!1},totallCuoc:function(e){this.totall.string=e?i.nFormatter(e,1):0},Select:function(e){this.nodeSelect.active=!0,e>1?(this.xLabel.node.active=!0,this.xLabel.string="x"+e):this.xLabel.node.active=!1},unSelect:function(){this.nodeSelect.active=this.xLabel.node.active=!1}}),cc._RF.pop()},{Helper:"Helper"}],BaCay_logMini:[function(e,t){"use strict";cc._RF.push(t,"1d7caOVhNxH/6sO8prfssr8","BaCay_logMini"),cc.Class({extends:cc.Component,properties:{icon:{default:[],type:cc.Sprite}}}),cc._RF.pop()},{}],BaCay_ls_item:[function(e,t){"use strict";cc._RF.push(t,"d27e88n/sxEeowua4auOgUM","BaCay_ls_item"),cc.Class({extends:cc.Component,properties:{time:cc.Label,phien:cc.Label,thang:cc.Label,kq:cc.Label,dat:cc.Label}}),cc._RF.pop()},{}],BaCay_top_item:[function(e,t){"use strict";cc._RF.push(t,"6639fe3gk9LDLF4/3cC6vA+","BaCay_top_item"),cc.Class({extends:cc.Component,properties:{stt:cc.Label,nick:cc.Label,win:cc.Label}}),cc._RF.pop()},{}],BaCay_top:[function(e,t){"use strict";cc._RF.push(t,"6fda9s9RfxO7qUKhKbmnLYz","BaCay_top");var i=e("Helper");cc.Class({extends:cc.Component,properties:{item:cc.Prefab,content:cc.Node,cointRed:cc.Node,cointXu:cc.Node,red:!0},init:function(e){this.RedT=e},onEnable:function(){this.get_data()},get_data:function(e){void 0===e&&(e=1),cc.RedT.send({g:{threecards:{tops:this.red}}})},changerCoint:function(){this.red=!this.red,this.cointRed.active=!this.cointRed.active,this.cointXu.active=!this.cointXu.active,this.get_data()},onData:function(e){cc.log("onData VinhDanh:"+JSON.stringify(e)),this.content.removeAllChildren();var t=this;Promise.all(e.map(function(e,n){var a=cc.instantiate(t.item),o=a.getComponent("BaCay_top_item");o.stt.string=n+1,""==e.name&&(e.name="eric"),o.nick.string=e.name,o.win.string=i.numberWithCommas(e.bet),a.children[0].active=!(1&n),t.content.addChild(a)}))}}),cc._RF.pop()},{Helper:"Helper"}],BaCay:[function(e,t){"use strict";cc._RF.push(t,"2f0a3AJFLlDmKa0Y7a4sxRC","BaCay");var i=e("Helper"),n=e("BaCay_linhVat"),a=e("Card"),o=e("BaCay_dialog"),s=e("BaCayChat"),c=e("UIUserBaCay"),r=(e("Notice"),e("UIPopupManager")),l=e("Admob");cc.Class({extends:cc.Component,properties:{audioBG:cc.AudioSource,audioIcons:{default:[],type:cc.SpriteFrame},audioIcon:cc.Sprite,labelCountUser:cc.Label,objDropdownSetting:cc.Node,boxWatchVideo:cc.Node,Progress:cc.Sprite,time:cc.Label,usersList:{default:[],type:c},chat:s,dialog:o,me_name:cc.Label,me_balans:cc.Label,me_avatar:cc.Sprite,me_frame:cc.Sprite,background:cc.Node,linhVat:{default:[],type:n},spriteCardEmpty:cc.SpriteFrame,cardManager:a,dices:{default:[],type:cc.Sprite},gate:cc.Label,bgGate:cc.Node,titleTime:cc.Label,labelTime:cc.Label,Animation:cc.Animation,bet:cc.Node,prefabLogs:cc.Prefab,nodeNotice:cc.Node,prefabNotice:cc.Prefab,cuoc:"",red:!0},onLoad:function(){var e;cc.RedT.inGame=this,this.isShowBoxUI=!1,this.cardManager.init(),this.dialog.init();for(var t=0;t<this.usersList.length;t++)this.usersList[t].node.active=!1;localStorage.setItem("playing_game","Bacay"),localStorage.setItem("playing_money",5e4),cc.RedT.setting.threecards=cc.RedT.setting.threecards||{regOpen:!1,data:(e={me1:0,me2:0,me3:0,me4:0,me5:0,me6:0,me7:0,me8:0},e.me8=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e),logLV:{},red:!0,bet:"1000"},this.ttOffset=null,this.resetData();var n=localStorage.getItem("threecards");this.me_name.string=cc.RedT.user.name,this.me_balans.string=i.numberWithCommas(cc.RedT.user.red),cc.RedT.updateAvatar(cc.RedT.user.avatar,this.me_avatar),this.me_frame&&cc.RedT.MainGame.updateFrame(Math.floor(cc.RedT.user.systemLevel/5)-1,this.me_frame),this.chat.init(this),"true"==n&&(this.node.active=!0),void 0!==cc.RedT.setting.threecards.position&&(this.node.position=cc.RedT.setting.threecards.position),void 0!==cc.RedT.setting.threecards.time_remain&&(cc.RedT.setting.threecards.time_remain++,this.nextRealTime(),this.playTime()),cc.RedT.IS_LOGIN&&(this.DataHandling(cc.RedT.setting.threecards.data),this.red!=cc.RedT.setting.threecards.red&&this.changerCoint(),this.intChangerBet()),this.Animation.on("finished",this.AnimationFinish,this)},playMusic:function(){null!=this&&null!=this.audioBG&&this.audioBG.play()},pauseMusic:function(){null!=this&&null!=this.audioBG&&this.audioBG.stop()},onSetAudio:function(){this.audioIcon.spriteFrame==this.audioIcons[1]?(this.pauseMusic(),this.audioIcon.spriteFrame=this.audioIcons[0]):(this.playMusic(),this.audioIcon.spriteFrame=this.audioIcons[1])},showSettingDropdown:function(){this.objDropdownSetting.active=!this.objDropdownSetting.active},userData:function(e){e.red?this.me_balans.string=i.numberWithCommas(e.red):this.me_balans.string=i.numberWithCommas(e.xu)},onEnable:function(){this.regEvent(!0),this.intervalCountDown&&(clearInterval(this.intervalCountDown),this.intervalCountDown=null),this.check5minsWatchEvent()?(this.Progress.fillRange=0,this.time.node.active=!1):this.startCountDown()},onDisable:function(){this.hideCountDown(),null!=this.timeOut&&(clearTimeout(this.timeOut),this.timeOut=null)},regEvent:function(){cc.RedT.send({g:{threecards:{regOpen:!0,view:!0}}})},eventStart:function(e){this.setTop(),this.ttOffset=cc.v2(e.touch.getLocationX()-this.node.position.x,e.touch.getLocationY()-this.node.position.y)},eventMove:function(e){this.node.position=cc.v2(e.touch.getLocationX()-this.ttOffset.x,e.touch.getLocationY()-this.ttOffset.y)},eventEnd:function(){cc.RedT.setting.threecards.position=this.node.position},openGame:function(){cc.RedT.audio.playClick(),cc.RedT.IS_LOGIN?(this.node.active=!0,localStorage.setItem("threecards",!1),this.setTop()):cc.RedT.main.dialog.showSignIn()},closeGame:function(){cc.RedT.send({g:{threecards:{view:!1}}}),void 0!==this.timeInterval&&clearInterval(this.timeInterval),cc.RedT.audio.playUnClick(),localStorage.setItem("threecards",!1),this.pauseMusic(),cc.director.preloadScene("MainGame",function(){cc.director.loadScene("MainGame")})},setTop:function(){this.node.parent.insertChild(this.node)},changerCoint:function(){this.red=!this.red,cc.RedT.setting.threecards.regOpen&&this.DataHandling(cc.RedT.setting.threecards.data),cc.RedT.setting.threecards.red=this.red},intChangerBet:function(){var e=this;Promise.all(this.bet.children.map(function(t){t.name==cc.RedT.setting.threecards.bet?(e.cuoc=t.name,t.children[0].active=!0,t.pauseSystemEvents()):(t.children[0].active=!1,t.resumeSystemEvents())}))},changerBet:function(e,t){cc.RedT.audio.playBetting(),this.cuoc=t;var i=e.target;Promise.all(this.bet.children.map(function(e){e==i?(e.children[0].active=!0,e.pauseSystemEvents()):(e.children[0].active=!1,e.resumeSystemEvents())})),cc.RedT.setting.threecards.bet=i.name},AnimationFinish:function(){for(var e=cc.RedT.setting.threecards.logs[0],t={},i=0;i<3;i++){var n=e[i];cc.RedT.setting.threecards.logLV[n]+=1,void 0===t[n]?t[n]=1:t[n]+=1}for(var a=0;a<6;a++)void 0!==t[a]&&this.linhVat[a].Select(t[a])},datCuoc:function(e,t){this.cuoc<100?this.addNotice(i.getLang(cc.RedT.language,"choose_bet")):cc.RedT.send({g:{threecards:{cuoc:{cuoc:this.cuoc,red:this.red,linhVat:t}}}})},addNotice:function(e){"string"==typeof e?r.Instance.notice.show({title:i.getLang(cc.RedT.language,"taixiu_notice"),text:e}):void 0!==e.button?r.Instance.notice.show({title:e.title,text:e.text,button:{text:"notice",type:"watchVideo"}}):r.Instance.notice.show({title:e.title,text:e.text})},getKq:function(e){var t=this.getValue(e[0])+this.getValue(e[1])+this.getValue(e[2]);return t<=10?t:20==t||30==t?10:t%10},getValue:function(e){var t=e.substring(0,1);return"A"==t?1:parseInt(t)},setDice:function(e){var t=this;t.gate.string=this.getKq(e)+"",t.bgGate.active=!0,Promise.all(e.map(function(e,i){i<3&&(t.dices[i].spriteFrame=t.cardManager.getCardByName(e))}))},showCardPlayers:function(e){for(var t=0;t<this.linhVat.length;t++){var i=this.linhVat[t];i.gate.string=this.getKq(e[t+1]),this.bgGate.active=!0;for(var n=0;n<i.arrCard.length;n++)i.arrCard[n].node.active=!0,i.arrCard[n].spriteFrame=this.cardManager.getCardByName(e[t+1][n])}},onDestroy:function(){void 0!==this.timeInterval&&clearInterval(this.timeInterval)},showUserView:function(e,t){e.node.active=!0,e.init(t.name,t.red,t.avatar)},onData:function(e){if(null!=e.threecards){if(void 0!==e.threecards.viewUsers&&e.threecards.viewUsers.length>0){for(var t=0;t<e.threecards.viewUsers.length;t++)e.threecards.viewUsers[t].name==cc.RedT.user.name&&e.threecards.viewUsers.splice(t,1);this.labelCountUser.string=e.threecards.viewUsers.length;var i=0;for(t=0;t<this.usersList.length;t++)t<=e.threecards.viewUsers.length-1?this.showUserView(this.usersList[t],e.threecards.viewUsers[i]):this.usersList[t].node.active=!1,i++}void 0!==e.threecards.chat&&this.chat.onData(e.threecards.chat),void 0!==e.threecards.data&&(Object.assign(cc.RedT.setting.threecards.data,e.threecards.data),this.DataHandling(e.threecards.data)),void 0!==e.threecards.status&&this.status(e.threecards.status),void 0!==e.threecards.finish&&(cc.RedT.setting.threecards.regOpen&&(this.unSelect(),void 0!==this.timeInterval&&clearInterval(this.timeInterval),cc.RedT.setting.threecards.logs.unshift([e.threecards.finish.cards[0][0],e.threecards.finish.cards[0][1],e.threecards.finish.cards[0][2]]),cc.RedT.setting.threecards.logs.length>15&&cc.RedT.setting.threecards.logs.pop(),this.setDice(e.threecards.finish.cards[0]),this.showCardPlayers(e.threecards.finish.cards)),cc.RedT.setting.threecards.time_remain=cc.RedT.setting.threecards.gamestimes.total_time,this.playTime())}null!=e.game&&e.game,void 0!==e.user&&(e.user.newLevel&&e.user.oldLevel&&e.user.bonus&&e.user.newLevel>e.user.oldLevel&&(r.Instance.noticeBonusLvl(e),cc.RedT.user.systemLevel=e.newLevel),this.userData(e.user),cc.RedT.userData(e.user)),void 0!==e.notice&&this.addNotice(e.notice),null!=e.mini&&(void 0!==e.user&&void 0!==e.user&&(this.userData(e.user),cc.RedT.userData(e.user)),null!=e.mini.threecards)&&(void 0!==(e=e.mini.threecards).user&&(this.userData(e.user),cc.RedT.userData(e.user)),void 0!==e.data&&(Object.assign(cc.RedT.setting.threecards.data,e.data),this.DataHandling(e.data)),void 0!==e.logs&&(cc.RedT.setting.threecards.logs=e.logs),void 0!==e.tops&&this.dialog.top.onData(e.tops),void 0!==e.gamestimes&&(this.gamestimes=e.gamestimes,cc.RedT.setting.threecards.gamestimes=e.gamestimes),void 0!==e.viewlogs&&this.dialog.history.onData(e.viewlogs),void 0!==e.regOpen&&(cc.RedT.setting.threecards.regOpen=!0),void 0!==e.time_remain&&(void 0!==e.gamestimes&&(this.gamestimes=e.gamestimes,cc.RedT.setting.threecards.gamestimes=e.gamestimes),cc.RedT.setting.threecards.time_remain=e.time_remain,this.playTime()),void 0!==e.notice&&this.addNotice(e.notice))},playTime:function(){void 0!==this.timeInterval&&clearInterval(this.timeInterval),this.timeInterval=setInterval(function(){if(cc.RedT.setting.threecards.time_remain>cc.RedT.setting.threecards.gamestimes.play_time+1){var e=i.numberPad(cc.RedT.setting.threecards.time_remain-(cc.RedT.setting.threecards.gamestimes.play_time+2),2);this.labelTime.node.color=cc.Color.RED,this.labelTime.string=e,this.titleTime.string=i.getLang(cc.RedT.language,"roulette_wait"),cc.RedT.setting.threecards.time_remain,cc.RedT.setting.threecards.gamestimes.play_time}else if(cc.RedT.setting.threecards.regOpen&&cc.RedT.setting.threecards.time_remain>=cc.RedT.setting.threecards.gamestimes.play_time+1&&this.resetData(),this.titleTime.string=i.getLang(cc.RedT.language,"betting"),cc.RedT.setting.threecards.time_remain>0){var t=i.numberPad(cc.RedT.setting.threecards.time_remain-1,2);this.labelTime.string=t,this.labelTime.node.color=cc.Color.YELLOW}else clearInterval(this.timeInterval);cc.RedT.setting.threecards.time_remain--,cc.RedT.setting.threecards.time_remain<cc.RedT.setting.threecards.gamestimes.wait_time&&cc.RedT.audio.playTimer()}.bind(this),1e3)},nextRealTime:function(){if(cc.RedT.setting.threecards.time_remain>cc.RedT.setting.threecards.gamestimes.play_time+1){var e=i.numberPad(cc.RedT.setting.threecards.time_remain-(cc.RedT.setting.threecards.gamestimes.play_time+2),2);this.labelTime.node.color=cc.Color.RED,this.labelTime.string=i.numberPad(e,2),this.titleTime.string=i.getLang(cc.RedT.language,"roulette_wait")}else this.titleTime.string=i.getLang(cc.RedT.language,"betting"),cc.RedT.setting.threecards.time_remain>0&&(e=i.numberPad(cc.RedT.setting.threecards.time_remain-1,2),this.labelTime.string=e,this.labelTime.node.color=cc.Color.YELLOW)},DataHandling:function(e){void 0!==e.pos1&&this.linhVat[0].totallCuoc(e.pos1),void 0!==e.pos2&&this.linhVat[1].totallCuoc(e.pos2),void 0!==e.pos3&&this.linhVat[2].totallCuoc(e.pos3),void 0!==e.pos4&&this.linhVat[3].totallCuoc(e.pos4),void 0!==e.pos5&&this.linhVat[4].totallCuoc(e.pos5),void 0!==e.pos6&&this.linhVat[5].totallCuoc(e.pos6),void 0!==e.pos7&&this.linhVat[6].totallCuoc(e.pos7),void 0!==e.pos8&&this.linhVat[7].totallCuoc(e.pos8),void 0!==e.pos9&&this.linhVat[8].totallCuoc(e.pos9),void 0!==e.me1&&this.linhVat[0].meCuoc(e.me1),void 0!==e.me2&&this.linhVat[1].meCuoc(e.me2),void 0!==e.me3&&this.linhVat[2].meCuoc(e.me3),void 0!==e.me4&&this.linhVat[3].meCuoc(e.me4),void 0!==e.me5&&this.linhVat[4].meCuoc(e.me5),void 0!==e.me6&&this.linhVat[5].meCuoc(e.me6),void 0!==e.me7&&this.linhVat[6].meCuoc(e.me7),void 0!==e.me8&&this.linhVat[7].meCuoc(e.me8),void 0!==e.me9&&this.linhVat[8].meCuoc(e.me9)},unSelect:function(){Promise.all(this.linhVat.map(function(e){e.unSelect()}))},resetData:function(){var e=this;cc.RedT.audio.playNewgame();var t=Object.keys(cc.RedT.setting.threecards.data);Promise.all(t.map(function(e){return cc.RedT.setting.threecards.data[e]=0})).then(function(){e.DataHandling(cc.RedT.setting.threecards.data)});for(var i=0;i<this.dices.length;i++)this.dices[i].spriteFrame=this.spriteCardEmpty;for(this.gate.string="",this.bgGate.active=!1,i=0;i<this.linhVat.length;i++){this.linhVat[i].gate.string="";for(var n=0;n<this.linhVat[i].arrCard.length;n++)this.linhVat[i].arrCard[n].spriteFrame=this.spriteCardEmpty}this.unSelect()},newGame:function(){cc.RedT.setting.threecards.regOpen=!1,void 0!==this.timeInterval&&clearInterval(this.timeInterval)},signOut:function(){localStorage.setItem("playing_game",""),localStorage.setItem("playing_money",0),cc.director.preloadScene("MainGame",function(){cc.director.loadScene("MainGame"),cc.RedT.inGame.signOut()})},status:function(e){this.timeOut=setTimeout(function(){if(e.win){cc.RedT.audio.playChip();var t=new cc.Node;t.addComponent(cc.Label),t=t.getComponent(cc.Label);var n=parseInt(e.bet);1==e.win&&(n+=parseInt(e.thuong));var a={};if(a.red=parseInt(cc.RedT.user.red)+n,this.userData(a),cc.RedT.userData(a),t.string=(e.win?"+":"-")+i.numberWithCommas(e.bet),t.node.color=cc.Color.YELLOW,t.font=e.win?cc.RedT.util.fontCong:cc.RedT.util.fontTru,t.lineHeight=130,t.fontSize=30,t.node.position=cc.v2(0,90),this.nodeNotice.addChild(t.node),t.node.runAction(cc.sequence(cc.moveTo(3.5,cc.v2(0,200)),cc.callFunc(function(){this.node.destroy()},t))),e.win&&cc.RedT.send({user:{updateCoint:!0}}),void 0!==e.thuong&&e.thuong>0){var o=new cc.Node;o.addComponent(cc.Label),(o=o.getComponent(cc.Label)).string="+"+i.numberWithCommas(e.thuong),o.font=cc.RedT.util.fontEffect,o.lineHeight=90,o.fontSize=14,this.nodeNotice.addChild(o.node),o.node.runAction(cc.sequence(cc.moveTo(3,cc.v2(0,100)),cc.callFunc(function(){this.node.destroy()},o)))}}}.bind(this),2e3)},onBtnToggleBoxWatchVideo:function(){var e=this;cc.Tween.stopAllByTarget(this.boxWatchVideo),0==this.isShowboxWatchVideo?(this.isShowboxWatchVideo=!0,this.boxWatchVideo.position=cc.v2(-250,0),this.boxWatchVideo.active=!0,cc.tween(this.boxWatchVideo).to(.25,{position:cc.v2(-20,0)}).start()):(this.isShowboxWatchVideo=!1,cc.tween(this.boxWatchVideo).to(.25,{position:cc.v2(-250,0)}).call(function(){e.boxWatchVideo.active=!0}).start())},hideCountDown:function(){this.intervalCountDown&&(clearInterval(this.intervalCountDown),this.intervalCountDown=null,this.time.node.active=!1)},startCountDown:function(){this.Progress.fillRange=1,this.time.node.active=!0;var e=JSON.parse(localStorage.getItem("timeEventWatch")),t=0;if(e)for(var i=0;i<e.length;i++)if(e[i].username==cc.RedT.user.name){t=e[i].time;break}var n=(t+3e5-Date.now())/1e3;void 0!==this.timeInterval&&clearInterval(this.timeInterval),this.intervalCountDown=setInterval(function(){this.time.string=this.secondsToHms(n),(n-=1)<=0&&(this.Progress.fillRange=0,this.hideCountDown())}.bind(this),1e3)},onClickEventWatchVideo:function(){if(this.check5minsWatchEvent()){r.Instance.coinsEventWatch();var e=(new Date).getTime(),t=JSON.parse(localStorage.getItem("timeEventWatch"));if(null!=t){for(var i=0,n=0;n<t.length;n++)if(t[n].username==cc.RedT.user.name){t[n].time=e,i=1;break}1==i?cc.sys.localStorage.setItem("timeEventWatch",JSON.stringify(t)):(t.push({username:cc.RedT.user.name,time:e}),cc.sys.localStorage.setItem("timeEventWatch",JSON.stringify(t)))}else t=[{username:cc.RedT.user.name,time:e}],cc.sys.localStorage.setItem("timeEventWatch",JSON.stringify(t));l.Instance.showRewarded(),this.startCountDown()}},check5minsWatchEvent:function(){var e=(new Date).getTime(),t=JSON.parse(localStorage.getItem("timeEventWatch")),i=null;if(null!=t&&"null"!==t)for(var n=0;n<t.length;n++)t[n].username==cc.RedT.user.name&&(i=t[n].time);return!i||e-(i=parseInt(i))>3e5},secondsToHms:function(e){e=Number(e);var t=Math.floor(e/3600),i=Math.floor(e%3600/60),n=Math.floor(e%3600%60);return(t>0?t+":":"")+(i>0?i+":":"0:")+(n>0?n+"":"0")}}),cc._RF.pop()},{Admob:"Admob",BaCayChat:"BaCayChat",BaCay_dialog:"BaCay_dialog",BaCay_linhVat:"BaCay_linhVat",Card:"Card",Helper:"Helper",Notice:"Notice",UIPopupManager:"UIPopupManager",UIUserBaCay:"UIUserBaCay"}],BacaratChat:[function(e,t){"use strict";cc._RF.push(t,"a2a20vcBJJHC7JE6iZqHPuE","BacaratChat");var i=e("Helper"),n=e("BrowserUtil");cc.Class({extends:cc.Component,properties:{content:{default:null,type:cc.ScrollView},item:{default:null,type:cc.Prefab},input:{default:null,type:cc.EditBox},layout:{default:null,type:cc.Layout},isLoad:!1},init:function(e){this.RedT=e,void 0!==this.getBacaratSetting().chat_active&&(this.node.active=this.getBacaratSetting().chat_active)},getBacaratSetting:function(){return this.RedT.isPrivate&&1==this.RedT.isPrivate?cc.RedT.setting.bacarat_p:cc.RedT.setting.bacarat},onLoad:function(){var e=this;this.keyHandle=function(t){return t.keyCode===cc.macro.KEY.tab?(t.preventDefault&&t.preventDefault(),!1):t.keyCode===cc.macro.KEY.enter?(n.focusGame(),e.onChatClick(),t.preventDefault&&t.preventDefault(),!1):void 0}},onEnable:function(){cc.sys.isBrowser&&this.addEvent(),this.isLoad||this.getData()},onDisable:function(){cc.sys.isBrowser&&this.removeEvent(),this.clean()},addEvent:function(){n.getHTMLElementByEditBox(this.input).addEventListener("keydown",this.keyHandle,!1)},removeEvent:function(){n.getHTMLElementByEditBox(this.input).removeEventListener("keydown",this.keyHandle,!1)},getData:function(){this.isLoad=!0,cc.log("getData bacarat"),this.RedT.isPrivate&&1==this.RedT.isPrivate?cc.RedT.send({g:{bacarat_p:{getLogChat:!0,room_id:this.RedT.room_id}}}):cc.RedT.send({g:{bacarat:{getLogChat:!0}}})},message:function(e,t){void 0===t&&(t=!1);var i=cc.instantiate(this.item),n=i.getComponent(cc.Label);e.value=e.value.replace("\r",""),n.string=e.user+": "+e.value,i.children[0].getComponent(cc.Label).string=e.user,this.content.content.addChild(i),t&&this.layout.node.height>300&&this.layout.node.height-this.layout.node.position.y-134<70&&setTimeout(function(){this.content&&this.content.scrollToBottom(.1)}.bind(this),100)},logs:function(e){var t=this;if(e.length){var i=this;Promise.all(e.map(function(e){return i.message(e)})).then(function(){setTimeout(function(){this.content&&this.content.scrollToBottom(.1)}.bind(t),100)})}},onData:function(e){void 0!==e.message&&this.message(e.message,!0),void 0!==e.logs&&this.logs(e.logs)},onChatClick:function(){i.isEmpty(this.input.string)?this.RedT.onData({err:"Enter content to chat"}):(this.RedT.isPrivate&&1==this.RedT.isPrivate?cc.RedT.send({g:{bacarat_p:{chat:this.input.string,room_id:this.RedT.room_id}}}):cc.RedT.send({g:{bacarat:{chat:this.input.string}}}),this.onData({message:{user:cc.RedT.user.name,value:this.input.string}}),this.clean())},toggle:function(){cc.RedT.audio.playClick(),this.node.active=this.getBacaratSetting().chat_active=!this.node.active},clean:function(){this.input.string=""},reset:function(){this.content.content.destroyAllChildren(),this.node.active=!1}}),cc._RF.pop()},{BrowserUtil:"BrowserUtil",Helper:"Helper"}],Bacarat_dialog:[function(e,t){"use strict";cc._RF.push(t,"730caKdFm9IfLZdOiWYyOYx","Bacarat_dialog");var i=e("Bacarat_history"),n=e("Bacarat_top"),a=e("Bacarat_setting");cc.Class({extends:cc.Component,properties:{history:i,top:n,setting:a},init:function(){this.actionShow=cc.spawn(cc.scaleTo(.5,1).easing(cc.easeBackOut(2.5)),cc.fadeTo(.5,255)),this.objShow=null,this.objTmp=null},onClickBack:function(){cc.RedT.audio.playUnClick(),this.onBack()},onBack:function(){null!=this.objShow?null==this.objShow.previous||null==this.objShow.previous?(this.objShow.active=!1,this.node.active=!1,this.objShow=null):(this.objTmp=this.objShow,this.objShow=this.objShow.previous,this.objTmp.previous=null,this.objTmp.active=!1,this.objShow.active=!0,this.objTmp=null):this.node.active=!1},onClosePrevious:function(e){void 0!==e.previous&&null!==e.previous&&(this.onClosePrevious(e.previous),delete e.previous),e.active=!1},onCloseDialog:function(){null!=this.objShow?null==this.objShow.previous||null==this.objShow.previous?(this.objShow.active=this.node.active=!1,this.objShow=null):(this.onClosePrevious(this.objShow.previous),this.objShow.active=this.node.active=!1,delete this.objShow.previous,this.objShow=null):this.node.active=!1},resetSizeDialog:function(e){e.stopAllActions(),e.scale=.5,e.opacity=0},showHistory:function(){this.node.active=this.history.node.active=!0,this.objShow=this.history.node},showTop:function(){this.node.active=this.top.node.active=!0,this.objShow=this.top.node},showSetting:function(){this.node.active=this.setting.node.active=!0,this.objShow=this.setting.node}}),cc._RF.pop()},{Bacarat_history:"Bacarat_history",Bacarat_setting:"Bacarat_setting",Bacarat_top:"Bacarat_top"}],Bacarat_history_item:[function(e,t){"use strict";cc._RF.push(t,"5d733Dgxg1I57redGRGM4ET","Bacarat_history_item");var i=e("Helper");cc.Class({extends:cc.Component,properties:{txtCuoc:cc.Label,txtDice:cc.Label},init:function(e,t){this.txtCuoc.string=i.nFormatter(t),this.txtDice.string=e}}),cc._RF.pop()},{Helper:"Helper"}],Bacarat_history:[function(e,t){"use strict";cc._RF.push(t,"07348LWw0ZJtKNjIlBJ/+bb","Bacarat_history"),e("Helper");var i=e("UICardBacarat"),n=e("Card");cc.Class({extends:cc.Component,properties:{cardManager:n,contentLeft:cc.Node,contentRight:cc.Node,prefab:cc.Node,txtPhien:cc.Label,txtUser:cc.Label,txtResult:cc.Label,playerCards:{default:[],type:i},bankerCards:{default:[],type:i}},onLoad:function(){},init:function(e){this.root=e},onEnable:function(){this.get_data()},onDisable:function(){},get_data:function(e){void 0===e&&(e=1),this.root&&this.root.isPrivate?cc.RedT.send({g:{bacarat_p:{viewlogs:{page:e,room_id:this.root.room_id}}}}):cc.RedT.send({g:{bacarat:{viewlogs:{page:e}}}})},onBtnBack:function(){this.indexCurrent++,this.indexCurrent>=this.data.length?this.indexCurrent=this.data.length-1:this.updateInfo()},onBtnNext:function(){this.indexCurrent--,this.indexCurrent<0?this.indexCurrent=0:this.updateInfo()},updateInfo:function(){if(this.contentLeft.removeAllChildren(),this.contentRight.removeAllChildren(),-1==this.indexCurrent){this.txtPhien.string="#",this.txtResult.string="",this.txtUser&&(this.txtUser.string="");for(var e=0;e<this.playerCards.length;e++)this.playerCards[e].node.active=!1;for(e=0;e<this.bankerCards.length;e++)this.bankerCards[e].node.active=!1}else{var t=this.data[this.indexCurrent];this.txtPhien.string="#"+t.session,this.txtResult.string=t.results.outcome,this.txtUser&&(this.txtUser.string=t.name),"none"!=t.results.pair&&(this.txtResult.string+="-"+t.results.pair+" pair"),this.showCardBanker(t.bankerCards),this.showCardPlayer(t.playerCards);var i=["player","banker","tie","player_pair","banker_pair"],n=0;for(e=0;e<i.length;e++)if(t[i[e]]>0){var a=cc.instantiate(this.prefab);a.parent=n%2==0?this.contentLeft:this.contentRight,a.position=cc.v2(0,0),a.getComponent("Bacarat_history_item").init(i[e],t[i[e]]),n++}}},covertCardName:function(e){var t=e.suit,i=e.value;return i="J"==i?11:"Q"==i?12:"K"==i?13:"A"==i?1:parseInt(i),t="heart"==t?1:"diamond"==t?0:"club"==t?3:2,this.cardManager.getCard(i-1,t)},showCardPlayer:function(e){for(var t=0;t<this.playerCards.length;t++)this.playerCards[t].node.active=!1;for(t=0;t<e.length;t++)this.playerCards[t].node.active=!0,this.playerCards[t].setCard(this.covertCardName(e[t]))},showCardBanker:function(e){for(var t=0;t<this.bankerCards.length;t++)this.bankerCards[t].node.active=!1;for(t=0;t<e.length;t++)this.bankerCards[t].node.active=!0,this.bankerCards[t].setCard(this.covertCardName(e[t]))},onData:function(e){this.data=e,null==this.data||0==this.data.length?this.indexCurrent=-1:this.indexCurrent=0,this.updateInfo()}}),cc._RF.pop()},{Card:"Card",Helper:"Helper",UICardBacarat:"UICardBacarat"}],Bacarat_setting:[function(e,t){"use strict";cc._RF.push(t,"1ddc0HYxD1IMakpOeeGYbub","Bacarat_setting");var i=e("CheckOut");cc.Class({extends:cc.Component,properties:{NhacNen:i,NhacGame:i},onLoad:function(){cc.RedT.isSoundGame()||this.NhacGame.OnChangerClick()},OnChangerNhacNen:function(){cc.RedT.setSoundBackground(this.NhacNen.isChecked),this.NhacNen.isChecked?cc.RedT.inGame.playMusic():cc.RedT.inGame.pauseMusic()},OnChangerNhacGame:function(){cc.RedT.setSoundGame(this.NhacGame.isChecked),this.NhacGame.isChecked?cc.RedT.IS_SOUND=!0:cc.RedT.IS_SOUND=!1}}),cc._RF.pop()},{CheckOut:"CheckOut"}],Bacarat_top_item:[function(e,t){"use strict";cc._RF.push(t,"9eae5X6APtMMInQ0dTnIL7d","Bacarat_top_item"),cc.Class({extends:cc.Component,properties:{userName:cc.Label,win:cc.Label}}),cc._RF.pop()},{}],Bacarat_top:[function(e,t){"use strict";cc._RF.push(t,"c8b9bjUNltKypK3UE67zDkH","Bacarat_top");var i=e("Helper");cc.Class({extends:cc.Component,properties:{item:cc.Prefab,content:cc.Node,cointRed:cc.Node,cointXu:cc.Node,red:!0},onEnable:function(){this.get_data()},get_data:function(e){void 0===e&&(e=1),cc.RedT.send({g:{bacarat:{tops:this.red}}})},changerCoint:function(){this.red=!this.red,this.cointRed.active=!this.cointRed.active,this.cointXu.active=!this.cointXu.active,this.get_data()},onData:function(e){this.content.removeAllChildren();var t=this;Promise.all(e.map(function(e,n){var a=cc.instantiate(t.item),o=a.getComponent("Bacarat_top_item");o.userName.string=e.name,o.win.string=i.numberWithCommas(e.bet),a.children[0].active=!(1&n),t.content.addChild(a)}))}}),cc._RF.pop()},{Helper:"Helper"}],Bank:[function(e,t){"use strict";cc._RF.push(t,"e83d55pg19B9a0JKV75kU4f","Bank"),cc.Class({extends:cc.Component,properties:{header:cc.Node,nap:cc.Node,rut:cc.Node,rutHeadNode:cc.Node},init:function(){var e=this;this.nap=this.nap.getComponent("bankNap"),this.rut=this.rut.getComponent("bankRut"),this.rut.init(),this.body=[this.nap,this.rut],Promise.all(this.header.children.map(function(e){return e.getComponent("itemContentMenu")})).then(function(t){e.header=t})},onEnable:function(){2==cc.RedT.user.showall||4==cc.RedT.user.showall?this.rutHeadNode.active=!1:this.rutHeadNode.active=!0},onSelectHead:function(e,t){Promise.all(this.header.map(function(e){e.node.name==t?e.select():e.unselect()})),Promise.all(this.body.map(function(e){e.node.name==t?e.node.active=!0:e.node.active=!1}))},onData:function(e){e.bankAccountLists&&this.nap.onData(e),e.bankList&&this.rut.onData(e)}}),cc._RF.pop()},{}],BaoMatGame:[function(e,t){"use strict";cc._RF.push(t,"52a86OUw8tI17le2VUwkbZa","BaoMatGame"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],BaoMatTaiKhoan:[function(e,t){"use strict";cc._RF.push(t,"dd2668dqpdKMbNtz9sjjHi2","BaoMatTaiKhoan"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],BaoMat:[function(e,t){"use strict";cc._RF.push(t,"ec1292CT1ZJL5oAGF36VfTW","BaoMat");var i=e("DangKyOTP"),n=e("DoiMatKhau"),a=e("BaoMatGame"),o=e("BaoMatTaiKhoan");cc.Class({extends:cc.Component,properties:{header:{default:null,type:cc.Node},DangKyOTP:i,DoiMatKhau:n,BaoMatGame:a,BaoMatTaiKhoan:o,headGetOtp:cc.Node},init:function(){var e=this;this.body=[this.DangKyOTP.node,this.DoiMatKhau.node,this.BaoMatGame.node,this.BaoMatTaiKhoan.node],Promise.all(this.header.children.map(function(e){return e.getComponent("itemContentMenu")})).then(function(t){e.header=t})},onEnable:function(){cc.RedT.user.showall>0?this.headGetOtp.active=!0:this.headGetOtp.active=!1},onSelectHead:function(e,t){if(Promise.all(this.header.map(function(e){e.node.name==t?e.select():e.unselect()})),Promise.all(this.body.map(function(e){e.name==t?e.active=!0:e.active=!1})),"DangKyOTP"==t){var i=JSON.parse(cc.sys.localStorage.getItem("infoRed8"));i?this.DangKyOTP.statusOTP(!!i.phone):this.DangKyOTP.statusOTP(!1)}}}),cc._RF.pop()},{BaoMatGame:"BaoMatGame",BaoMatTaiKhoan:"BaoMatTaiKhoan",DangKyOTP:"DangKyOTP",DoiMatKhau:"DoiMatKhau"}],BaseControll:[function(e,t){"use strict";cc._RF.push(t,"19011C1h3JPzKZi+tiWEqax","BaseControll"),e("GameConfig");var i=e("Helper"),n=e("UIPopupManager"),a=e("./ResourceManager");t.exports={IS_LOGIN:!1,IS_SOUND:!0,isConnected:!1,_socket:null,user:{},prefab:{},setting:{},util:{},sslPem:{},connect:function(e,t,i,n){if(void 0===t&&(t="/"),void 0===i&&(i=!1),void 0===n&&(n=!1),!this.isConnected){var a=e+(i?":"+i:"")+t;cc.sys.isBrowser?this._socket=new WebSocket(a):cc.RedT.sslPem?(this._socket=new WebSocket(a,[],cc.RedT.sslPem.url),this._socket.binaryType="arraybuffer"):this._socket=new WebSocket(a),this._socket.onopen=this._onSocketConnect,this._socket.onclose=this._onSocketDisconnect,this._socket.onmessage=this._onSocketData,this._socket.onerror=this._onSocketError,this.isConnected=!0}},disconnect:function(){this.isConnected=!1,this._socket.close()},send:function(e){try{this._socket&&1===this._socket.readyState?this._socket.send(this._encodeMessage(e)):console.log("No Socket to send: "+e)}catch(t){this.inGame.loading.active=!1,this.inGame.notice.show({title:"NOTICE",text:"You do not have Internet."})}},_decodeMessage:function(e){return JSON.parse(e)},_encodeMessage:function(e){return JSON.stringify(e)},_onSocketConnect:function(){cc.RedT.isConnected=!0,cc.RedT.send({getConfig:!0})},_onSocketDisconnect:function(){cc.RedT.isConnected=!1,cc.RedT.IS_LOGIN?(cc.RedT.MainGame.signOut(),n.Instance.hideAll()):cc.RedT.inGame.dialog.onCloseDialog(),cc.RedT.reconnect()},_onSocketData:function(e){var t=e.data;t=cc.RedT._decodeMessage(t),cc.RedT.inGame.onData(t),n.Instance.onData(t)},_onSocketError:function(){n.Instance.notice.show({title:i.getLang(cc.RedT.language,"taixiu_notice"),text:i.getLang(cc.RedT.language,"relogin")})},reconnect:function(){this.connect("ws:10.57.85.22:3000","/websocket")},init:function(){this.initPrototype()},initPrototype:function(){String.format||(String.format=function(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(/{(\d+)}/g,function(e,i){return void 0!==t[i]?t[i]:e})})},updateAvatar:function(e,t){if(null!=t){e=parseInt(e),isNaN(e)&&(console.trace("get avatar with NaN"),e=0);var i=a.Instance.avatars[e];null!=i&&null!=t&&(t.spriteFrame=i)}},setAutoLogin:function(e){localStorage.setItem("AUTO_LOGIN",e)},isAutoLogin:function(){return"true"==localStorage.getItem("AUTO_LOGIN")},setSoundGame:function(e){localStorage.setItem("SOUND_GAME",e)},isSoundGame:function(){return"true"==localStorage.getItem("SOUND_GAME")},setSoundBackground:function(e){localStorage.setItem("SOUND_BACKGROUND",e)},isSoundBackground:function(){return"true"==localStorage.getItem("SOUND_BACKGROUND")},userData:function(e){void 0!==e.name&&(this.user.name=e.name),void 0!==e.red&&(this.user.red=e.red),void 0!==e.email&&(this.user.email=e.email),void 0!==e.ketSat&&(this.user.ketSat=e.ketSat),void 0!==e.UID&&(this.user.UID=e.UID),void 0!==e.phone&&(this.user.phone=e.phone),void 0!==e.joinedOn&&(this.user.joinedOn=e.joinedOn),void 0!==e.security&&(this.user.security=e.security),void 0!==e.level&&(this.user.level=e.level),void 0!==e.vipHT&&(this.user.vipHT=e.vipHT),void 0!==e.vipNext&&(this.user.vipNext=e.vipNext),void 0!==e.noAdsUser&&(this.user.noAdsUser=e.noAdsUser),void 0!==e.receivedRewardTime&&(this.user.receivedRewardTime=e.receivedRewardTime)}},cc._RF.pop()},{"./ResourceManager":"ResourceManager",GameConfig:"GameConfig",Helper:"Helper",UIPopupManager:"UIPopupManager"}],BauCuaChat:[function(e,t){"use strict";cc._RF.push(t,"04fc71NtJFAnKn8kj/bDcyW","BauCuaChat");var i=e("Helper"),n=e("BrowserUtil");cc.Class({extends:cc.Component,properties:{content:{default:null,type:cc.ScrollView},item:{default:null,type:cc.Prefab},input:{default:null,type:cc.EditBox},layout:{default:null,type:cc.Layout},isLoad:!1},init:function(e){this.RedT=e,void 0!==cc.RedT.setting.baucua.chat_active&&(this.node.active=cc.RedT.setting.baucua.chat_active)},onLoad:function(){var e=this;this.keyHandle=function(t){return t.keyCode===cc.macro.KEY.tab?(t.preventDefault&&t.preventDefault(),!1):t.keyCode===cc.macro.KEY.enter?(n.focusGame(),e.onChatClick(),t.preventDefault&&t.preventDefault(),!1):void 0}},onEnable:function(){cc.sys.isBrowser&&this.addEvent(),this.isLoad||this.getData()},onDisable:function(){cc.sys.isBrowser&&this.removeEvent(),this.clean()},addEvent:function(){n.getHTMLElementByEditBox(this.input).addEventListener("keydown",this.keyHandle,!1)},removeEvent:function(){n.getHTMLElementByEditBox(this.input).removeEventListener("keydown",this.keyHandle,!1)},getData:function(){this.isLoad=!0,cc.RedT.send({g:{baucua:{getLogChat:!0}}})},message:function(e,t){void 0===t&&(t=!1);var i=cc.instantiate(this.item),n=i.getComponent(cc.Label);e.value=e.value.replace("\r",""),n.string=e.user+": "+e.value,i.children[0].getComponent(cc.Label).string=e.user,this.content.content.addChild(i),t&&this.layout.node.height>300&&this.layout.node.height-this.layout.node.position.y-134<70&&setTimeout(function(){this.content&&this.content.scrollToBottom(.1)}.bind(this),100)},logs:function(e){var t=this;if(e.length){var i=this;Promise.all(e.map(function(e){return i.message(e)})).then(function(){setTimeout(function(){this.content&&this.content.scrollToBottom(.1)}.bind(t),100)})}},onData:function(e){void 0!==e.message&&this.message(e.message,!0),void 0!==e.logs&&this.logs(e.logs)},onChatClick:function(){i.isEmpty(this.input.string)?this.RedT.onData({err:i.getLang(cc.RedT.language,"chat_err")}):(cc.RedT.send({g:{baucua:{chat:this.input.string}}}),this.onData({message:{user:cc.RedT.user.name,value:this.input.string}}),this.clean())},toggle:function(){cc.RedT.audio.playClick(),this.node.active=cc.RedT.setting.baucua.chat_active=!this.node.active},clean:function(){this.input.string=""},reset:function(){this.content.content.destroyAllChildren(),this.node.active=!1}}),cc._RF.pop()},{BrowserUtil:"BrowserUtil",Helper:"Helper"}],BauCua_LichSu:[function(e,t){"use strict";cc._RF.push(t,"4b4f6CxJKNB7ada2j1ouX/g","BauCua_LichSu");var i=e("Helper"),n=e("UIPopupManager");cc.Class({extends:cc.Component,properties:{background:cc.Node,page:cc.Prefab,content:cc.Node,cointRed:cc.Node,cointXu:cc.Node,red:!0},show:function(e){this.RedT=e,this.setTop()},onLoad:function(){var e=this;this.page=cc.instantiate(this.page),this.page.y=-307,this.node.addChild(this.page),this.page=this.page.getComponent("Pagination"),Promise.all(this.content.children.map(function(e){return e.getComponent("BauCua_ls_item")})).then(function(t){e.content=t}),this.page.init(this)},onEnable:function(){this.get_data()},onDisable:function(){},eventStart:function(e){this.setTop(),this.ttOffset=cc.v2(e.touch.getLocationX()-this.node.position.x,e.touch.getLocationY()-this.node.position.y)},eventMove:function(e){this.node.position=cc.v2(e.touch.getLocationX()-this.ttOffset.x,e.touch.getLocationY()-this.ttOffset.y)},eventEnd:function(){cc.RedT.setting.caothap.position=this.node.position},setTop:function(){},hide:function(){n.Instance.hideGameBauCuaLichSu()},get_data:function(e){void 0===e&&(e=1),cc.RedT.send({g:{baucua:{viewlogs:{red:this.red,page:e}}}})},changerCoint:function(){this.red=!this.red,this.cointRed.active=!this.cointRed.active,this.cointXu.active=!this.cointXu.active,this.get_data()},onData:function(e){var t=this;this.page.onSet(e.page,e.kmess,e.total),Promise.all(this.content.map(function(n,a){var o=e.data[a];void 0!==o?(n.node.active=!0,n.time.string=i.getStringDateByTime(o.time),n.phien.string=o.phien,n.thang.string=i.numberWithCommas(o.betwin),Promise.all(n.kq.map(function(e,i){e.spriteFrame=t.RedT.iconMini[o.kq[i]]})),Promise.all(n.datLabel.map(function(e,t){o[t]>0?(e.node.parent.active=!0,e.string=i.nFormatter(o[t],1)):e.node.parent.active=!1}))):n.node.active=!1}))}}),cc._RF.pop()},{Helper:"Helper",UIPopupManager:"UIPopupManager"}],BauCua_linhVat:[function(e,t){"use strict";cc._RF.push(t,"bb46bQsB6lOkIXs9oBGBiCh","BauCua_linhVat");var i=e("Helper");cc.Class({extends:cc.Component,properties:{xLabel:cc.Label,totall:cc.Label,me:cc.Label,nodeMe:cc.Node,nodeSelect:cc.Node},meCuoc:function(e){e?(this.nodeMe.active=!0,this.me.string=i.nFormatter(e,1)):this.nodeMe.active=!1},totallCuoc:function(e){this.totall.string=e?i.nFormatter(e,1):0},Select:function(e){this.nodeSelect.active=!0,e>1?(this.xLabel.node.active=!0,this.xLabel.string="x"+e):this.xLabel.node.active=!1},unSelect:function(){this.nodeSelect.active=this.xLabel.node.active=!1}}),cc._RF.pop()},{Helper:"Helper"}],BauCua_logMini:[function(e,t){"use strict";cc._RF.push(t,"058c1CPbRxHYZ8b7k46swQK","BauCua_logMini"),cc.Class({extends:cc.Component,properties:{icon:{default:[],type:cc.Sprite}}}),cc._RF.pop()},{}],BauCua_ls_item:[function(e,t){"use strict";cc._RF.push(t,"34cf8eBwhVF04H8tSWu0eiE","BauCua_ls_item"),cc.Class({extends:cc.Component,properties:{time:cc.Label,phien:cc.Label,thang:cc.Label,kq:{default:[],type:cc.Sprite},datLabel:{default:[],type:cc.Label}}}),cc._RF.pop()},{}],BauCua_top_item:[function(e,t){"use strict";cc._RF.push(t,"d2407aqkttNVKBLKz6pUcVF","BauCua_top_item"),cc.Class({extends:cc.Component,properties:{stt:cc.Label,nick:cc.Label,win:cc.Label}}),cc._RF.pop()},{}],BauCua_top:[function(e,t){"use strict";cc._RF.push(t,"6692a+IWv5GELCMBYie/TgO","BauCua_top");var i=e("Helper"),n=e("UIPopupManager");cc.Class({extends:cc.Component,properties:{background:cc.Node,item:cc.Prefab,content:cc.Node,cointRed:cc.Node,cointXu:cc.Node,red:!0},show:function(){this.setTop()},onEnable:function(){this.get_data()},onDisable:function(){},eventStart:function(e){this.setTop(),this.ttOffset=cc.v2(e.touch.getLocationX()-this.node.position.x,e.touch.getLocationY()-this.node.position.y)},eventMove:function(e){this.node.position=cc.v2(e.touch.getLocationX()-this.ttOffset.x,e.touch.getLocationY()-this.ttOffset.y)},eventEnd:function(){},setTop:function(){this.node.parent.insertChild(this.node)},hide:function(){n.Instance.hideGameBauCuaTop()},get_data:function(e){void 0===e&&(e=1),cc.RedT.send({g:{baucua:{tops:this.red}}})},changerCoint:function(){this.red=!this.red,this.cointRed.active=!this.cointRed.active,this.cointXu.active=!this.cointXu.active,this.get_data()},onData:function(e){this.content.removeAllChildren();var t=this;Promise.all(e.map(function(e,n){var a=cc.instantiate(t.item),o=a.getComponent("BauCua_top_item");o.stt.string=n+1,o.nick.string=e.name,o.win.string=i.numberWithCommas(e.bet),a.children[0].active=!(1&n),t.content.addChild(a)}))}}),cc._RF.pop()},{Helper:"Helper",UIPopupManager:"UIPopupManager"}],BauCua:[function(e,t){"use strict";cc._RF.push(t,"913f0/duAtI8acXyToc0QnK","BauCua");var i=e("Helper"),n=e("BauCua_linhVat"),a=e("BauCuaChat"),o=e("UIPopupManager");cc.Class({extends:cc.Component,properties:{chat:a,background:cc.Node,font:{default:null,type:cc.BitmapFont},linhVat:{default:[],type:n},iconMini:{default:[],type:cc.SpriteFrame},iconLV:{default:[],type:cc.SpriteFrame},dices:{default:[],type:cc.Sprite},logHuou:cc.Label,logBau:cc.Label,logGa:cc.Label,logCa:cc.Label,logCua:cc.Label,logTom:cc.Label,titleTime:cc.Label,labelTime:cc.Label,labelHu:cc.Label,Animation:cc.Animation,bet:cc.Node,nodeRed:cc.Node,nodeXu:cc.Node,logs:cc.Node,prefabLogs:cc.Prefab,notice:cc.Node,prefabNotice:cc.Prefab,cuoc:"",red:!0},onLoad:function(){cc.RedT.setting.baucua=cc.RedT.setting.baucua||{regOpen:!1,data:{meXuBau:0,meXuCa:0,meXuCua:0,meXuGa:0,meXuHuou:0,meXuTom:0,meRedBau:0,meRedCa:0,meRedCua:0,meRedGa:0,meRedHuou:0,meRedTom:0,redBau:0,redCa:0,redCua:0,redGa:0,redHuou:0,redTom:0,xuBau:0,xuCa:0,xuCua:0,xuGa:0,xuHuou:0,xuTom:0},logLV:{},red:!0,bet:"100"},this.chat.init(this),"true"==localStorage.getItem("bauCua")&&(this.node.active=!0),void 0===cc.RedT.util.fontEffect&&(cc.RedT.util.fontEffect=this.font),void 0!==cc.RedT.setting.baucua.position&&(this.node.position=cc.RedT.setting.baucua.position),cc.RedT.IS_LOGIN&&(this.logLVHandling(cc.RedT.setting.baucua.logLV),this.DataHandling(cc.RedT.setting.baucua.data),this.red!=cc.RedT.setting.baucua.red&&this.changerCoint(),void 0!==cc.RedT.setting.baucua.logLV&&this.logLVHandling(cc.RedT.setting.baucua.logLV),void 0!==cc.RedT.setting.baucua.logs&&this.addLogs(),this.intChangerBet()),this.Animation.on("finished",this.AnimationFinish,this),this.ttOffset=null,"MainGame"==cc.RedT.inGame.__classname__&&(localStorage.setItem("playing_game","baucua"),localStorage.setItem("playing_money",5e4))},onEnable:function(){this.regEvent(!0),this.background.on(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.background.on(cc.Node.EventType.TOUCH_MOVE,this.eventMove,this),this.background.on(cc.Node.EventType.TOUCH_END,this.eventEnd,this),this.background.on(cc.Node.EventType.TOUCH_CANCEL,this.eventEnd,this)},onDisable:function(){this.regEvent(!1),this.background.off(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.background.off(cc.Node.EventType.TOUCH_MOVE,this.eventMove,this),this.background.off(cc.Node.EventType.TOUCH_END,this.eventEnd,this),this.background.off(cc.Node.EventType.TOUCH_CANCEL,this.eventEnd,this),null!=this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},regEvent:function(e){cc.RedT.send({g:{baucua:e?{view:e,regOpen:e}:{view:e}}})},eventStart:function(e){this.setTop(),this.ttOffset=cc.v2(e.touch.getLocationX()-this.node.position.x,e.touch.getLocationY()-this.node.position.y)},eventMove:function(e){this.node.position=cc.v2(e.touch.getLocationX()-this.ttOffset.x,e.touch.getLocationY()-this.ttOffset.y)},eventEnd:function(){cc.RedT.setting.baucua.position=this.node.position},openGame:function(){cc.RedT.audio.playClick(),cc.RedT.IS_LOGIN?(this.node.active=!0,localStorage.setItem("bauCua",!1),this.setTop()):cc.RedT.main.dialog.showSignIn()},openGameBaoTri:function(){cc.RedT.main.notice.show({title:"Notice",text:"Game in Maintenance"})},closeGame:function(){cc.RedT.audio.playUnClick(),localStorage.setItem("bauCua",!1),o.Instance.hideGameBauCua()},setTop:function(){this.node.parent.insertChild(this.node)},changerCoint:function(){this.red=!this.red,this.nodeRed.active=!this.nodeRed.active,this.nodeXu.active=!this.nodeXu.active,cc.RedT.setting.baucua.regOpen&&this.DataHandling(cc.RedT.setting.baucua.data),cc.RedT.setting.baucua.red=this.red},intChangerBet:function(){var e=this;Promise.all(this.bet.children.map(function(t){t.name==cc.RedT.setting.baucua.bet?(e.cuoc=t.name,t.children[0].active=!0,t.pauseSystemEvents()):(t.children[0].active=!1,t.resumeSystemEvents())}))},changerBet:function(e,t){this.cuoc=t;var i=e.target;Promise.all(this.bet.children.map(function(e){e==i?(e.children[0].active=!0,e.pauseSystemEvents()):(e.children[0].active=!1,e.resumeSystemEvents())})),cc.RedT.setting.baucua.bet=i.name},AnimationFinish:function(){this.addLogs();for(var e=cc.RedT.setting.baucua.logs[0],t={},i=0;i<3;i++){var n=e[i];cc.RedT.setting.baucua.logLV[n]+=1,void 0===t[n]?t[n]=1:t[n]+=1}for(var a=0;a<6;a++)void 0!==t[a]&&this.linhVat[a].Select(t[a]);this.logLVHandling(cc.RedT.setting.baucua.logLV)},datCuoc:function(e,t){if(this.cuoc<100)this.addNotice("Please select your bet.");else if("baucua"!=localStorage.getItem("playing_game")){var i=localStorage.getItem("playing_game"),n=parseInt(localStorage.getItem("playing_money"));cc.RedT.send({g:{baucua:{cuoc:{cuoc:this.cuoc,red:this.red,linhVat:t,playing_game:i,playing_money:n}}}})}else cc.RedT.send({g:{baucua:{cuoc:{cuoc:this.cuoc,red:this.red,linhVat:t}}}})},addNotice:function(e){"string"==typeof e?o.Instance.notice.show({title:i.getLang(cc.RedT.language,"taixiu_notice"),text:e}):void 0!==e.button?o.Instance.notice.show({title:e.title,text:e.text,button:{text:"notice",type:"watchVideo"}}):o.Instance.notice.show({title:e.title,text:e.text})},setDice:function(e){var t=this;Promise.all(e.map(function(e,i){t.dices[i].spriteFrame=t.iconLV[e]}))},addLogs:function(){var e=this;this.logs.removeAllChildren(),Promise.all(cc.RedT.setting.baucua.logs.map(function(t,i){var n=cc.instantiate(e.prefabLogs),a=n.getComponent("BauCua_logMini");Promise.all(a.icon.map(function(i,n){i.spriteFrame=e.iconMini[t[n]]})),0==i&&(n.children[0].children[0].active=!0,n.children[1].children[0].active=!0,n.children[2].children[0].active=!0),e.logs.addChild(n)}))},onBtnTutorial:function(){o.Instance.showGameHuongDan("BauCua")},onBtnHistory:function(){o.Instance.showGameBauCuaLichSu()},onBtnTop:function(){o.Instance.showGameBauCuaTop()},onData:function(e){void 0!==e.chat&&this.chat.onData(e.chat),void 0!==e.data&&(Object.assign(cc.RedT.setting.baucua.data,e.data),this.DataHandling(e.data)),void 0!==e.logLV&&(Object.assign(cc.RedT.setting.baucua.logLV,e.logLV),this.logLVHandling(e.logLV)),void 0!==e.gamesTimes&&(this.gamestimes=e.gamesTimes,cc.RedT.setting.baucua.gamestimes=e.gamesTimes),void 0!==e.status&&this.status(e.status),void 0!==e.logs&&(cc.RedT.setting.baucua.logs=e.logs,this.addLogs()),void 0!==e.regOpen&&(cc.RedT.setting.baucua.regOpen=!0),void 0!==e.time_remain&&(void 0!==e.gamestimes&&(this.gamestimes=e.gamestimes,cc.RedT.setting.baucua.gamestimes=e.gamestimes),cc.RedT.setting.baucua.time_remain=e.time_remain,this.playTime()),void 0!==e.finish&&(cc.RedT.setting.baucua.regOpen&&(this.unSelect(),void 0!==this.timeInterval&&clearInterval(this.timeInterval),cc.RedT.setting.baucua.logs.unshift([e.finish.dices[0],e.finish.dices[1],e.finish.dices[2]]),cc.RedT.setting.baucua.logs.length>15&&cc.RedT.setting.baucua.logs.pop(),this.setDice(e.finish.dices),this.Animation.node.active=!0,this.Animation.play()),cc.RedT.setting.baucua.time_remain=cc.RedT.setting.baucua.gamestimes.total_time+1,this.playTime()),void 0!==e.notice&&this.addNotice(e.notice)},onDestroy:function(){void 0!==this.timeInterval&&clearInterval(this.timeInterval)},playTime:function(){if(null!=cc.RedT.language){void 0!==this.timeInterval&&clearInterval(this.timeInterval);var e=this;this.timeInterval=setInterval(function(){if(cc.RedT.setting.baucua.time_remain>cc.RedT.setting.baucua.gamestimes.play_time+1){var t=i.numberPad(cc.RedT.setting.baucua.time_remain-(cc.RedT.setting.baucua.gamestimes.play_time+2),2);e.labelTime.node.color=cc.Color.RED,e.labelTime.string=t,e.titleTime.string=i.getLang(cc.RedT.language,"next_round"),cc.RedT.setting.baucua.time_remain,cc.RedT.setting.baucua.gamestimes.total_time}else if(e.Animation.node.active=!1,cc.RedT.setting.baucua.regOpen&&cc.RedT.setting.baucua.time_remain==cc.RedT.setting.baucua.gamestimes.play_time+1&&e.resetData(),e.titleTime.string=i.getLang(cc.RedT.language,"betting"),cc.RedT.setting.baucua.time_remain>0){var n=i.numberPad(cc.RedT.setting.baucua.time_remain-1,2);e.labelTime.string=n,e.labelTime.node.color=cc.Color.WHITE}else clearInterval(e.timeInterval);cc.RedT.setting.baucua.time_remain--}.bind(e),1e3)}},nextRealTime:function(){if(cc.RedT.setting.baucua.time_remain>cc.RedT.setting.baucua.gamestimes.play_time+1){var e=i.numberPad(cc.RedT.setting.baucua.time_remain-(cc.RedT.setting.baucua.gamestimes.play_time+2),2);this.labelTime.node.color=cc.Color.RED,this.labelTime.string=i.numberPad(e,2),this.titleTime.string="Next round"}else this.titleTime.string=i.getLang[cc.RedT.language].betting,cc.RedT.setting.baucua.time_remain>0&&(e=i.numberPad(cc.RedT.setting.baucua.time_remain-1,2),this.labelTime.string=e,this.labelTime.node.color=cc.Color.WHITE)},logLVHandling:function(e){this.logHuou.string=i.numberWithCommas(e[0]),this.logBau.string=i.numberWithCommas(e[1]),this.logGa.string=i.numberWithCommas(e[2]),this.logCa.string=i.numberWithCommas(e[3]),this.logCua.string=i.numberWithCommas(e[4]),this.logTom.string=i.numberWithCommas(e[5])},DataHandling:function(e){this.red?(void 0!==e.redHuou&&this.linhVat[0].totallCuoc(e.redHuou),void 0!==e.redBau&&this.linhVat[1].totallCuoc(e.redBau),void 0!==e.redGa&&this.linhVat[2].totallCuoc(e.redGa),void 0!==e.redCa&&this.linhVat[3].totallCuoc(e.redCa),void 0!==e.redCua&&this.linhVat[4].totallCuoc(e.redCua),void 0!==e.redTom&&this.linhVat[5].totallCuoc(e.redTom),void 0!==e.meRedHuou&&this.linhVat[0].meCuoc(e.meRedHuou),void 0!==e.meRedBau&&this.linhVat[1].meCuoc(e.meRedBau),void 0!==e.meRedGa&&this.linhVat[2].meCuoc(e.meRedGa),void 0!==e.meRedCa&&this.linhVat[3].meCuoc(e.meRedCa),void 0!==e.meRedCua&&this.linhVat[4].meCuoc(e.meRedCua),void 0!==e.meRedTom&&this.linhVat[5].meCuoc(e.meRedTom)):(void 0!==e.xuHuou&&this.linhVat[0].totallCuoc(e.xuHuou),void 0!==e.xuBau&&this.linhVat[1].totallCuoc(e.xuBau),void 0!==e.xuGa&&this.linhVat[2].totallCuoc(e.xuGa),void 0!==e.xuCa&&this.linhVat[3].totallCuoc(e.xuCa),void 0!==e.xuCua&&this.linhVat[4].totallCuoc(e.xuCua),void 0!==e.xuTom&&this.linhVat[5].totallCuoc(e.xuTom),void 0!==e.meXuHuou&&this.linhVat[0].meCuoc(e.meXuHuou),void 0!==e.meXuBau&&this.linhVat[1].meCuoc(e.meXuBau),void 0!==e.meXuGa&&this.linhVat[2].meCuoc(e.meXuGa),void 0!==e.meXuCa&&this.linhVat[3].meCuoc(e.meXuCa),void 0!==e.meXuCua&&this.linhVat[4].meCuoc(e.meXuCua),void 0!==e.meXuTom&&this.linhVat[5].meCuoc(e.meXuTom))},unSelect:function(){Promise.all(this.linhVat.map(function(e){e.unSelect()}))},resetData:function(){var e=this,t=Object.keys(cc.RedT.setting.baucua.data);Promise.all(t.map(function(e){return cc.RedT.setting.baucua.data[e]=0})).then(function(){e.DataHandling(cc.RedT.setting.baucua.data)}),this.unSelect()},newGame:function(){cc.RedT.setting.baucua.regOpen=!1,void 0!==this.timeInterval&&clearInterval(this.timeInterval)},status:function(e){this.timeOut=setTimeout(function(){var t=new cc.Node;if(t.addComponent(cc.Label),(t=t.getComponent(cc.Label)).string=(e.win?"+":"-")+i.numberWithCommas(e.bet),t.font=(e.win,cc.RedT.util.fontEffect),t.lineHeight=130,t.fontSize=70,t.node.position=cc.v2(0,90),this.notice.addChild(t.node),t.node.runAction(cc.sequence(cc.moveTo(3.5,cc.v2(0,200)),cc.callFunc(function(){this.node.destroy()},t))),e.win&&cc.RedT.send({user:{updateCoint:!0}}),void 0!==e.thuong&&e.thuong>0){var n=new cc.Node;n.addComponent(cc.Label),(n=n.getComponent(cc.Label)).string="+"+i.numberWithCommas(e.thuong),n.font=cc.RedT.util.fontEffect,n.lineHeight=100,n.fontSize=25,this.notice.addChild(n.node),n.node.runAction(cc.sequence(cc.moveTo(3,cc.v2(0,100)),cc.callFunc(function(){this.node.destroy()},n)))}}.bind(this),2e3)}}),cc._RF.pop()},{BauCuaChat:"BauCuaChat",BauCua_linhVat:"BauCua_linhVat",Helper:"Helper",UIPopupManager:"UIPopupManager"}],BigBabol_LichSu:[function(e,t){"use strict";cc._RF.push(t,"9bdbaumrolLQrir/GNZ3N0S","BigBabol_LichSu");var i=e("Helper"),n=e("UIPopupManager");cc.Class({extends:cc.Component,properties:{background:cc.Node,page:cc.Prefab,content:cc.Node,cointRed:cc.Node,cointXu:cc.Node,red:!0},show:function(){this.setTop()},onLoad:function(){var e=this,t=cc.instantiate(this.page);t.y=-275,this.node.addChild(t),this.page=t.getComponent("Pagination"),Promise.all(this.content.children.map(function(e){return Promise.all(e.children.map(function(e){return e.getComponent(cc.Label)})).then(function(e){return e})})).then(function(t){e.content2=t}),this.page.init(this)},hide:function(){n.Instance.hideGameBigBabol_LichSu()},onEnable:function(){this.get_data(),this.background.on(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.background.on(cc.Node.EventType.TOUCH_MOVE,this.eventMove,this),this.background.on(cc.Node.EventType.TOUCH_END,this.eventEnd,this),this.background.on(cc.Node.EventType.TOUCH_CANCEL,this.eventEnd,this)},onDisable:function(){this.background.off(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.background.off(cc.Node.EventType.TOUCH_MOVE,this.eventMove,this),this.background.off(cc.Node.EventType.TOUCH_END,this.eventEnd,this),this.background.off(cc.Node.EventType.TOUCH_CANCEL,this.eventEnd,this)},eventStart:function(e){this.setTop(),this.ttOffset=cc.v2(e.touch.getLocationX()-this.node.position.x,e.touch.getLocationY()-this.node.position.y)},eventMove:function(e){this.node.position=cc.v2(e.touch.getLocationX()-this.ttOffset.x,e.touch.getLocationY()-this.ttOffset.y)},eventEnd:function(){},setTop:function(){this.node.parent.insertChild(this.node)},get_data:function(e){void 0===e&&(e=1),cc.RedT.send({g:{big_babol:{log:{red:this.red,page:e}}}})},changerCoint:function(){this.red=!this.red,this.cointRed.active=!this.cointRed.active,this.cointXu.active=!this.cointXu.active,this.get_data()},onData:function(e){var t=this;this.page.onSet(e.page,e.kmess,e.total),Promise.all(this.content2.map(function(n,a){var o=e.data[a];if(void 0!==o){t.content.children[a].active=!0,n[0].string=i.getStringDateByTime(o.time),n[1].string=o.id,n[2].string=i.numberWithCommas(o.bet),n[3].string=o.kq+i.getLang(cc.RedT.language,"line_history"),n[4].string=i.numberWithCommas(o.win);var s=n[2].node;t.red?(s.color=s.color.fromHEX("#FFF500"),n[4].node.color=s.color):(s.color=s.color.fromHEX("#FFFFFF"),n[4].node.color=s.color)}else t.content.children[a].active=!1}))},reset:function(){Promise.all(this.content.children.map(function(e){e.active=!1}))}}),cc._RF.pop()},{Helper:"Helper",UIPopupManager:"UIPopupManager"}],BigBabol_Top:[function(e,t){"use strict";cc._RF.push(t,"9d3a8Q9MRxEvadcBkolfb4n","BigBabol_Top");var i=e("Helper"),n=e("UIPopupManager");cc.Class({extends:cc.Component,properties:{background:cc.Node,item:cc.Prefab,content:cc.Node,cointRed:cc.Node,cointXu:cc.Node,red:!0},show:function(){this.setTop()},hide:function(){n.Instance.hideGameBigBabol_Top()},onEnable:function(){this.get_data(),this.background.on(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.background.on(cc.Node.EventType.TOUCH_MOVE,this.eventMove,this),this.background.on(cc.Node.EventType.TOUCH_END,this.eventEnd,this),this.background.on(cc.Node.EventType.TOUCH_CANCEL,this.eventEnd,this)},onDisable:function(){this.background.off(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.background.off(cc.Node.EventType.TOUCH_MOVE,this.eventMove,this),this.background.off(cc.Node.EventType.TOUCH_END,this.eventEnd,this),this.background.off(cc.Node.EventType.TOUCH_CANCEL,this.eventEnd,this)},eventStart:function(e){this.setTop(),this.ttOffset=cc.v2(e.touch.getLocationX()-this.node.position.x,e.touch.getLocationY()-this.node.position.y)},eventMove:function(e){this.node.position=cc.v2(e.touch.getLocationX()-this.ttOffset.x,e.touch.getLocationY()-this.ttOffset.y)},eventEnd:function(){},setTop:function(){this.node.parent.insertChild(this.node)},get_data:function(e){void 0===e&&(e=1),cc.RedT.send({g:{big_babol:{top:this.red}}})},changerCoint:function(){this.red=!this.red,this.cointRed.active=!this.cointRed.active,this.cointXu.active=!this.cointXu.active,this.get_data()},onData:function(e){this.content.removeAllChildren();var t=this;Promise.all(e.map(function(e,n){var a=cc.instantiate(t.item),o=a.getComponent("VQRed_history_item");o.time.string=i.getStringDateByTime(e.time),o.phien.string=e.name,o.cuoc.string=i.numberWithCommas(e.bet),o.line.string=i.numberWithCommas(e.win),o.win.string=2==e.type?"Jackpot":"Big Win",a.children[0].active=!(1&n),t.content.addChild(a)}))}}),cc._RF.pop()},{Helper:"Helper",UIPopupManager:"UIPopupManager"}],BigBabol_line:[function(e,t){"use strict";cc._RF.push(t,"29fd5Plb1tBC5FqFQowYBnJ","BigBabol_line");var i=e("Helper");cc.Class({extends:cc.Component,properties:{background:cc.Node,nodeLine:cc.Node,mainLine:cc.Node},init:function(e){this.RedT=e,this.mainLineInit(void 0!==cc.RedT.setting.big_babol.line)},onEnable:function(){this.background.on(cc.Node.EventType.MOUSE_ENTER,this.RedT.setTop,this.RedT)},onDisable:function(){this.background.off(cc.Node.EventType.MOUSE_ENTER,this.RedT.setTop,this.RedT)},toggle:function(){this.node.active&&cc.RedT.setting.big_babol.line.length<1?this.RedT.addNotice(i.getLang(cc.RedT.language,"oneline_least")):this.node.active=!this.node.active},select:function(e){var t=e.target;t.children[1].active?(t.children[1].active=!1,t.children[0].active=!0):(t.children[1].active=!0,t.children[0].active=!1),this.check()},check:function(){var e=this,t=this;Promise.all(this.nodeLine.children.map(function(e,i){return e.children[1].active?(t.mainLine[i].onSet(),i+1):void t.mainLine[i].offSet()})).then(function(t){Promise.all(t.filter(function(e){return void 0!==e})).then(function(t){cc.RedT.setting.big_babol.line=t,e.RedT.labelLine.string=t.length})})},selectChan:function(){var e=this,t=this;Promise.all(this.nodeLine.children.map(function(e,i){var n=i+1;if(!(n%2))return e.children[0].active=!1,e.children[1].active=!0,t.mainLine[i].onSet(),n;e.children[0].active=!0,e.children[1].active=!1,t.mainLine[i].offSet()})).then(function(t){Promise.all(t.filter(function(e){return void 0!==e})).then(function(t){cc.RedT.setting.big_babol.line=t,e.RedT.labelLine.string=t.length})})},selectLe:function(){var e=this,t=this;Promise.all(this.nodeLine.children.map(function(e,i){var n=i+1;if(n%2)return e.children[0].active=!1,e.children[1].active=!0,t.mainLine[i].onSet(),n;e.children[0].active=!0,e.children[1].active=!1,t.mainLine[i].offSet()})).then(function(t){Promise.all(t.filter(function(e){return void 0!==e})).then(function(t){cc.RedT.setting.big_babol.line=t,e.RedT.labelLine.string=t.length})})},selectAll:function(e,t){var i=this,n=this;Promise.all(this.nodeLine.children.map(function(e,i){var n="1"==t;return e.children[0].active=!n,e.children[1].active=n,n?i+1:void 0})).then(function(e){Promise.all(e.filter(function(e,t){var i=void 0!==e;return i?n.mainLine[t].onSet():n.mainLine[t].offSet(),i})).then(function(e){cc.RedT.setting.big_babol.line=e,i.RedT.labelLine.string=e.length})})},mainLineInit:function(e){var t=this,i=this;Promise.all(this.mainLine.children.map(function(e){return e.getComponent("BigBabol_main_line").init(i.RedT)})).then(function(n){t.mainLine=n,e?(t.RedT.labelLine.string=cc.RedT.setting.big_babol.line.length,Promise.all(t.nodeLine.children.map(function(e,t){cc.RedT.setting.big_babol.line.filter(function(t){return t==e.name}).length?(e.children[0].active=!1,e.children[1].active=!0,i.mainLine[t].onSet()):(e.children[0].active=!0,e.children[1].active=!1,i.mainLine[t].offSet())}))):t.selectAll(null,"1")})}}),cc._RF.pop()},{Helper:"Helper"}],BigBabol_main_line:[function(e,t){"use strict";cc._RF.push(t,"df8c85uzp9M6rkEtOxa9TjC","BigBabol_main_line"),cc.Class({extends:cc.Component,init:function(e){return this.RedT=e,this},onEnable:function(){this.node.on(cc.Node.EventType.MOUSE_ENTER,this.onhover,this),this.node.on(cc.Node.EventType.MOUSE_LEAVE,this.offhover,this)},onDisable:function(){this.node.off(cc.Node.EventType.MOUSE_ENTER,this.onhover,this),this.node.off(cc.Node.EventType.MOUSE_LEAVE,this.offhover,this)},onhover:function(){this.defColor=this.node.color,this.node.children[1].active=!0,this.node.color=this.node.color.fromHEX(this.RedT.onColor)},offhover:function(){this.node.color=this.defColor,this.node.children[1].active=!1},onSet:function(){this.node.color=this.node.color.fromHEX(this.RedT.onColor)},offSet:function(){this.node.color=this.node.color.fromHEX(this.RedT.offColor)}}),cc._RF.pop()},{}],BigBabol_reel_item:[function(e,t){"use strict";cc._RF.push(t,"9394bXHjwdMpZC0cTOy8c/e","BigBabol_reel_item"),cc.Class({extends:cc.Component,init:function(e){this.RedT=e},onLoad:function(){this.icon=this.node.children[0].getComponent(cc.Sprite)},stop:function(){Promise.all(this.node.children.map(function(e){var t=e.getComponents(cc.Animation);Promise.all(t.map(function(t){e.removeComponent(t)}))}))},random:function(){var e=~~(6*Math.random());return this.setIcon(e),e},setIcon:function(e,t){void 0===t&&(t=!1),e<4?(this.node.children[0].active=!0,this.icon.spriteFrame=this.RedT.icons[e],this.node.children[1].active=this.node.children[2].active=!1):4==e?(this.node.children[1].active=!0,this.node.children[0].active=this.node.children[2].active=!1):5==e&&(this.node.children[2].active=!0,this.node.children[0].active=this.node.children[1].active=!1),t&&(this.data=e)}}),cc._RF.pop()},{}],BigBabol_reel:[function(e,t){"use strict";cc._RF.push(t,"3c486/mpTFEsoXHhkW8UDhO","BigBabol_reel"),cc.Class({extends:cc.Component,init:function(e){var t=this;this.RedT=e,this.icons=[];var i=this;Promise.all([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].map(function(e,t){var n=cc.instantiate(i.RedT.iconPrefab);return i.node.addChild(n),(n=n.getComponent("BigBabol_reel_item")).init(i.RedT),t>2&&t<23&&(n.stop(),n.random()),n})).then(function(e){t.icons=e,t.icons[25].setIcon(t.icons[2].random()),t.icons[24].setIcon(t.icons[1].random()),t.icons[23].setIcon(t.icons[0].random())})},spin:function(e){this.node.stopAllActions();var t=cc.moveTo(1,cc.v2(this.node.x,-(this.node.height-260-24))).easing(cc.easeInOut(2)),i=cc.callFunc(function(){this.node.y=0,this.RedT.random()},this),n=cc.callFunc(function(){0===e&&this.RedT.copy(),this.node.y=0},this);if(2===e){var a=cc.callFunc(function(){this.RedT.hieuUng()},this);this.node.runAction(cc.sequence(cc.delayTime(.1*e),t,i,a))}else this.node.runAction(cc.sequence(cc.delayTime(.1*e),t,n))},stop:function(){this.node.stopAllActions(),this.RedT.copy(),this.node.y=0}}),cc._RF.pop()},{}],BigBabol:[function(e,t){"use strict";cc._RF.push(t,"6bd8dCJ5kJAlrYTElDCPCSm","BigBabol");var i=e("Helper"),n=e("BigBabol_reel"),a=e("BigBabol_line"),o=e("UIPopupManager");cc.Class({extends:cc.Component,properties:{nodeEfect:cc.Node,PrefabNoHu:cc.Prefab,background:cc.Node,line:a,labelLine:cc.Label,reels:{default:[],type:n},icons:{default:[],type:cc.SpriteFrame},iconPrefab:{default:null,type:cc.Prefab},buttonLine:cc.Node,buttonSpin:cc.Node,buttonAuto:cc.Node,txtAuto:cc.Node,buttonStop:cc.Node,buttonCoint:cc.Node,nodeRed:{default:null,type:cc.Node},nodeXu:{default:null,type:cc.Node},font:{default:null,type:cc.BitmapFont},bet:{default:null,type:cc.Node},notice:{default:null,type:cc.Node},prefabNotice:{default:null,type:cc.Prefab},phien:cc.Label,hu:cc.Label,cuoc:"",onColor:"",offColor:"",isAuto:!1,isSpeed:!1,isSpin:!1,red:!0},onLoad:function(){cc.RedT.setting.big_babol=cc.RedT.setting.big_babol||{},"true"==localStorage.getItem("big_babol")&&(this.node.active=!0),void 0!==cc.RedT.setting.big_babol.position&&(this.node.position=cc.RedT.setting.big_babol.position),void 0!==cc.RedT.setting.big_babol.bet&&cc.RedT.setting.big_babol.bet!=this.cuoc&&this.intChangerBet(),void 0!==cc.RedT.setting.big_babol.red&&this.red!=cc.RedT.setting.big_babol.red&&this.changerCoint(),void 0!==cc.RedT.setting.big_babol.isAuto&&this.isAuto!=cc.RedT.setting.big_babol.isAuto&&this.onClickAuto();var e=this;this.ttOffset=null,this.line.init(this),Promise.all(this.reels.map(function(t){t.init(e)})),"MainGame"==cc.RedT.inGame.__classname__&&(localStorage.setItem("playing_game","jewel"),localStorage.setItem("playing_money",5e4))},onBtnTutorial:function(){o.Instance.showGameHuongDan("BigBabol")},onBtnLichSu:function(){o.Instance.showGameBigBabol_LichSu()},onBtnTop:function(){o.Instance.showGameBigBabol_Top()},onEnable:function(){this.onGetHu(),this.background.on(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.background.on(cc.Node.EventType.TOUCH_MOVE,this.eventMove,this),this.background.on(cc.Node.EventType.TOUCH_END,this.eventEnd,this),this.background.on(cc.Node.EventType.TOUCH_CANCEL,this.eventEnd,this)},onDisable:function(){this.background.off(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.background.off(cc.Node.EventType.TOUCH_MOVE,this.eventMove,this),this.background.off(cc.Node.EventType.TOUCH_END,this.eventEnd,this),this.background.off(cc.Node.EventType.TOUCH_CANCEL,this.eventEnd,this),this.onCloseGame()},eventStart:function(e){this.setTop(),this.ttOffset=cc.v2(e.touch.getLocationX()-this.node.position.x,e.touch.getLocationY()-this.node.position.y)},eventMove:function(e){this.node.position=cc.v2(e.touch.getLocationX()-this.ttOffset.x,e.touch.getLocationY()-this.ttOffset.y)},eventEnd:function(){cc.RedT.setting.big_babol.position=this.node.position},setTop:function(){this.node.parent.insertChild(this.node)},openGame:function(){cc.RedT.audio.playClick(),cc.RedT.IS_LOGIN?(this.node.active=!0,localStorage.setItem("big_babol",!1),this.setTop()):cc.RedT.inGame.dialog.showSignIn()},closeGame:function(){cc.RedT.audio.playUnClick(),this.node.active=!1,localStorage.setItem("big_babol",!1),o.Instance.hideGameBigBabol()},autoSpin:function(){Promise.all(this.reels.map(function(e,t){e.spin(t)}))},onSpin:function(){this.buttonLine.pauseSystemEvents(),this.buttonSpin.pauseSystemEvents(),this.buttonCoint.pauseSystemEvents(),this.line.node.active=!1,Promise.all(this.bet.children.map(function(e){e.pauseSystemEvents()}))},offSpin:function(){this.isSpin=this.buttonStop.active=this.isAuto=!1,this.buttonAuto.color=cc.color(155,155,155),this.buttonAuto.active=!0,this.buttonLine.resumeSystemEvents(),this.buttonSpin.resumeSystemEvents(),this.buttonCoint.resumeSystemEvents(),Promise.all(this.bet.children.map(function(e){e.children[0].active||e.resumeSystemEvents()}))},onClickSpin:function(){cc.RedT.setting.big_babol.line.length<1?this.addNotice(i.getLang(cc.RedT.language,"oneline_least")):this.isSpin||(this.isSpin=!0,this.onSpin(),this.onGetSpin())},onClickAuto:function(){this.isAuto=cc.RedT.setting.big_babol.isAuto=!this.isAuto,this.buttonAuto.color=this.isAuto?cc.Color.WHITE:cc.color(155,155,155),this.txtAuto.color=this.isAuto?cc.Color.WHITE:cc.color(155,155,155),this.buttonStop.active=!!this.isSpin&&!!this.isAuto,this.buttonAuto.active=!this.buttonStop.active},onClickStop:function(){this.onClickAuto(),this.buttonStop.active=!1},changerCoint:function(){this.red=cc.RedT.setting.big_babol.red=!this.red,this.nodeRed.active=!this.nodeRed.active,this.nodeXu.active=!this.nodeXu.active,this.onGetHu()},intChangerBet:function(){var e=this;Promise.all(this.bet.children.map(function(t){t.name==cc.RedT.setting.big_babol.bet?(e.cuoc=t.name,t.children[0].active=!0,t.pauseSystemEvents()):(t.children[0].active=!1,t.resumeSystemEvents())}))},changerBet:function(e,t){this.cuoc=cc.RedT.setting.big_babol.bet=t;var i=e.target;Promise.all(this.bet.children.map(function(e){e==i?(e.children[0].active=!0,e.pauseSystemEvents()):(e.children[0].active=!1,e.resumeSystemEvents())})),this.onGetHu()},onGetInfo:function(){cc.RedT.send({g:{big_babol:{info:{cuoc:this.cuoc,red:this.red}}}})},onGetSpin:function(){if("jewel"!=localStorage.getItem("playing_game")){var e=localStorage.getItem("playing_game"),t=parseInt(localStorage.getItem("playing_money"));cc.RedT.send({g:{big_babol:{spin:{cuoc:this.cuoc,red:this.red,line:cc.RedT.setting.big_babol.line,playing_game:e,playing_money:t}}}})}else cc.RedT.send({g:{big_babol:{spin:{cuoc:this.cuoc,red:this.red,line:cc.RedT.setting.big_babol.line}}}})},onCloseGame:function(){this.isSpin=!1,Promise.all(this.reels.map(function(e){e.stop()})),this.offSpin()},addNotice:function(e){"string"==typeof e?o.Instance.notice.show({title:i.getLang(cc.RedT.language,"taixiu_notice"),text:e}):void 0!==e.button?o.Instance.notice.show({title:e.title,text:e.text,button:{text:"notice",type:"watchVideo"}}):o.Instance.notice.show({title:e.title,text:e.text})},onData:function(e){var t=this;void 0!==e.status&&(1===e.status?(this.notice.removeAllChildren(),this.win=e.win,this.nohu=e.nohu,this.isBigWin=e.isBigWin,this.buttonStop.active=!!this.isAuto,this.buttonAuto.active=!this.buttonStop.active,Promise.all(e.cel.map(function(e,i){Promise.all(e.map(function(e,n){t.reels[i].icons[n].setIcon(e,!0)}))})),this.autoSpin()):this.offSpin()),void 0!==e.line_win&&(this.line_win=e.line_win),void 0!==e.phien&&(this.phien.string=e.phien),void 0!==e.notice&&this.addNotice(e.notice)},copy:function(){Promise.all(this.reels.map(function(e){void 0!==e.icons&&void 0!==e.icons[25]&&void 0!==e.icons[25].setIcon&&(e.icons[25].setIcon(e.icons[2].data),e.icons[24].setIcon(e.icons[1].data),e.icons[23].setIcon(e.icons[0].data))}))},userData:function(e){var t={red:parseInt(cc.RedT.user.red)};t.red+=e,cc.RedT.MainGame.dataUser(t)},hieuUng:function(){if(this.nohu){this.nohu=!1,1==this.isAuto&&this.onClickStop();var e=cc.instantiate(o.Instance.PrefabNoHu),t=(e=e.getComponent(cc.Animation)).node.children[6].getComponent(cc.Label);this.userData(this.win),this.nodeEfect.addChild(e.node),e.on("play",function(){var n=cc.callFunc(function(){cc.RedT.audio.playEf("winHu"),i.numberTo(t,0,this.win,1e3,!0)},this);e.node.runAction(cc.sequence(cc.delayTime(.25),n))},this),e.on("finished",function(){e.node.destroy(),this.win=0,this.hieuUng()},this),e.play()}else if(!this.nohu&&this.isBigWin){this.isBigWin=!1;var n=cc.instantiate(o.Instance.prefabBigWin);n=n.getComponent(cc.Animation),this.userData(this.win),n.on("finished",function(){n.node.destroy(),this.isAuto?this.onGetSpin():this.offSpin()},this),n.node.bet=this.win,n.node.red=this.red,n.node.position=cc.v2(0,140),this.notice.addChild(n.node),this.win=0,this.isAuto||this.offSpin()}else if(!this.isBigWin&&this.win>0){this.userData(this.win);var a=new cc.Node;a.addComponent(cc.Label),a=a.getComponent(cc.Label),i.numberTo(a,0,this.win,600,!0),a.font=this.red?cc.RedT.util.fontCong:cc.RedT.util.fontTru,a.lineHeight=130,a.fontSize=25,a.node.position=cc.v2(-6,140),a.node.runAction(cc.sequence(cc.delayTime(1.5),cc.callFunc(function(){a.node.destroy(),this.hieuUng(),this.offLineWin()},this))),this.notice.addChild(a.node),this.win=0,this.onLineWin()}else this.isAuto?this.timeOut=setTimeout(function(){this.onGetSpin()}.bind(this),300):this.offSpin()},onLineWin:function(){var e=this;Promise.all(this.line_win.map(function(t){var i=e.line.mainLine[t.line-1];i.onhover(),i.node.pauseSystemEvents()}))},offLineWin:function(){var e=this;Promise.all(this.line_win.map(function(t){var i=e.line.mainLine[t.line-1];i.offhover(),i.node.resumeSystemEvents()}))},random:function(){Promise.all(this.reels.map(function(e){Promise.all(e.icons.map(function(e,t){t>2&&t<23&&e.random()}))}))},onGetHu:function(){var e=this;if(void 0!==cc.RedT.setting.topHu&&void 0!==cc.RedT.setting.topHu.data&&this.node.active){var t=this;Promise.all(cc.RedT.setting.topHu.data.big_babol.filter(function(e){return e.type==t.cuoc&&e.red==t.red})).then(function(t){var n=i.getOnlyNumberInString(e.hu.string),a=t[0].bet;n-a!=0&&i.numberTo(e.hu,n,a,2e3,!0)})}}}),cc._RF.pop()},{BigBabol_line:"BigBabol_line",BigBabol_reel:"BigBabol_reel",Helper:"Helper",UIPopupManager:"UIPopupManager"}],BingoItem:[function(e,t){"use strict";cc._RF.push(t,"66e7c58pMdG4L/2xZ5fFNEw","BingoItem"),cc.Class({extends:cc.Component,properties:{money:cc.Label,potNode:cc.Node,pot:cc.Sprite,plus:cc.Node}}),cc._RF.pop()},{}],Binh_Dialog:[function(e,t){"use strict";cc._RF.push(t,"c43c5IDxPNAV4t9G7iiuyDC","Binh_Dialog");var i=e("Binh_History");cc.Class({extends:cc.Component,properties:{tlmnHistory:i,pokerHelp:cc.Node,pokerConfirmPopup:cc.Node,pokerSetting:cc.Node},onData:function(e){null!=e.history&&this.tlmnHistory.onData(e.history)},showHelp:function(){this.node.active=!0,this.pokerHelp.active=!0},hideHelp:function(){this.node.active=!1,this.pokerHelp.active=!1},showHistory:function(){this.node.active=!0,this.tlmnHistory.node.active=!0},hideHistory:function(){this.node.active=!1,this.tlmnHistory.node.active=!1},showSetting:function(){this.node.active=!0,this.pokerSetting.active=!0},hideSetting:function(){this.node.active=!1,this.pokerSetting.active=!1}}),cc._RF.pop()},{Binh_History:"Binh_History"}],Binh_History:[function(e,t){"use strict";cc._RF.push(t,"43254tGwUVLtZR02zb10S6z","Binh_History");var i=e("Helper"),n=e("UIScreenGamePlayBinh");cc.Class({extends:cc.Component,properties:{historyDetail:cc.Node,gameplay:n,page:cc.Prefab,content:cc.Node,cointRed:cc.Node,red:!0},onLoad:function(){var e=this;this.historyDetail=this.historyDetail.getComponent("TLMN_historyDetail"),this.page=cc.instantiate(this.page),this.page.y=-307,this.node.addChild(this.page),this.page=this.page.getComponent("Pagination"),Promise.all(this.content.children.map(function(e){return e.getComponent("TLMN_HistoryItem")})).then(function(t){e.content=t}),this.page.init(this)},onEnable:function(){this.get_data()},get_data:function(e){void 0===e&&(e=1),cc.RedT.send({g:{binh:{history:{page:e}}}})},changerCoint:function(){this.red=!this.red,this.cointRed.active=!this.cointRed.active,this.get_data()},getMyIndex:function(e){for(var t=0;t<e.length;t++)if(e[t].UID==cc.RedT.user.UID)return t;return-1},onData:function(e){var t=this;this.page.onSet(e.page,e.kmess,e.total),this.gameplay.prefabCard.getComponent("UIItemCardTienLenSolo").spriteFrameCardArr,Promise.all(this.content.map(function(n,a){var o=e.data[a];if(null!=o){var s=t.getMyIndex(o.players);o.players[s].playerName,n.node.active=!0,n.time.string=o.time.split(".")[0],n.round.string=o.id+"/"+o.CurrentGameLoopId,n.init(t,o),o.players[s].card.sort(function(e,t){return e.valueS-t.valueS});for(var c=0,r=0;r<o.result.length;r++){var l=o.result[r];l.AccountId==cc.RedT.user.UID&&(c+=l.Money)}n.win.string=i.numberWithCommas(c)}else n.node.active=!1}))}}),cc._RF.pop()},{Helper:"Helper",UIScreenGamePlayBinh:"UIScreenGamePlayBinh"}],BlackJackChat:[function(e,t){"use strict";cc._RF.push(t,"c7e2anxyEVAeK9a3JmCo861","BlackJackChat");var i=e("Helper"),n=e("BrowserUtil");cc.Class({extends:cc.Component,properties:{btnChatTop:cc.Node,content:{default:null,type:cc.ScrollView},item:{default:null,type:cc.Prefab},input:{default:null,type:cc.EditBox},layout:{default:null,type:cc.Layout},isLoad:!1},init:function(e){this.tableId=e,this.getData()},onLoad:function(){var e=this;this.keyHandle=function(t){return t.keyCode===cc.macro.KEY.tab?(t.preventDefault&&t.preventDefault(),!1):t.keyCode===cc.macro.KEY.enter?(n.focusGame(),e.onChatClick(),t.preventDefault&&t.preventDefault(),!1):void 0}},onEnable:function(){cc.sys.isBrowser&&this.addEvent(),this.isLoad},onDisable:function(){cc.sys.isBrowser&&this.removeEvent(),this.clean()},addEvent:function(){n.getHTMLElementByEditBox(this.input).addEventListener("keydown",this.keyHandle,!1)},removeEvent:function(){n.getHTMLElementByEditBox(this.input).removeEventListener("keydown",this.keyHandle,!1)},getData:function(){this.isLoad=!0,cc.RedT.send({g:{blackjack:{getLogChatTable:{tid:this.tableId}}}})},message:function(e,t){void 0===t&&(t=!1);var i=cc.instantiate(this.item);i.getComponent(cc.RichText).string=e.user+": "+e.value;var n=i.children[0],a=n.getComponent(cc.Label);null!=e.type&&1==e.type?(n.color=new cc.Color(252,94,72,255),this.tweenSystemChat()):n.color=new cc.Color(72,252,79,255),a.string=e.user,this.content.content.addChild(i),t&&this.layout.node.height>300&&this.layout.node.height-this.layout.node.position.y-134<70&&setTimeout(function(){this.content.scrollToBottom(.1)}.bind(this),100)},chatButtonTopClick:function(){this.node.active=!this.node.active,this.btnChatTop.active=!this.node.active},tweenSystemChat:function(){if(1!=this.node.active){this.node.x=270,this.node.active=!0,cc.tween(this.node).to(.6,{position:cc.v2(-94,-251.14)}).start();var e=this;setTimeout(function(){cc.tween(e.node).to(.6,{position:cc.v2(270,-251.14)}).call(function(){e.node.active=!1}).start()},3500)}},logs:function(e){var t=this;if(e.length){var i=this;Promise.all(e.map(function(e){return i.message(e)})).then(function(){setTimeout(function(){this.content.scrollToBottom(.1)}.bind(t),100)})}},onData:function(e){void 0!==e.message&&this.message(e.message,!0),void 0!==e.logs&&this.logs(e.logs)},onChatClick:function(){i.isEmpty(this.input.string)||(cc.RedT.send({g:{blackjack:{chatTable:{str:this.input.string,tid:this.tableId}}}}),this.clean())},toggle:function(){this.RedT.setTop(),cc.RedT.audio.playClick(),this.node.active=cc.RedT.setting.threecards.chat_active=!this.node.active},clean:function(){this.input.string=""},reset:function(){this.content.content.destroyAllChildren(),this.node.active=!1}}),cc._RF.pop()},{BrowserUtil:"BrowserUtil",Helper:"Helper"}],BlackJack:[function(e,t){"use strict";cc._RF.push(t,"83ed0UGlmNH57IBkzhvieta","BlackJack");var i,n=(i=e("UIPopupManager"))&&i.__esModule?i:{default:i},a=e("BJGamePlay"),o=e("BJLobby"),s=e("BlackjackDialog"),c=e("Admob");cc.Class({extends:cc.Component,properties:{gameplay:a,lobby:o,nodeNotice:cc.Node,prefabNotice:{default:null,type:cc.Prefab},dialog:s,boxWatchVideo:cc.Node,Progress:cc.Sprite,time:cc.Label},onLoad:function(){cc.RedT.inGame=this,this.isShowBoxUI=!1},start:function(){this.lobby.callGetInfo()},addNotice:function(e){"string"==typeof e?n.default.Instance.notice.show({title:helper.getLang(cc.RedT.language,"taixiu_notice"),text:e}):void 0!==e.button?n.default.Instance.notice.show({title:e.title,text:e.text,button:{text:"notice",type:"watchVideo"}}):n.default.Instance.notice.show({title:e.title,text:e.text})},showHistory:function(){this.dialog.showHistory()},onData:function(e){e.meMap&&(this.meMap=e.meMap),null!=e.notice&&this.addNotice(e.notice),void 0!==e.user&&(e.user.newLevel&&e.user.oldLevel&&e.user.bonus&&e.user.newLevel>e.user.oldLevel&&(n.default.Instance.noticeBonusLvl(e),cc.RedT.user.systemLevel=e.newLevel),cc.RedT.userData(e.user)),null!=e.blackjack&&((e=e.blackjack).backToLobby?(this.onData({notice:{text:e.backToLobby.reason}}),this.lobby.callGetInfo()):null!=e.roomInfo?(this.lobby.node.active=!0,this.gameplay.node.active=!1,this.lobby.show(e.roomInfo)):((e.onTableEvent||e.playerJoin)&&1==this.lobby.node.active&&(this.lobby.cancelUpdate(),this.lobby.node.active=!1,this.gameplay.node.active=!0),this.gameplay.onData(e)),null!=e.history&&this.dialog.onData(e),null!=e.chat&&this.gameplay.onChat(e.chat))},onBtnToggleBoxWatchVideo:function(){var e=this;cc.Tween.stopAllByTarget(this.boxWatchVideo),0==this.isShowboxWatchVideo?(this.isShowboxWatchVideo=!0,this.boxWatchVideo.position=cc.v2(-250,0),this.boxWatchVideo.active=!0,cc.tween(this.boxWatchVideo).to(.25,{position:cc.v2(-20,0)}).start()):(this.isShowboxWatchVideo=!1,cc.tween(this.boxWatchVideo).to(.25,{position:cc.v2(-250,0)}).call(function(){e.boxWatchVideo.active=!0}).start())},onEnable:function(){this.intervalCountDown&&(clearInterval(this.intervalCountDown),this.intervalCountDown=null),this.check5minsWatchEvent()?(this.Progress.fillRange=0,this.time.node.active=!1):this.startCountDown()},onDisable:function(){this.hideCountDown()},hideCountDown:function(){this.intervalCountDown&&(clearInterval(this.intervalCountDown),this.intervalCountDown=null,this.time.node.active=!1)},startCountDown:function(){this.Progress.fillRange=1,this.time.node.active=!0;var e=JSON.parse(localStorage.getItem("timeEventWatch")),t=0;if(e)for(var i=0;i<e.length;i++)if(e[i].username==cc.RedT.user.name){t=e[i].time;break}var n=(t+3e5-Date.now())/1e3;void 0!==this.timeInterval&&clearInterval(this.timeInterval),this.intervalCountDown=setInterval(function(){this.time.string=this.secondsToHms(n),(n-=1)<=0&&(this.Progress.fillRange=0,this.hideCountDown())}.bind(this),1e3)},onClickEventWatchVideo:function(){if(this.check5minsWatchEvent()){n.default.Instance.coinsEventWatch();var e=(new Date).getTime(),t=JSON.parse(localStorage.getItem("timeEventWatch"));if(null!=t){for(var i=0,a=0;a<t.length;a++)if(t[a].username==cc.RedT.user.name){t[a].time=e,i=1;break}1==i?cc.sys.localStorage.setItem("timeEventWatch",JSON.stringify(t)):(t.push({username:cc.RedT.user.name,time:e}),cc.sys.localStorage.setItem("timeEventWatch",JSON.stringify(t)))}else t=[{username:cc.RedT.user.name,time:e}],cc.sys.localStorage.setItem("timeEventWatch",JSON.stringify(t));c.Instance.showRewarded(),this.startCountDown()}},check5minsWatchEvent:function(){var e=(new Date).getTime(),t=JSON.parse(localStorage.getItem("timeEventWatch")),i=null;if(null!=t&&"null"!==t)for(var n=0;n<t.length;n++)t[n].username==cc.RedT.user.name&&(i=t[n].time);return!i||e-(i=parseInt(i))>3e5},secondsToHms:function(e){e=Number(e);var t=Math.floor(e/3600),i=Math.floor(e%3600/60),n=Math.floor(e%3600%60);return(t>0?t+":":"")+(i>0?i+":":"0:")+(n>0?n+"":"0")},pauseMusic:function(){this.gameplay.pauseMusic()},playMusic:function(){this.gameplay.playMusic()}}),cc._RF.pop()},{Admob:"Admob",BJGamePlay:"BJGamePlay",BJLobby:"BJLobby",BlackjackDialog:"BlackjackDialog",UIPopupManager:"UIPopupManager"}],BlackjackDialog:[function(e,t){"use strict";cc._RF.push(t,"47ee2LX93lF240jEGzZyDt2","BlackjackDialog");var i=e("BJHistoryDialog");cc.Class({extends:cc.Component,properties:{blackjackHistory:i,bjHelp:cc.Node},onData:function(e){null!=e.history&&this.blackjackHistory.onData(e.history)},showHelp:function(){this.node.active=!0,this.bjHelp.active=!0},hideHelp:function(){this.node.active=!1,this.bjHelp.active=!1},showHistory:function(){this.node.active=!0,this.blackjackHistory.node.active=!0},hideHistory:function(){this.node.active=!1,this.blackjackHistory.node.active=!1}}),cc._RF.pop()},{BJHistoryDialog:"BJHistoryDialog"}],BonusItem:[function(e,t){"use strict";cc._RF.push(t,"bf9d3NYJlNEVJ/sd4oVT/PF","BonusItem"),cc.Class({extends:cc.Component,properties:{grand:cc.Node,mini:cc.Node,major:cc.Node},init:function(e){this.RedT=e},random:function(){var e=3*Math.random()>>0;return this.setIcon(e),e},setIcon:function(e){0==e?(this.mini.active=!0,this.major.active=this.grand.active=!1):1==e?(this.major.active=!0,this.mini.active=this.grand.active=!1):(this.grand.active=!0,this.major.active=this.mini.active=!1)}}),cc._RF.pop()},{}],BrowserUtil:[function(e,t){"use strict";cc._RF.push(t,"3144b0EOb5M+JRv7V+30M1S","BrowserUtil"),t.exports={showCursorText:function(){this.isCursorAuto()||this.setCursor("text")},showCursorPointer:function(){this.isCursorAuto()||this.setCursor("pointer")},showCursorMove:function(){this.isCursorAuto()||this.setCursor("move")},showCursorAuto:function(){this.isCursorAuto()||this.setCursor("auto")},showCursorShoot:function(){cc.sys.isBrowser&&(document.getElementById("GameDiv").style.cursor="url('cursors/cursor-shot.png') 5 2, auto")},showCursorAutoForce:function(){cc.sys.isBrowser&&this.setCursor("auto")},isCursorAuto:function(){return!!cc.sys.isBrowser&&"auto"===document.getElementById("GameDiv").style.cursor},setCursor:function(e){cc.sys.isBrowser&&(document.body.style.cursor=e)},showTooltip:function(e){cc.sys.isBrowser&&(document.body.title=e)},focusGame:function(){cc.sys.isBrowser&&document.getElementsByTagName("canvas")[0].focus()},getHTMLElementByEditBox:function(e){return e._impl._elem},checkEditBoxFocus:function(e){return e.isFocused()},focusEditBox:function(e){e._impl._elem.focus(),e.focus()},unFocusEditBox:function(){},inputAddEvent:function(e,t,i){e._impl._elem.addEventListener(t,i)},inputRemoveEvent:function(e,t,i){e._impl._elem.removeEventListener(t,i)},readOnlyEditBox:function(e){e.readOnly=!0}},cc._RF.pop()},{}],1:[function(e,t){var i=e("util/"),n=Array.prototype.slice,a=Object.prototype.hasOwnProperty,o=t.exports=h;function s(e,t){return i.isUndefined(t)?""+t:i.isNumber(t)&&!isFinite(t)?t.toString():i.isFunction(t)||i.isRegExp(t)?t.toString():t}function c(e,t){return i.isString(e)?e.length<t?e:e.slice(0,t):e}function r(e){return c(JSON.stringify(e.actual,s),128)+" "+e.operator+" "+c(JSON.stringify(e.expected,s),128)}function l(e,t,i,n,a){throw new o.AssertionError({message:i,actual:e,expected:t,operator:n,stackStartFunction:a})}function h(e,t){e||l(e,!0,t,"==",o.ok)}function d(e,t){if(e===t)return!0;if(i.isBuffer(e)&&i.isBuffer(t)){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return i.isDate(e)&&i.isDate(t)?e.getTime()===t.getTime():i.isRegExp(e)&&i.isRegExp(t)?e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase:i.isObject(e)||i.isObject(t)?p(e,t):e==t}function u(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function p(e,t){if(i.isNullOrUndefined(e)||i.isNullOrUndefined(t))return!1;if(e.prototype!==t.prototype)return!1;if(i.isPrimitive(e)||i.isPrimitive(t))return e===t;var a=u(e),o=u(t);if(a&&!o||!a&&o)return!1;if(a)return d(e=n.call(e),t=n.call(t));var s,c,r=f(e),l=f(t);if(r.length!=l.length)return!1;for(r.sort(),l.sort(),c=r.length-1;c>=0;c--)if(r[c]!=l[c])return!1;for(c=r.length-1;c>=0;c--)if(!d(e[s=r[c]],t[s]))return!1;return!0}function g(e,t){return!(!e||!t)&&("[object RegExp]"==Object.prototype.toString.call(t)?t.test(e):e instanceof t||!0===t.call({},e))}function m(e,t,n,a){var o;i.isString(n)&&(a=n,n=null);try{t()}catch(s){o=s}if(a=(n&&n.name?" ("+n.name+").":".")+(a?" "+a:"."),e&&!o&&l(o,n,"Missing expected exception"+a),!e&&g(o,n)&&l(o,n,"Got unwanted exception"+a),e&&o&&n&&!g(o,n)||!e&&o)throw o}o.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=r(this),this.generatedMessage=!0);var t=e.stackStartFunction||l;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var i=new Error;if(i.stack){var n=i.stack,a=t.name,o=n.indexOf("\n"+a);if(o>=0){var s=n.indexOf("\n",o+1);n=n.substring(s+1)}this.stack=n}}},i.inherits(o.AssertionError,Error),o.fail=l,o.ok=h,o.equal=function(e,t,i){e!=t&&l(e,t,i,"==",o.equal)},o.notEqual=function(e,t,i){e==t&&l(e,t,i,"!=",o.notEqual)},o.deepEqual=function(e,t,i){d(e,t)||l(e,t,i,"deepEqual",o.deepEqual)},o.notDeepEqual=function(e,t,i){d(e,t)&&l(e,t,i,"notDeepEqual",o.notDeepEqual)},o.strictEqual=function(e,t,i){e!==t&&l(e,t,i,"===",o.strictEqual)},o.notStrictEqual=function(e,t,i){e===t&&l(e,t,i,"!==",o.notStrictEqual)},o.throws=function(e,t,i){m.apply(this,[!0].concat(n.call(arguments)))},o.doesNotThrow=function(e,t){m.apply(this,[!1].concat(n.call(arguments)))},o.ifError=function(e){if(e)throw e};var f=Object.keys||function(e){var t=[];for(var i in e)a.call(e,i)&&t.push(i);return t}},{"util/":4}],2:[function(e,t){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},{}],3:[function(e,t){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],4:[function(e,t,i){(function(t,n){var a=/%[sdj%]/g;i.format=function(e){if(!C(e)){for(var t=[],i=0;i<arguments.length;i++)t.push(c(arguments[i]));return t.join(" ")}i=1;for(var n=arguments,o=n.length,s=String(e).replace(a,function(e){if("%%"===e)return"%";if(i>=o)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(t){return"[Circular]"}default:return e}}),r=n[i];i<o;r=n[++i])T(r)||!_(r)?s+=" "+r:s+=" "+c(r);return s},i.deprecate=function(e,a){if(S(n.process))return function(){return i.deprecate(e,a).apply(this,arguments)};if(!0===t.noDeprecation)return e;var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(a);t.traceDeprecation?console.trace(a):console.error(a),o=!0}return e.apply(this,arguments)}};var o,s={};function c(e,t){var n={seen:[],stylize:l};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),b(t)?n.showHidden=t:t&&i._extend(n,t),S(n.showHidden)&&(n.showHidden=!1),S(n.depth)&&(n.depth=2),S(n.colors)&&(n.colors=!1),S(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=r),d(n,e,n.depth)}function r(e,t){var i=c.styles[t];return i?"\x1b["+c.colors[i][0]+"m"+e+"\x1b["+c.colors[i][1]+"m":e}function l(e){return e}function h(e){var t={};return e.forEach(function(e){t[e]=!0}),t}function d(e,t,n){if(e.customInspect&&t&&w(t.inspect)&&t.inspect!==i.inspect&&(!t.constructor||t.constructor.prototype!==t)){var a=t.inspect(n,e);return C(a)||(a=d(e,a,n)),a}var o=u(e,t);if(o)return o;var s=Object.keys(t),c=h(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),I(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return p(t);if(0===s.length){if(w(t)){var r=t.name?": "+t.name:"";return e.stylize("[Function"+r+"]","special")}if(R(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(x(t))return e.stylize(Date.prototype.toString.call(t),"date");if(I(t))return p(t)}var l,b="",T=!1,y=["{","}"];return v(t)&&(T=!0,y=["[","]"]),w(t)&&(b=" [Function"+(t.name?": "+t.name:"")+"]"),R(t)&&(b=" "+RegExp.prototype.toString.call(t)),x(t)&&(b=" "+Date.prototype.toUTCString.call(t)),I(t)&&(b=" "+p(t)),0!==s.length||T&&0!=t.length?n<0?R(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),l=T?g(e,t,n,c,s):s.map(function(i){return m(e,t,n,c,i,T)}),e.seen.pop(),f(l,b,y)):y[0]+b+y[1]}function u(e,t){if(S(t))return e.stylize("undefined","undefined");if(C(t)){var i="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(i,"string")}return y(t)?e.stylize(""+t,"number"):b(t)?e.stylize(""+t,"boolean"):T(t)?e.stylize("null","null"):void 0}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function g(e,t,i,n,a){for(var o=[],s=0,c=t.length;s<c;++s)k(t,String(s))?o.push(m(e,t,i,n,String(s),!0)):o.push("");return a.forEach(function(a){a.match(/^\d+$/)||o.push(m(e,t,i,n,a,!0))}),o}function m(e,t,i,n,a,o){var s,c,r;if((r=Object.getOwnPropertyDescriptor(t,a)||{value:t[a]}).get?c=r.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):r.set&&(c=e.stylize("[Setter]","special")),k(n,a)||(s="["+a+"]"),c||(e.seen.indexOf(r.value)<0?(c=T(i)?d(e,r.value,null):d(e,r.value,i-1)).indexOf("\n")>-1&&(c=o?c.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+c.split("\n").map(function(e){return"   "+e}).join("\n")):c=e.stylize("[Circular]","special")),S(s)){if(o&&a.match(/^\d+$/))return c;(s=JSON.stringify(""+a)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+c}function f(e,t,i){return e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?i[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+i[1]:i[0]+t+" "+e.join(", ")+" "+i[1]}function v(e){return Array.isArray(e)}function b(e){return"boolean"==typeof e}function T(e){return null===e}function y(e){return"number"==typeof e}function C(e){return"string"==typeof e}function S(e){return void 0===e}function R(e){return _(e)&&"[object RegExp]"===B(e)}function _(e){return"object"==typeof e&&null!==e}function x(e){return _(e)&&"[object Date]"===B(e)}function I(e){return _(e)&&("[object Error]"===B(e)||e instanceof Error)}function w(e){return"function"==typeof e}function B(e){return Object.prototype.toString.call(e)}function N(e){return e<10?"0"+e.toString(10):e.toString(10)}i.debuglog=function(e){if(S(o)&&(o=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!s[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var n=t.pid;s[e]=function(){var t=i.format.apply(i,arguments);console.error("%s %d: %s",e,n,t)}}else s[e]=function(){};return s[e]},i.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},i.isArray=v,i.isBoolean=b,i.isNull=T,i.isNullOrUndefined=function(e){return null==e},i.isNumber=y,i.isString=C,i.isSymbol=function(e){return"symbol"==typeof e},i.isUndefined=S,i.isRegExp=R,i.isObject=_,i.isDate=x,i.isError=I,i.isFunction=w,i.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},i.isBuffer=e("./support/isBuffer");var L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(){var e=new Date,t=[N(e.getHours()),N(e.getMinutes()),N(e.getSeconds())].join(":");return[e.getDate(),L[e.getMonth()],t].join(" ")}function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}i.log=function(){console.log("%s - %s",A(),i.format.apply(i,arguments))},i.inherits=e("inherits"),i._extend=function(e,t){if(!t||!_(t))return e;for(var i=Object.keys(t),n=i.length;n--;)e[i[n]]=t[i[n]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":3,_process:6,inherits:2}],5:[function(e,t){(function(i){var n=e("util"),a=e("assert");function o(){return(new Date).getTime()}var s,c=Array.prototype.slice,r={};s=void 0!==i&&i.console?i.console:"undefined"!=typeof window&&window.console?window.console:{};for(var l=[[function(){},"log"],[function(){s.log.apply(s,arguments)},"info"],[function(){s.log.apply(s,arguments)},"warn"],[function(){s.warn.apply(s,arguments)},"error"],[function(e){r[e]=o()},"time"],[function(e){var t=r[e];if(!t)throw new Error("No such label: "+e);delete r[e];var i=o()-t;s.log(e+": "+i+"ms")},"timeEnd"],[function(){var e=new Error;e.name="Trace",e.message=n.format.apply(null,arguments),s.error(e.stack)},"trace"],[function(e){s.log(n.inspect(e)+"\n")},"dir"],[function(e){if(!e){var t=c.call(arguments,1);a.ok(!1,n.format.apply(null,t))}},"assert"]],h=0;h<l.length;h++){var d=l[h],u=d[0],p=d[1];s[p]||(s[p]=u)}t.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{assert:1,util:9}],6:[function(e,t){var i,n,a=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(e){if(i===setTimeout)return setTimeout(e,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}function r(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(e){i=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}})();var l,h=[],d=!1,u=-1;function p(){d&&l&&(d=!1,l.length?h=l.concat(h):u=-1,h.length&&g())}function g(){if(!d){var e=c(p);d=!0;for(var t=h.length;t;){for(l=h,h=[];++u<t;)l&&l[u].run();u=-1,t=h.length}l=null,d=!1,r(e)}}function m(e,t){this.fun=e,this.array=t}function f(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];h.push(new m(e,t)),1!==h.length||d||c(g)},m.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=f,a.addListener=f,a.once=f,a.off=f,a.removeListener=f,a.removeAllListeners=f,a.emit=f,a.prependListener=f,a.prependOnceListener=f,a.listeners=function(){return[]},a.binding=function(){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],7:[function(e,t,i){arguments[4][2][0].apply(i,arguments)},{dup:2}],8:[function(e,t,i){arguments[4][3][0].apply(i,arguments)},{dup:3}],9:[function(e,t,i){arguments[4][4][0].apply(i,arguments)},{"./support/isBuffer":8,_process:6,dup:4,inherits:7}],CaNhan:[function(e,t){"use strict";cc._RF.push(t,"47772lCqUBB4owyBQc/Yrdt","CaNhan");var i=a(e("ResourceManager")),n=a(e("../../../../Helper/Helper"));function a(e){return e&&e.__esModule?e:{default:e}}var o=e("Helper"),s=e("UIPopupManager");cc.Class({extends:cc.Component,properties:{avatar:cc.Sprite,UID:{default:null,type:cc.Label},username:{default:null,type:cc.Label},phone:{default:null,type:cc.Label},joinedOn:{default:null,type:cc.Label},nodeRank:cc.Node,nodeNhan:cc.Node,vipLevel:cc.Label,vipTong:cc.Label,vipHien:cc.Label,vipTiep:cc.Label,rewardVip2:cc.Label,rewardVip3:cc.Label,rewardVip4:cc.Label,rewardVip5:cc.Label,rewardVip6:cc.Label,rewardVip7:cc.Label,rewardVip8:cc.Label,rewardVip9:cc.Label,deletePopup:cc.Node,noticeFinal:cc.Node,vipPoint2:cc.Label,vipPoint3:cc.Label,vipPoint4:cc.Label,vipPoint5:cc.Label,vipPoint6:cc.Label,vipPoint7:cc.Label,vipPoint8:cc.Label,vipPoint9:cc.Label,vipPointLine2:cc.Label,vipPointLine3:cc.Label,vipPointLine4:cc.Label,vipPointLine5:cc.Label,vipPointLine6:cc.Label,vipPointLine7:cc.Label,vipPointLine8:cc.Label,vipPointLine9:cc.Label,VIP:cc.Node,userCoin:cc.Label,receivedCoins:cc.Node,nodeConfirm:cc.Node,nodeWatchVideo:cc.Node,userLevel:cc.Label,progessLevel:cc.Sprite,levelPercent:cc.Label,frame:cc.Sprite},onEnable:function(){this.getLevel()},onDisable:function(){this.deletePopup.active=!1,this.noticeFinal.active=!1},getLevel:function(){cc.RedT.send({user:{getLevel:!0}})},level:function(e){cc.RedT.userData(e),this.gift=JSON.parse(e.giftVipStatus);var t=this;cc.RedT.user.vipHT=e.vipHT-e.vipPre,cc.RedT.user.vipNext=e.vipNext-e.vipPre,cc.RedT.inGame.header.level(e.level+1),cc.RedT.inGame.header.updateEXP(cc.RedT.user.vipHT,cc.RedT.user.vipNext),cc.RedT.MainGame.updateFrame(Math.floor(cc.RedT.user.systemLevel/5)-1,this.frame),this.userLevel.string=cc.RedT.user.systemLevel,this.progessLevel.fillRange=e.nextLvlPercent/100,this.levelPercent.string=e.nextLvlPercent+"%",this.vipLevel.string="VIP"+o.numberWithCommas(e.level+1),this.vipTong.string=o.numberWithCommas(e.vipTL),this.vipHien.string=o.numberWithCommas(e.vipHT),this.vipTiep.string=o.numberWithCommas(e.vipNext),this.rewardVip2.string=n.default.ToKMB2(.2*e.config[1].vipPre),this.rewardVip3.string=n.default.ToKMB2(.3*e.config[2].vipPre),this.rewardVip4.string=n.default.ToKMB2(.4*e.config[3].vipPre),this.rewardVip5.string=n.default.ToKMB2(.5*e.config[4].vipPre),this.rewardVip6.string=n.default.ToKMB2(.6*e.config[5].vipPre),this.rewardVip7.string=n.default.ToKMB2(.7*e.config[6].vipPre),this.rewardVip8.string=n.default.ToKMB2(.8*e.config[7].vipPre),this.rewardVip9.string=n.default.ToKMB2(.9*e.config[8].vipPre),this.vipPoint2.string=this.vipPointLine2.string=n.default.ToKMB2(e.config[1].vipPre),this.vipPoint3.string=this.vipPointLine3.string=n.default.ToKMB2(e.config[2].vipPre),this.vipPoint4.string=this.vipPointLine4.string=n.default.ToKMB2(e.config[3].vipPre),this.vipPoint5.string=this.vipPointLine5.string=n.default.ToKMB2(e.config[4].vipPre),this.vipPoint6.string=this.vipPointLine6.string=n.default.ToKMB2(e.config[5].vipPre),this.vipPoint7.string=this.vipPointLine7.string=n.default.ToKMB2(e.config[6].vipPre),this.vipPoint8.string=this.vipPointLine8.string=n.default.ToKMB2(e.config[7].vipPre),this.vipPoint9.string=this.vipPointLine9.string=n.default.ToKMB2(e.config[8].vipPre),this.userCoin.string=o.numberWithCommas(cc.RedT.user.red);var a=i.default.Instance.avatars[cc.RedT.user.avatar];null!=a&&(this.avatar.spriteFrame=a),Promise.all(this.nodeRank.children.map(function(i,n){i.name<=e.level+1?(i.opacity=255,t.gift&&(0==t.gift[n+1]?t.nodeNhan.children[n].children[3].active=!0:(t.nodeNhan.children[n].children[3].active=!1,t.nodeNhan.children[n].children[4].active=!0))):i.opacity=100}))},onNhanThuong:function(e,t){var i=t-1;cc.RedT.send({user:{nhanthuong:!0,level:t}}),this.nodeNhan.children[i].children[3].active=!1,this.nodeNhan.children[i].children[4].active=!0},onButtonDelete:function(){this.deletePopup.active=!0,this.noticeFinal.active=!1,this.receivedCoins.active=!1},onButtonCloseDelete:function(){this.deletePopup.active=!1},onButtonYes:function(){cc.RedT.send({user:{delete_forever:cc.RedT.user.UID}}),cc.RedT.inGame.auth({authenticationout:{username:cc.RedT.user.name,logout:!0}}),cc.RedT._socket.close(),this.deletePopup.active=!1},onButtonCloseConfirm:function(){this.noticeFinal.active=!1},onButtonConfirm:function(){this.noticeFinal.active=!0,cc.RedT.user.red<1e5?(this.nodeConfirm.active=!1,this.nodeWatchVideo.active=!0):(this.nodeConfirm.active=!0,this.nodeWatchVideo.active=!1)},onBackProfile:function(){cc.RedT.audio.playUnClick(),this.VIP.active=!1},showVIP:function(){this.node.active=this.VIP.active=!0,this.objShow=this.VIP},checkReceived5min:function(){var e=(new Date).getTime(),t=localStorage.getItem("coinsWatchVideo");return null==t||e-(t=parseInt(t))>3e5},rewardDelete:function(){this.receivedCoins.active=!0,this.deletePopup.active=!0,this.noticeFinal.active=!1;var e=(new Date).getTime();cc.sys.localStorage.setItem("coinsWatchVideo",e),s.Instance.coinsEventWatch(!0)}}),cc._RF.pop()},{"../../../../Helper/Helper":"Helper",Helper:"Helper",ResourceManager:"ResourceManager",UIPopupManager:"UIPopupManager"}],CanvasResizer:[function(e,t,i){"use strict";cc._RF.push(t,"0c3cakxnS9Isa2FJ2QbGS6n","CanvasResizer"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,a=n.ccclass,o=n.property,s=n.requireComponent,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.designResolution=new cc.Size(1280,720),t.lastWitdh=0,t.lastHeight=0,t}return __extends(t,e),t.prototype.onLoad=function(){this.canvas=this.node.getComponent(cc.Canvas),this.updateCanvas(),cc.winSize.width/cc.winSize.height>=16/9?(cc.Canvas.instance.fitHeight=!0,cc.Canvas.instance.fitWidth=!1):(cc.Canvas.instance.fitHeight=!1,cc.Canvas.instance.fitWidth=!0)},t.prototype.update=function(){this.updateCanvas()},t.prototype.updateCanvas=function(){var e=cc.view.getFrameSize();if(this.lastWitdh!==e.width||this.lastHeight!==e.height)if(this.lastWitdh=e.width,this.lastHeight=e.height,this.designResolution.width/this.designResolution.height>e.width/e.height){var t=cc.size(this.designResolution.width,this.designResolution.width*(e.height/e.width));this.canvas.designResolution=t,cc.log("update canvas size: "+t)}else t=cc.size(this.designResolution.height*(e.width/e.height),this.designResolution.height),this.canvas.designResolution=t,cc.log("update canvas size: "+t)},__decorate([o],t.prototype,"designResolution",void 0),__decorate([a,s(cc.Canvas)],t)}(cc.Component);i.default=c,cc._RF.pop()},{}],CaoThap_history_item:[function(e,t){"use strict";cc._RF.push(t,"4816cEGzJ1O1riIu0aE1iNT","CaoThap_history_item"),cc.Class({extends:cc.Component,properties:{time:cc.Label,phien:cc.Label,cuoc:cc.Label,buoc:cc.Label,card1:cc.Sprite,select:cc.Node,card2:cc.Sprite,win:cc.Label}}),cc._RF.pop()},{}],CaoThap_history:[function(e,t){"use strict";cc._RF.push(t,"025c7+UqBFBWKVKH56kQUN5","CaoThap_history");var i=e("Helper"),n=e("UIPopupManager");cc.Class({extends:cc.Component,properties:{background:cc.Node,page:cc.Prefab,content:cc.Node,cointRed:cc.Node,cointXu:cc.Node,red:!0},show:function(){this.setTop()},hide:function(){n.Instance.hideGameCaoThap_history()},onLoad:function(){var e=this;this.page=cc.instantiate(this.page),this.page.y=-307,this.node.addChild(this.page),this.page=this.page.getComponent("Pagination"),Promise.all(this.content.children.map(function(e){return e.getComponent("CaoThap_history_item")})).then(function(t){e.content=t}),this.page.init(this)},get_data:function(e){void 0===e&&(e=1),cc.RedT.send({g:{caothap:{history:{red:this.red,page:e}}}})},changerCoint:function(){this.red=!this.red,this.cointRed.active=!this.cointRed.active,this.cointXu.active=!this.cointXu.active,this.get_data()},onEnable:function(){this.get_data()},onDisable:function(){},eventStart:function(e){this.setTop(),this.ttOffset=cc.v2(e.touch.getLocationX()-this.node.position.x,e.touch.getLocationY()-this.node.position.y)},eventMove:function(e){this.node.position=cc.v2(e.touch.getLocationX()-this.ttOffset.x,e.touch.getLocationY()-this.ttOffset.y)},eventEnd:function(){},setTop:function(){this.node.parent.insertChild(this.node)},onData:function(e){this.page.onSet(e.page,e.kmess,e.total),Promise.all(this.content.map(function(t,n){var a=e.data[n];void 0!==a?(t.node.active=!0,t.time.string=i.getStringDateByTime(a.time),t.phien.string=a.id,t.buoc.string=a.buoc,t.cuoc.string=i.numberWithCommas(a.cuoc),t.win.string=i.numberWithCommas(a.bet),t.card1.spriteFrame=cc.RedT.util.card.getCard(a.card1.card,a.card1.type),a.chon?(t.select.active=!0,2==a.chon?t.select.scaleY=-1:t.select.scaleY=1):t.select.active=!1,void 0!==a.card2&&void 0!==a.card2.card?(t.card2.node.active=!0,t.card2.spriteFrame=cc.RedT.util.card.getCard(a.card2.card,a.card2.type)):t.card2.node.active=!1):t.node.active=!1}))}}),cc._RF.pop()},{Helper:"Helper",UIPopupManager:"UIPopupManager"}],CaoThap_reels:[function(e,t){"use strict";cc._RF.push(t,"858b3VPVxxI44+/QaauFb0O","CaoThap_reels"),cc.Class({extends:cc.Component,init:function(e){var t=this;this.RedT=e,this.card=[];var i=this;Promise.all([0,0,0,0,0,0,0,0,0,0,0,0,0].map(function(){var e=cc.instantiate(i.RedT.cardf);return e.width=113,e.height=161,i.node.addChild(e),e.getComponent(cc.Sprite)})).then(function(e){t.card=e,t.random(!0)})},random:function(e){void 0===e&&(e=!1),Promise.all(this.card.map(function(t,i){e?t.spriteFrame=12==i?cc.RedT.util.card.cardB1:cc.RedT.util.card.random():0!==i&&12!==i&&(t.spriteFrame=cc.RedT.util.card.random())}))},spin:function(){this.node.stopAllActions();var e=cc.moveTo(1,cc.v2(0,-(this.node.height-161))).easing(cc.easeInOut(3)),t=cc.callFunc(function(){this.card[12].spriteFrame=this.card[0].spriteFrame,this.node.y=0},this),i=cc.callFunc(function(){this.RedT.resumeGame(),this.RedT.addMainLog()},this);this.node.runAction(cc.sequence(e,t,cc.delayTime(.1),i))},stop:function(){this.node.stopAllActions(),this.node.y=0}}),cc._RF.pop()},{}],CaoThap_top_item:[function(e,t){"use strict";cc._RF.push(t,"75624vu325ApKFOyOEfLajG","CaoThap_top_item"),cc.Class({extends:cc.Component,properties:{time:cc.Label,nick:cc.Label,cuoc:cc.Label,win:cc.Label,nohu:cc.Label}}),cc._RF.pop()},{}],CaoThap_top:[function(e,t){"use strict";cc._RF.push(t,"4ae1dSPK8VEcrHS1zJqrH8e","CaoThap_top");var i=e("Helper"),n=e("UIPopupManager");cc.Class({extends:cc.Component,properties:{background:cc.Node,item:cc.Prefab,content:cc.Node,cointRed:cc.Node,cointXu:cc.Node,red:!0},show:function(){this.setTop()},hide:function(){n.Instance.hideGameCaoThap_top()},setTop:function(){this.node.parent.insertChild(this.node)},get_data:function(e){void 0===e&&(e=1),cc.RedT.send({g:{caothap:{tops:this.red}}})},changerCoint:function(){this.red=!this.red,this.cointRed.active=!this.cointRed.active,this.cointXu.active=!this.cointXu.active,this.get_data()},onEnable:function(){this.get_data()},onDisable:function(){},eventStart:function(e){this.setTop(),this.ttOffset=cc.v2(e.touch.getLocationX()-this.node.position.x,e.touch.getLocationY()-this.node.position.y)},eventMove:function(e){this.node.position=cc.v2(e.touch.getLocationX()-this.ttOffset.x,e.touch.getLocationY()-this.ttOffset.y)},eventEnd:function(){},onData:function(e){this.content.removeAllChildren();var t=this;Promise.all(e.map(function(e,n){var a=cc.instantiate(t.item),o=a.getComponent("CaoThap_top_item");o.time.string=i.getStringDateByTime(e.time),o.nick.string=e.name,o.cuoc.string=i.numberWithCommas(e.goc),o.win.string=i.numberWithCommas(e.bet),o.nohu.string=e.a?"Jackpot":"Big Win",a.children[0].active=!(1&n),t.content.addChild(a)}))}}),cc._RF.pop()},{Helper:"Helper",UIPopupManager:"UIPopupManager"}],CaoThap:[function(e,t){"use strict";cc._RF.push(t,"300c3HqhRtJh4EmEiBIJq7G","CaoThap");var i=e("Helper"),n=e("CaoThap_reels"),a=e("UIPopupManager");cc.Class({extends:cc.Component,properties:{nodeEfect:cc.Node,PrefabNoHu:cc.Prefab,background:cc.Node,logs:cc.Node,reels:n,listA:{default:[],type:cc.Node},font:{default:null,type:cc.BitmapFont},buttonPlay:cc.Node,buttonCoint:cc.Node,buttonAnNon:cc.Node,txtAnNon:cc.Node,buttonCao:cc.Node,buttonThap:cc.Node,bet:cc.Node,nodeRed:cc.Node,nodeXu:cc.Node,notice:cc.Node,prefabNotice:cc.Prefab,card:cc.Prefab,cardf:cc.Prefab,cuoc:"",hu:cc.Label,time:cc.Label,win:cc.Label,winUp:cc.Label,winDown:cc.Label,isPlay:!1,red:!0},onLoad:function(){this.card.data.getComponent("Card").config(),cc.RedT.setting.caothap=cc.RedT.setting.caothap||{bet:"1000",logs:[]},"true"==localStorage.getItem("caothap")&&(this.node.active=!0),void 0===cc.RedT.util.fontEffect&&(cc.RedT.util.fontEffect=this.font),void 0!==cc.RedT.setting.caothap.position&&(this.node.position=cc.RedT.setting.caothap.position),void 0!==cc.RedT.setting.caothap.cuoc&&cc.RedT.setting.caothap.cuoc!=this.cuoc&&this.intChangerBet(),void 0!==cc.RedT.setting.caothap.red&&this.red!=cc.RedT.setting.caothap.red&&this.changerCoint(),this.reels.init(this),cc.RedT.setting.caothap.isPlay&&!this.isPlay&&(this.isPlay=!0,this.onPlay(),this.resumeGame(),cc.RedT.setting.caothap.time_remain++,this.playTime(),setTimeout(function(){this.reels.card[this.reels.card.length-1].spriteFrame=cc.RedT.util.card.getCard(cc.RedT.setting.caothap.card.card,cc.RedT.setting.caothap.card.type),this.reMainLog()}.bind(this),100)),"MainGame"==cc.RedT.inGame.__classname__&&(localStorage.setItem("playing_game","highlow"),localStorage.setItem("playing_money",5e4))},onBtnTutorial:function(){a.Instance.showGameHuongDan("CaoThap")},onBtnHistory:function(){a.Instance.showGameCaoThap_history()},onBtnTop:function(){a.Instance.showGameCaoThap_top()},onEnable:function(){this.onGetHu(),this.background.on(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.background.on(cc.Node.EventType.TOUCH_MOVE,this.eventMove,this),this.background.on(cc.Node.EventType.TOUCH_END,this.eventEnd,this),this.background.on(cc.Node.EventType.TOUCH_CANCEL,this.eventEnd,this)},onDisable:function(){this.background.off(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.background.off(cc.Node.EventType.TOUCH_MOVE,this.eventMove,this),this.background.off(cc.Node.EventType.TOUCH_END,this.eventEnd,this),this.background.off(cc.Node.EventType.TOUCH_CANCEL,this.eventEnd,this)},eventStart:function(e){this.setTop(),this.ttOffset=cc.v2(e.touch.getLocationX()-this.node.position.x,e.touch.getLocationY()-this.node.position.y)},eventMove:function(e){this.node.position=cc.v2(e.touch.getLocationX()-this.ttOffset.x,e.touch.getLocationY()-this.ttOffset.y)},eventEnd:function(){cc.RedT.setting.caothap.position=this.node.position},openGame:function(){cc.RedT.audio.playClick(),cc.RedT.IS_LOGIN?(this.node.active=!0,localStorage.setItem("caothap",!1),this.setTop()):a.Instance.showSignIn()},closeGame:function(){cc.RedT.audio.playUnClick(),this.node.active=!1,localStorage.setItem("caothap",!1),a.Instance.hideGameCaoThap()},setTop:function(){this.node.parent.insertChild(this.node)},changerCoint:function(){this.red=cc.RedT.setting.caothap.red=!this.red,this.nodeRed.active=!this.nodeRed.active,this.nodeXu.active=!this.nodeXu.active,this.onGetHu()},intChangerBet:function(){var e=this;Promise.all(this.bet.children.map(function(t){t.name==cc.RedT.setting.caothap.cuoc?(e.cuoc=t.name,t.children[0].active=!0,t.pauseSystemEvents()):(t.children[0].active=!1,t.resumeSystemEvents())}))},changerBet:function(e){if(this.isPlay)Promise.all(this.bet.children.map(function(e){e.pauseSystemEvents()}));else{var t=e.target;this.cuoc=cc.RedT.setting.caothap.cuoc=t.name,Promise.all(this.bet.children.map(function(e){e==t?(e.children[0].active=!0,e.pauseSystemEvents()):(e.children[0].active=!1,e.resumeSystemEvents())})),this.onGetHu()}},addNotice:function(e){"string"==typeof e?a.Instance.notice.show({title:i.getLang(cc.RedT.language,"taixiu_notice"),text:e}):void 0!==e.button?a.Instance.notice.show({title:e.title,text:e.text,button:{text:"notice",type:"watchVideo"}}):a.Instance.notice.show({title:e.title,text:e.text})},EF_Play:function(){this.reels.random(),this.reels.spin()},onPlay:function(){this.buttonPlay.active=!1,Promise.all(this.bet.children.map(function(e){e.pauseSystemEvents()}))},offPlay:function(){this.isPlay=cc.RedT.setting.caothap.isPlay=!1,this.buttonPlay.active=!0,Promise.all(this.bet.children.map(function(e){e.children[0].active||e.resumeSystemEvents()})),this.buttonAnNon.color=cc.color(155,155,155),this.txtAnNon.color=cc.color(155,155,155),this.buttonAnNon.pauseSystemEvents(),this.buttonCao.color=cc.color(155,155,155),this.buttonCao.pauseSystemEvents(),this.buttonThap.color=cc.color(155,155,155),this.buttonThap.pauseSystemEvents(),void 0!==this.timeInterval&&clearInterval(this.timeInterval)},onS1:function(){this.buttonAnNon.pauseSystemEvents(),this.buttonCao.pauseSystemEvents(),this.buttonThap.pauseSystemEvents()},onClickPlay:function(){this.isPlay||(this.isPlay=cc.RedT.setting.caothap.isPlay=!0,this.sendPlay(),this.onPlay(),this.reSetPhien())},onData:function(e){void 0!==e.status&&(1===e.status?(cc.RedT.setting.caothap.time_remain=120,cc.RedT.setting.caothap.win=e.win,cc.RedT.setting.caothap.card=e.card,cc.RedT.setting.caothap.a=e.a,cc.RedT.setting.caothap.bet=e.bet,cc.RedT.setting.caothap.click=e.click,cc.RedT.setting.caothap.winUp=e.winUp,cc.RedT.setting.caothap.winDown=e.winDown,cc.RedT.setting.caothap.logs.push(e.card),void 0!==e.nohu&&(this.nohu=e.nohu),this.reels.card[0].spriteFrame=cc.RedT.util.card.getCard(e.card.card,e.card.type),this.EF_Play(),this.playTime()):this.offPlay()),void 0!==e.annon&&this.annon(e.annon),void 0!==e.reconnect&&this.connect(e.reconnect),void 0!==e.isAnNon&&this.eAnNon(e.isAnNon),void 0!==e.down&&this.eThapChanger(e.down),void 0!==e.up&&this.eCaoChanger(e.up),void 0!==e.notice&&this.addNotice(e.notice)},onDestroy:function(){void 0!==this.timeInterval&&clearInterval(this.timeInterval)},playTime:function(){void 0!==this.timeInterval&&clearInterval(this.timeInterval),this.timeInterval=setInterval(function(){cc.RedT.setting.caothap.time_remain>0?this.time.string=i.numberToTime(cc.RedT.setting.caothap.time_remain):clearInterval(this.timeInterval),cc.RedT.setting.caothap.time_remain--}.bind(this),1e3)},sendPlay:function(){if("highlow"!=localStorage.getItem("playing_game")){var e=localStorage.getItem("playing_game"),t=parseInt(localStorage.getItem("playing_money"));cc.RedT.send({g:{caothap:{play:{newGame:{cuoc:this.cuoc,red:this.red,playing_game:e,playing_money:t}}}}})}else cc.RedT.send({g:{caothap:{play:{newGame:{cuoc:this.cuoc,red:this.red}}}}})},selectGame:function(e,t){this.onS1(),this.isPlay&&cc.RedT.send({g:{caothap:{play:{select:"1"==t}}}})},onAnNon:function(){this.isPlay&&cc.RedT.send({g:{caothap:{play:{annon:!0}}}})},reconnect:function(){cc.RedT.setting.caothap.connect=!0,cc.RedT.send({g:{caothap:{play:{reconnect:!0}}}})},connect:function(e){this.onPlay(),e.red!=this.red&&this.changerCoint(),this.cuoc!=e.cuoc&&(this.cuoc=cc.RedT.setting.caothap.cuoc=e.cuoc,this.intChangerBet()),this.isPlay=cc.RedT.setting.caothap.isPlay=!0,cc.RedT.setting.caothap.time_remain=e.time_remain,cc.RedT.setting.caothap.win=!0,cc.RedT.setting.caothap.card=e.card,cc.RedT.setting.caothap.a=e.a,cc.RedT.setting.caothap.bet=e.bet,cc.RedT.setting.caothap.click=e.click,cc.RedT.setting.caothap.winUp=e.winUp,cc.RedT.setting.caothap.winDown=e.winDown,Promise.all(this.listA.map(function(e,t){void 0!==cc.RedT.setting.caothap.a[t]?e.node.active=!0:e.node.active=!1})),setTimeout(function(){this.reels.card[this.reels.card.length-1].spriteFrame=cc.RedT.util.card.getCard(cc.RedT.setting.caothap.card.card,cc.RedT.setting.caothap.card.type)}.bind(this),10),this.playTime(),this.win.string=i.numberWithCommas(e.bet),this.winUp.string=e.winUp>0?i.numberWithCommas(e.winUp):"",this.winDown.string=e.winDown>0?i.numberWithCommas(e.winDown):"",this.clickInGame()},resumeGame:function(){if(this.win.string=i.numberWithCommas(cc.RedT.setting.caothap.bet),this.winUp.string=cc.RedT.setting.caothap.winUp>0?i.numberWithCommas(cc.RedT.setting.caothap.winUp):"",this.winDown.string=cc.RedT.setting.caothap.winDown>0?i.numberWithCommas(cc.RedT.setting.caothap.winDown):"",this.clickInGame(),Promise.all(this.listA.map(function(e,t){void 0!==cc.RedT.setting.caothap.a[t]?e.active=!0:e.active=!1})),cc.RedT.setting.caothap.win){if(this.nohu){var e=cc.instantiate(this.PrefabNoHu),t=(e=e.getComponent(cc.Animation)).node.children[6].getComponent(cc.Label);this.nodeEfect.addChild(e.node),e.on("play",function(){var n=cc.callFunc(function(){cc.RedT.audio.playEf("winHu"),i.numberTo(t,0,this.nohu,1e3,!0)},this);e.node.runAction(cc.sequence(cc.delayTime(.25),n))},this),e.on("finished",function(){this.nohu=!1,this.offPlay(),e.node.destroy(),cc.RedT.setting.caothap.win=0},this),e.play()}}else{this.offPlay();var n=i.getLang(cc.RedT.language,"high_low_end");this.addNotice(n)}},addMainLog:function(){var e=cc.instantiate(this.cardf);e.width=32.77,e.height=46.69,this.logs.addChild(e),(e=e.getComponent(cc.Sprite)).spriteFrame=cc.RedT.util.card.getCard(cc.RedT.setting.caothap.card.card,cc.RedT.setting.caothap.card.type)},reMainLog:function(){var e=this;Promise.all(cc.RedT.setting.caothap.logs.map(function(t){var i=cc.instantiate(e.cardf);i.width=32.77,i.height=46.69,e.logs.addChild(i),(i=i.getComponent(cc.Sprite)).spriteFrame=cc.RedT.util.card.getCard(t.card,t.type)}))},annon:function(e){var t={red:parseInt(cc.RedT.user.red)};t.red+=e,cc.RedT.MainGame.dataUser(t),clearInterval(this.timeInterval);var n=new cc.Node;n.addComponent(cc.Label),(n=n.getComponent(cc.Label)).string="+"+i.numberWithCommas(e),n.font=(this.red,cc.RedT.util.fontEffect),n.lineHeight=130,n.fontSize=60,n.node.position=cc.v2(0,10),this.notice.addChild(n.node),n.node.runAction(cc.sequence(cc.moveTo(3.5,cc.v2(0,125)),cc.callFunc(function(){this.node.destroy()},n)))},clickInGame:function(){this.eAnNon(cc.RedT.setting.caothap.click.isAnNon),this.eCaoChanger(cc.RedT.setting.caothap.click.up),this.eThapChanger(cc.RedT.setting.caothap.click.down)},eAnNon:function(e){e?(this.buttonAnNon.resumeSystemEvents(),this.buttonAnNon.color=cc.Color.WHITE,this.txtAnNon.color=cc.Color.WHITE):(this.buttonAnNon.color=cc.color(155,155,155),this.buttonAnNon.pauseSystemEvents())},eCaoChanger:function(e){e?(this.buttonCao.color=cc.Color.WHITE,this.buttonCao.resumeSystemEvents()):(this.buttonCao.color=cc.color(155,155,155),this.buttonCao.pauseSystemEvents())},eThapChanger:function(e){e?(this.buttonThap.color=cc.Color.WHITE,this.buttonThap.resumeSystemEvents()):(this.buttonThap.color=cc.color(155,155,155),this.buttonThap.pauseSystemEvents())},reSetPhien:function(){this.logs.removeAllChildren(),cc.RedT.setting.caothap.logs=[]},newGame:function(){this.offPlay(),this.reels.stop(),cc.RedT.setting.caothap.connect=!1,this.reSetPhien()},onGetHu:function(){var e=this;if(void 0!==cc.RedT.setting.topHu&&void 0!==cc.RedT.setting.topHu.data&&this.node.active){var t=this;Promise.all(cc.RedT.setting.topHu.data.caothap.filter(function(e){return e.type==t.cuoc&&e.red==t.red})).then(function(t){var n=i.getOnlyNumberInString(e.hu.string),a=t[0].bet;n-a!=0&&i.numberTo(e.hu,n,a,2e3,!0)})}}}),cc._RF.pop()},{CaoThap_reels:"CaoThap_reels",Helper:"Helper",UIPopupManager:"UIPopupManager"}],Card:[function(e,t){"use strict";cc._RF.push(t,"550c9nAtbJCb6ippMUD/2+b","Card"),cc.Class({extends:cc.Component,properties:{card1:{default:[],type:cc.SpriteFrame},card2:{default:[],type:cc.SpriteFrame},card3:{default:[],type:cc.SpriteFrame},card4:{default:[],type:cc.SpriteFrame},card5:{default:[],type:cc.SpriteFrame},card6:{default:[],type:cc.SpriteFrame},card7:{default:[],type:cc.SpriteFrame},card8:{default:[],type:cc.SpriteFrame},card9:{default:[],type:cc.SpriteFrame},card10:{default:[],type:cc.SpriteFrame},card11:{default:[],type:cc.SpriteFrame},card12:{default:[],type:cc.SpriteFrame},card13:{default:[],type:cc.SpriteFrame},cardB1:{default:null,type:cc.SpriteFrame},cardB2:{default:null,type:cc.SpriteFrame},red:!1},init:function(){var e=this,t=this;this.card=[[],[],[],[],[],[],[],[],[],[],[],[],[]],Promise.all(this.card.map(function(e,i){return 0===i?t.card1:1===i?t.card2:2===i?t.card3:3===i?t.card4:4===i?t.card5:5===i?t.card6:6===i?t.card7:7===i?t.card8:8===i?t.card9:9===i?t.card10:10===i?t.card11:11===i?t.card12:12===i?t.card13:void 0})).then(function(t){e.card=t})},config:function(){void 0===cc.RedT.util.card&&(cc.RedT.util.card=this,this.red||(this.red=!0,this.init()))},getCardByName:function(e){var t,i,n=e.charAt(0),a=e.charAt(1);return t="A"==n?0:parseInt(n)-1,i="D"==a?0:"H"==a?1:"S"==a?2:3,this.getCard(t,i)},getCard:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=0),this.card[e][t]},random:function(e){return void 0===e&&(e=13),this.card[~~(Math.random()*e)][~~(4*Math.random())]}}),cc._RF.pop()},{}],CheckOut:[function(e,t){"use strict";cc._RF.push(t,"3988dLBD7VPLowq6ozkuvOs","CheckOut"),cc.Class({extends:cc.Sprite,properties:{nut:{default:null,type:cc.Sprite},NutOn:{default:null,type:cc.SpriteFrame},NutOff:{default:null,type:cc.SpriteFrame},BgOn:{default:null,type:cc.SpriteFrame},BgOff:{default:null,type:cc.SpriteFrame},isChecked:!1},start:function(){var e=this;this.actionOn=cc.sequence(cc.moveTo(.1,cc.v2(41,0)),cc.callFunc(function(){e.spriteFrame=e.BgOn,e.nut.spriteFrame=e.NutOn})),this.actionOff=cc.sequence(cc.moveTo(.1,cc.v2(-41,0)),cc.callFunc(function(){e.spriteFrame=e.BgOff,e.nut.spriteFrame=e.NutOff})),this.OnUpdate()},OnChangerClick:function(){this.isChecked=!this.isChecked,this.OnUpdate()},OnUpdate:function(){this.isChecked?(this.nut.node.stopAllActions(),this.actionOn&&this.nut.node.runAction(this.actionOn)):(this.nut.node.stopAllActions(),this.actionOff&&this.nut.node.runAction(this.actionOff))}}),cc._RF.pop()},{}],ChooseAvatarPopup:[function(e,t){"use strict";cc._RF.push(t,"26ed6Tdy/FCMJEuatGrKTYR","ChooseAvatarPopup");var i=e("../../../../ResourceManager");cc.Class({extends:cc.Component,properties:{content:cc.Node,prefab:cc.Node},show:function(e){this.profile=e,this.node.active=!0;for(var t=this.content.children.length-1;t>=0;t--)this.content.children[t].destroy();var n=[];for(t=0;t<i.Instance.avatars.length;t++)for(var a=0;a<i.Instance.avatars.length;a++)if(i.Instance.avatars[a].name=="AVT-"+t){n.push(i.Instance.avatars[a]);break}for(var t in n){var o=cc.instantiate(this.prefab);o.parent=this.content,o.getComponent(cc.Button).clickEvents[0].customEventData=t,o.children[0].children[0].getComponent(cc.Sprite).spriteFrame=n[t],o.y=0}},avatar_click:function(e,t){var n=i.Instance.avatars[t];null!=n&&(this.profile.avatarImg.spriteFrame=n),this.node.active=!1,cc.RedT.send({user:{updateAvatar:t}})},hidePopup:function(){this.node.active=!1}}),cc._RF.pop()},{"../../../../ResourceManager":"ResourceManager"}],ChoseLanguage:[function(e,t){"use strict";cc._RF.push(t,"a7f94iuXIRAf4AlZpRVGZbB","ChoseLanguage"),e("BrowserUtil"),e("GameConfig"),e("Helper"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},onEnable:function(){},onDisable:function(){}}),cc._RF.pop()},{BrowserUtil:"BrowserUtil",GameConfig:"GameConfig",Helper:"Helper"}],ChuyenRed_daily:[function(e,t){"use strict";cc._RF.push(t,"c1af2XufuNBepY7+fdeCQxa","ChuyenRed_daily"),cc.Class({extends:cc.Component,properties:{bg:{default:null,type:cc.Node},STT:{default:null,type:cc.Label},DaiLy:{default:null,type:cc.Label},NICKNAME:{default:null,type:cc.Label},Phone:{default:null,type:cc.Label},FB:""},init:function(e,t,i){this.controll=e,this.STT.string=i+1,this.DaiLy.string=t.name,this.NICKNAME.string=t.nickname,this.Phone.string=t.phone,this.FB="https://facebook.com/"+t.fb},onChuyenClick:function(){cc.RedT.audio.playClick(),this.controll.selectDaiLy(this)},onFBClick:function(){window.open(this.FB,"_blank")}}),cc._RF.pop()},{}],ChuyenRed:[function(e,t){"use strict";cc._RF.push(t,"45856xdHLFHNqyaZPpjF/pA","ChuyenRed");var i=e("BrowserUtil"),n=e("Helper");cc.Class({extends:cc.Component,properties:{header:{default:null,type:cc.Node},body:{default:null,type:cc.Node},nickname:{default:null,type:cc.EditBox},renickname:{default:null,type:cc.EditBox},red:{default:null,type:cc.EditBox},messenger:{default:null,type:cc.EditBox},otp:{default:null,type:cc.EditBox},rednhan:{default:null,type:cc.Label},scrollview:{default:null,type:cc.ScrollView},prefabDaiLy:{default:null,type:cc.Prefab},typeOTP:""},init:function(){var e=this;this.isdaily=!1,this.meDaily=!1,this.daily_list=[];var t=this;this.isLoaded=!1,this.editboxs=[this.nickname,this.renickname,this.red,this.messenger,this.otp],this.keyHandle=function(e){return e.keyCode===cc.macro.KEY.tab?(t.isTop()&&t.changeNextFocusEditBox(),e.preventDefault&&e.preventDefault(),!1):e.keyCode===cc.macro.KEY.enter?(i.focusGame(),t.onChuyenClick(),e.preventDefault&&e.preventDefault(),!1):void 0},Promise.all(this.header.children.map(function(e){return e.getComponent("itemContentMenu")})).then(function(t){e.header=t})},onEnable:function(){this.reCheckMeDL(),cc.sys.isBrowser&&this.addEvent(),this.isLoaded||(cc.RedT.send({shop:{get_daily:!0}}),cc.RedT.send({shop:{transfer_user_user:{menhgia:!0}}}),cc.RedT.send({shop:{transfer_user_agency:{menhgia:!0}}}))},onDisable:function(){cc.sys.isBrowser&&this.removeEvent(),this.clean()},addEvent:function(){for(var e in cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),this.editboxs)i.getHTMLElementByEditBox(this.editboxs[e]).addEventListener("keydown",this.keyHandle,!1)},removeEvent:function(){for(var e in this.editboxs)i.getHTMLElementByEditBox(this.editboxs[e]).removeEventListener("keydown",this.keyHandle,!1);cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},onKeyDown:function(e){switch(e.keyCode){case cc.macro.KEY.tab:this.isTop()&&this.changeNextFocusEditBox();break;case cc.macro.KEY.enter:this.isTop()&&this.onChuyenClick()}},changeNextFocusEditBox:function(){for(var e=!1,t=0,n=this.editboxs.length;t<n;t++)if(i.checkEditBoxFocus(this.editboxs[t])){i.focusEditBox(this.editboxs[t]),e=!0;break}!e&&0<this.editboxs.length&&i.focusEditBox(this.editboxs[0])},isTop:function(){return!cc.RedT.inGame.notice.node.active&&!cc.RedT.inGame.loading.active},clean:function(){this.nickname.string=this.renickname.string=this.red.string=this.messenger.string=this.rednhan.string="",Promise.all(this.daily_list.map(function(e){e.bg.active=!1}))},onChuyenClick:function(){var e=null;if(n.isEmpty(this.nickname.string)||n.isEmpty(this.renickname.string)||n.isEmpty(this.red.string)?e="Vui l\xf2ng ki\u1ec3m tra l\u1ea1i th\xf4ng tin":n.isEmpty(this.nickname.string)||n.isEmpty(this.renickname.string)?e="T\xean ng\u01b0\u1eddi d\xf9ng kh\xf4ng \u0111\u1ec3 tr\u1ed1ng":this.nickname.string!=this.renickname.string?e="t\xean ng\u01b0\u1eddi d\xf9ng kh\xf4ng \u0111\xfang":n.getOnlyNumberInString(this.red.string)<1e4?e="S\u1ed1 ti\u1ec1n chuy\u1ec3n t\u1ed1i thi\u1ec3u l\xe0 10.000 $.":n.isEmpty(this.otp.string)&&(e="Vui l\xf2ng nh\u1eadp m\xe3 OTP."),e)cc.RedT.inGame.notice.show({title:"TRANSFER $",text:e});else{var t={name:this.nickname.string,red:n.getOnlyNumberInString(this.red.string),otp:this.otp.string};n.isEmpty(this.messenger.string.trim())||(t=Object.assign(t,{message:this.messenger.string})),cc.RedT.send({shop:{chuyen_red:t}})}},onSelectHead:function(e,t){Promise.all(this.header.map(function(e){e.node.name==t?e.select():e.unselect()})),Promise.all(this.body.children.map(function(e){e.name==t?e.active=!0:e.active=!1}))},onDaiLy:function(e){var t=this;if(this.tigia=e.tigia,this.daily=e.daily,e.daily.length){var i=this;i.scrollview.content.removeAllChildren(),this.clean();var n=new RegExp("^"+cc.RedT.user.name+"$","i");Promise.all(e.daily.map(function(e,t){!i.meDaily&&(i.meDaily=n.test(e.nickname));var a=cc.instantiate(i.prefabDaiLy),o=a.getComponent("ChuyenRed_daily");return o.init(i,e,t),i.scrollview.content.addChild(a),o})).then(function(e){t.daily_list=e})}},reCheckMeDL:function(){if(this.meDaily=!1,this.daily_list.length){var e=this,t=new RegExp("^"+cc.RedT.user.name+"$","i");Promise.all(this.daily_list.map(function(i){!e.meDaily&&(e.meDaily=t.test(i.NICKNAME.string))}))}},onData:function(e){void 0===e.daily||this.isLoaded||(this.isLoaded=!0,this.onDaiLy(e.daily))},selectDaiLy:function(e){var t=this;Promise.all(this.daily_list.map(function(i){i==e?(t.isdaily=!0,i.bg.active=!0,t.nickname.string=t.renickname.string=i.NICKNAME.string,t.onChangerRed(0,!0)):i.bg.active=!1}))},onChangerNick:function(e){if(this.isdaily=!1,this.daily_list.length>0){var t=this;Promise.all(this.daily_list.map(function(i){new RegExp("^"+e+"$","i").test(i.NICKNAME.string)?(t.isdaily=!0,i.bg.active=!0):i.bg.active=!1}))}this.onChangerRed(0,!0)},onChangerRed:function(e,t){if(void 0===e&&(e=0),void 0===t&&(t=!1),e=t?this.red.string:e,e=n.numberWithCommas(n.getOnlyNumberInString(e)),this.red.string=0==e?"":e,this.meDaily)this.rednhan.string=e;else if(this.isdaily){var i=parseInt(n.getOnlyNumberInString(e)),a=this.tigia.filter(function(e){return"userdaily"==e.name})[0];this.rednhan.string=n.numberWithCommas(i+parseInt(i*(a.values/100)))}else{var o=parseInt(n.getOnlyNumberInString(e));a=this.tigia.filter(function(e){return 4==e.type})[0],this.rednhan.string=n.numberWithCommas(o+parseInt(o*(a.values/100)))}},onClickOTP:function(){cc.RedT.send({otp:{type:this.typeOTP}})},changerTypeOTP:function(e){this.typeOTP=e.node.name}}),cc._RF.pop()},{BrowserUtil:"BrowserUtil",Helper:"Helper"}],Coin:[function(e,t){"use strict";cc._RF.push(t,"4fd61/MqrlEzrnJgaqkjjQt","Coin"),cc.Class({extends:cc.Component,properties:{header:cc.Node,nap:cc.Node,rut:cc.Node,napHeadNode:cc.Node},init:function(){var e=this;6==cc.RedT.user.showall||8==cc.RedT.user.showall?this.napHeadNode.active=!1:this.napHeadNode.active=!0,this.nap=this.nap.getComponent("coinNap"),this.rut=this.rut.getComponent("coinRut"),this.rut.init(),this.body=[this.nap,this.rut],Promise.all(this.header.children.map(function(e){return e.getComponent("itemContentMenu")})).then(function(t){e.header=t})},onEnable:function(){this.isLoad||(cc.RedT.send({wallets:!0}),this.isLoad=!0),6==cc.RedT.user.showall||8==cc.RedT.user.showall?this.napHeadNode.active=!1:this.napHeadNode.active=!0},onSelectHead:function(e,t){Promise.all(this.header.map(function(e){e.node.name==t?e.select():e.unselect()})),Promise.all(this.body.map(function(e){e.node.name==t?e.node.active=!0:e.node.active=!1}))},onData:function(e){void 0!==e.info_wallet.payin&&this.nap.onData(e.info_wallet),void 0!==e.info_wallet.payout&&this.rut.onData(e.info_wallet)}}),cc._RF.pop()},{}],DEvent:[function(e,t){"use strict";cc._RF.push(t,"84193OGZrdD/YtGX/ttIqDX","DEvent");var i=e("EventTaiXiu"),n=e("EventAngrybird"),a=e("EventBigBabol"),o=e("EventMiniPoker"),s=e("Admob"),c=e("UIPopupManager");cc.Class({extends:cc.Component,properties:{menu:cc.Node,content:cc.Node,eventAngrybird:n,eventBigBabol:a,eventMiniPoker:o,eventTaiXiu:i,contentConnect:cc.Node,contentGoldH:cc.Node,blockbgEventWatch:cc.Node,Progress:cc.Sprite,time:cc.Label},onEnable:function(){this.intervalCountDown&&(clearInterval(this.intervalCountDown),this.intervalCountDown=null),this.check5minsWatchEvent()?(this.Progress.fillRange=0,this.time.node.active=!1):this.startCountDown()},onDisable:function(){this.hideCountDown()},hideCountDown:function(){this.intervalCountDown&&(clearInterval(this.intervalCountDown),this.intervalCountDown=null,this.time.node.active=!1)},startCountDown:function(){this.Progress.fillRange=1,this.time.node.active=!0;var e=JSON.parse(localStorage.getItem("timeEventWatch")),t=0;if(e)for(var i=0;i<e.length;i++)if(e[i].username==cc.RedT.user.name){t=e[i].time;break}var n=(t+3e5-Date.now())/1e3;void 0!==this.timeInterval&&clearInterval(this.timeInterval),this.intervalCountDown=setInterval(function(){this.time.string=this.secondsToHms(n),(n-=1)<=0&&(this.Progress.fillRange=0,this.hideCountDown())}.bind(this),1e3)},selectEvent:function(e){Promise.all(this.menu.children.map(function(t){t.name==e.target.name?t.children[0].active=!0:t.children[0].active=!1})),Promise.all(this.content.children.map(function(t){t.name==e.target.name?t.active=!0:t.active=!1}))},onData:function(e){e.taixiu&&this.eventTaiXiu.onData(e.taixiu)},onHU:function(e){this.eventMiniPoker.onData(e.mini_poker),this.eventAngrybird.onData(e.arb),this.eventBigBabol.onData(e.big_babol)},onClickEventContent:function(){this.contentConnect.active=!this.contentConnect.active},onClickEventGoldH:function(){this.contentGoldH.active=!this.contentGoldH.active},onClickEventWatchVideo:function(){if(this.check5minsWatchEvent()){c.Instance.coinsEventWatch();var e=(new Date).getTime(),t=JSON.parse(localStorage.getItem("timeEventWatch"));if(null!=t){for(var i=0,n=0;n<t.length;n++)if(t[n].username==cc.RedT.user.name){t[n].time=e,i=1;break}1==i?cc.sys.localStorage.setItem("timeEventWatch",JSON.stringify(t)):(t.push({username:cc.RedT.user.name,time:e}),cc.sys.localStorage.setItem("timeEventWatch",JSON.stringify(t)))}else t=[{username:cc.RedT.user.name,time:e}],cc.sys.localStorage.setItem("timeEventWatch",JSON.stringify(t));s.Instance.showRewarded(),this.startCountDown()}},check5minsWatchEvent:function(){var e=(new Date).getTime(),t=JSON.parse(localStorage.getItem("timeEventWatch")),i=null;if(null!=t&&"null"!==t)for(var n=0;n<t.length;n++)t[n].username==cc.RedT.user.name&&(i=t[n].time);return!i||e-(i=parseInt(i))>3e5},secondsToHms:function(e){e=Number(e);var t=Math.floor(e/3600),i=Math.floor(e%3600/60),n=Math.floor(e%3600%60);return(t>0?t+":":"")+(i>0?i+":":"0:")+(n>0?n+"":"0")}}),cc._RF.pop()},{Admob:"Admob",EventAngrybird:"EventAngrybird",EventBigBabol:"EventBigBabol",EventMiniPoker:"EventMiniPoker",EventTaiXiu:"EventTaiXiu",UIPopupManager:"UIPopupManager"}],DangKyOTP:[function(e,t){"use strict";cc._RF.push(t,"6aa41Wg701MCq0Vmi5zwJ+1","DangKyOTP");var i=e("BrowserUtil"),n=e("Helper");cc.Class({extends:cc.Component,properties:{dropDownNode:cc.Node,phone:{default:null,type:cc.EditBox},otp:{default:null,type:cc.EditBox},nodeReg:cc.Node,nodeInfo:cc.Node,labelPhone:cc.Label},onLoad:function(){var e=this;this.dropDown=this.dropDownNode.getComponent("DropDown"),this.addDropDownPhone(),this.editboxs=[this.phone,this.otp],this.keyHandle=function(t){return t.keyCode===cc.macro.KEY.tab?(e.changeNextFocusEditBox(),t.preventDefault&&t.preventDefault(),!1):t.keyCode===cc.macro.KEY.enter?(i.focusGame(),e.onRegClick(),t.preventDefault&&t.preventDefault(),!1):void 0},""!=cc.RedT.user.phone&&(this.labelPhone.string=cc.RedT.user.phone)},addDropDownPhone:function(){var e=[];e.push("Austria(+43)"),e.push("Australia(+61)"),e.push("Cambodia(+855)"),e.push("China(+86)"),e.push("Denmark(+45)"),e.push("Germany(+49)"),e.push("France(+33)"),e.push("Indonesia(+62)"),e.push("Japan(+81)"),e.push("Italy(+39)"),e.push("Lao(+856)"),e.push("Malaysia(+60)"),e.push("Mayanmar(+95)"),e.push("Netherland(+31)"),e.push("Russland(+7)"),e.push("Singapore(+65)"),e.push("Spain(+34)"),e.push("Sweden(+46)"),e.push("Swisszerland(+41)"),e.push("Taiwan(+886)"),e.push("Thailand(+66)"),e.push("UK(+44)"),e.push("USA(+1)"),e.push("Vietnam(+84)"),this.dataPhoneIndex=[43,61,855,86,45,49,33,62,81,39,856,60,95,31,7,65,34,46,41,886,66,44,1,84];for(var t=new Array,i=0;i<e.length;i++)t.push({optionString:e[i]});this.dropDown.clearOptionDatas(),this.dropDown.addOptionDatas(t),this.dropDown.selectedIndex=22},onEnable:function(){this.statusOTP(!1)},onDisable:function(){this.clear()},addEvent:function(){for(var e in cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),this.editboxs)this.editboxs[e]&&i.getHTMLElementByEditBox(this.editboxs[e]).addEventListener("keydown",this.keyHandle,!1)},removeEvent:function(){for(var e in cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),this.editboxs)this.editboxs[e]&&i.getHTMLElementByEditBox(this.editboxs[e]).removeEventListener("keydown",this.keyHandle,!1)},onKeyDown:function(e){switch(e.keyCode){case cc.macro.KEY.tab:this.isTop()&&this.changeNextFocusEditBox();break;case cc.macro.KEY.enter:this.isTop()&&this.onRegClick()}},changeNextFocusEditBox:function(){for(var e=!1,t=0,n=this.editboxs.length;t<n;t++)if(i.checkEditBoxFocus(this.editboxs[t])){i.focusEditBox(this.editboxs[t]),e=!0;break}!e&&0<this.editboxs.length&&i.focusEditBox(this.editboxs[0])},isTop:function(){return!cc.RedT.inGame.notice.node.active&&!cc.RedT.inGame.loading.active},onOTPClick:function(){n.checkPhoneValid(this.dataPhoneIndex[this.dropDown.selectedIndex]+this.phone.string)?cc.RedT.send({user:{security:{sendOTP:this.dataPhoneIndex[this.dropDown.selectedIndex]+this.phone.string}}}):cc.RedT.inGame.notice.show({title:cc.RedT.Frontendlanguages[cc.RedT.language].error,text:cc.RedT.Frontendlanguages[cc.RedT.language].invalid})},onRegClick:function(){!n.checkPhoneValid(this.dataPhoneIndex[this.dropDown.selectedIndex]+this.phone.string)||n.isEmpty(this.otp.string)||4!=this.otp.string.length?cc.RedT.inGame.notice.show({title:cc.RedT.Frontendlanguages[cc.RedT.language].error,text:cc.RedT.Frontendlanguages[cc.RedT.language].incorrect}):cc.RedT.send({user:{security:{regOTP:{phone:this.dataPhoneIndex[this.dropDown.selectedIndex]+this.phone.string,otp:this.otp.string}}}})},clear:function(){var e=JSON.parse(cc.sys.localStorage.getItem("infoRed8"));e?e.phone&&this.resetLabelAll():this.resetLabelAll()},resetLabelAll:function(){this.phone&&(this.phone.string=""),this.otp&&(this.otp.string="")},statusOTP:function(e){e=""!=cc.RedT.user.phone,this.nodeReg.active=!e,this.nodeInfo.active=e}}),cc._RF.pop()},{BrowserUtil:"BrowserUtil",Helper:"Helper"}],Dialog:[function(e,t){"use strict";cc._RF.push(t,"25e93DvojpK6Idfq683yfCg","Dialog");var i=e("SignIn"),n=e("SignUp"),a=e("ForGotPass"),o=e("SignName"),s=e("Shop"),c=e("Profile"),r=e("Settings"),l=e("PokerNap"),h=e("iMessage"),d=e("DEvent"),u=e("Friend"),p=e("TopRank");cc.Class({extends:cc.Component,properties:{signIn:i,signUp:n,ForGotPass:a,signName:o,shop:s,profile:c,support:cc.Node,settings:r,PokerNap:l,iMessage:h,mini_btn:cc.Node,doimatkhau:cc.Node,dangkiotp:cc.Node,DEvent:d,friend:u,TopRank:p},init:function(){this.actionShow=cc.spawn(cc.scaleTo(.5,1).easing(cc.easeBackOut(2.5)),cc.fadeTo(.5,255)),this.objShow=null,this.objTmp=null,1==cc.RedT.IS_LOGIN&&(this.shop.init(),this.profile.init())},onClickBack:function(){cc.RedT.audio.playUnClick(),this.onBack(),cc.RedT.IS_LOGIN?this.mini_btn.active=!0:this.mini_btn.active=!1},onBackProfile:function(){cc.RedT.audio.playUnClick(),this.doimatkhau.active=!1,this.dangkiotp.active=!1,this.profile.node.active=!0,this.objShow=this.profile.node},onBack:function(){null!=this.objShow?null==this.objShow.previous||null==this.objShow.previous?(this.objShow.active=!1,this.node.active=!1,this.objShow=null):(this.objTmp=this.objShow,this.objShow=this.objShow.previous,this.objTmp.previous=null,this.objTmp.active=!1,this.objShow.active=!0,this.objTmp=null):this.node.active=!1},onClosePrevious:function(e){void 0!==e.previous&&null!==e.previous&&(this.onClosePrevious(e.previous),delete e.previous),e.active=!1},onCloseDialog:function(){null!=this.objShow?null==this.objShow.previous||null==this.objShow.previous?(this.objShow.active=this.node.active=!1,this.objShow=null):(this.onClosePrevious(this.objShow.previous),this.objShow.active=this.node.active=!1,delete this.objShow.previous,this.objShow=null):this.node.active=!1},resetSizeDialog:function(e){e.stopAllActions(),e.scale=.5,e.opacity=0},showSignIn:function(){this.node.active=this.signIn.node.active=!0,this.objShow=this.signIn.node},showSignInOfSignIn:function(){this.onBack(),this.node.active=this.signIn.node.active=!0,this.objShow=this.signIn.node},showSignUp:function(){this.node.active=this.signUp.node.active=!0,this.objShow=this.signUp.node},showSignUpOfSignIn:function(){this.onBack(),this.node.active=this.signUp.node.active=!0,this.objShow=this.signUp.node},showForGotPass:function(){this.objShow&&(this.objShow.active=!1),this.ForGotPass.node.previous=this.objShow,this.node.active=this.ForGotPass.node.active=!0,this.objShow=this.ForGotPass.node},showSignName:function(){this.node.active=this.signName.node.active=!0,this.signUp.node.active=this.signIn.node.active=!1,this.objShow=this.signName.node},showShop:function(e,t){cc.RedT.IS_LOGIN?(this.node.active=this.DEvent.node.active=!1,this.node.active=this.shop.node.active=!0,this.objShow=this.shop.node,this.mini_btn.active=!1,0==cc.RedT.user.showall||7==cc.RedT.user.showall||8==cc.RedT.user.showall||9==cc.RedT.user.showall?this.shop.superView("IAP"):5==cc.RedT.user.showall||6==cc.RedT.user.showall?this.shop.superView("C"):this.shop.superView(t)):this.showSignIn()},showProfile:function(e,t){this.node.active=this.profile.node.active=!0,this.objShow=this.profile.node,this.profile.superView(t),this.mini_btn.active=!1},showSetting:function(){cc.RedT.IS_LOGIN?(this.node.active=this.settings.node.active=!0,this.objShow=this.settings.node,this.objShow.getComponent("Settings").init(),this.mini_btn.active=!1):this.showSignIn()},showDEvent:function(){this.node.active=this.DEvent.node.active=!0,this.objShow=this.DEvent.node,this.mini_btn.active=!1},showPokerNap:function(e){this.node.active=this.PokerNap.node.active=!0,this.objShow=this.PokerNap.node,this.PokerNap.init(e),this.mini_btn.active=!1},showiMessage:function(){cc.RedT.IS_LOGIN?(this.node.active=this.iMessage.node.active=!0,this.objShow=this.iMessage.node,this.mini_btn.active=!1):this.showSignIn()},showSupport:function(){this.node.active=this.support.active=!0,this.objShow=this.support},showDoiMatKhau:function(){this.node.active=this.doimatkhau.active=!0,this.objShow=this.doimatkhau},showDangKyOtp:function(){this.node.active=this.dangkiotp.active=!0,this.objShow=this.dangkiotp},showFriendList:function(){this.node.active=this.friend.node.active=!0,this.objShow=this.friend.node,this.friend.getdata()},showTopRank:function(){this.node.active=this.TopRank.node.active=!0,this.objShow=this.TopRank.node,this.TopRank.getdata20()}}),cc._RF.pop()},{DEvent:"DEvent",ForGotPass:"ForGotPass",Friend:"Friend",PokerNap:"PokerNap",Profile:"Profile",Settings:"Settings",Shop:"Shop",SignIn:"SignIn",SignName:"SignName",SignUp:"SignUp",TopRank:"TopRank",iMessage:"iMessage"}],DisableClick:[function(e,t){"use strict";cc._RF.push(t,"a0680bUBBRNNZFsRV8g5DR/","DisableClick"),cc.Class({extends:cc.Component,onEnable:function(){this.node.on("touchstart",function(e){e.stopPropagation()}),this.node.on("touchend",function(e){e.stopPropagation()})},onDisable:function(){this.node.off("touchstart",function(e){e.stopPropagation()}),this.node.off("touchend",function(e){e.stopPropagation()})}}),cc._RF.pop()},{}],DoiMatKhau:[function(e,t){"use strict";cc._RF.push(t,"99ffdd9WihFhpmOaK8H6Qen","DoiMatKhau");var i=e("BrowserUtil");e("Helper"),cc.Class({extends:cc.Component,properties:{OldPassword:{default:null,type:cc.EditBox},NewPassword:{default:null,type:cc.EditBox},ReNewPassword:{default:null,type:cc.EditBox}},onLoad:function(){var e=this;this.editboxs=[this.OldPassword,this.NewPassword,this.ReNewPassword],this.keyHandle=function(t){return t.keyCode===cc.macro.KEY.tab?(e.changeNextFocusEditBox(),t.preventDefault&&t.preventDefault(),!1):t.keyCode===cc.macro.KEY.enter?(i.focusGame(),e.onChangerClick(),t.preventDefault&&t.preventDefault(),!1):void 0}},onEnable:function(){cc.sys.isBrowser&&this.addEvent()},onDisable:function(){cc.sys.isBrowser&&this.removeEvent(),this.clear()},addEvent:function(){for(var e in cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),this.editboxs)i.getHTMLElementByEditBox(this.editboxs[e]).addEventListener("keydown",this.keyHandle,!1)},removeEvent:function(){for(var e in cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),this.editboxs)i.getHTMLElementByEditBox(this.editboxs[e]).removeEventListener("keydown",this.keyHandle,!1)},onKeyDown:function(e){switch(e.keyCode){case cc.macro.KEY.tab:this.isTop()&&this.changeNextFocusEditBox();break;case cc.macro.KEY.enter:this.isTop()&&this.onChangerClick()}},changeNextFocusEditBox:function(){for(var e=!1,t=0,n=this.editboxs.length;t<n;t++)if(i.checkEditBoxFocus(this.editboxs[t])){i.focusEditBox(this.editboxs[t]),e=!0;break}!e&&0<this.editboxs.length&&i.focusEditBox(this.editboxs[0])},isTop:function(){return!cc.RedT.inGame.notice.node.active&&!cc.RedT.inGame.loading.active},onChangerClick:function(){this.OldPassword.string.length<6||this.OldPassword.string.length>32||this.NewPassword.string.length<6||this.NewPassword.string.length>32||this.ReNewPassword.string.length<6||this.ReNewPassword.string.length>32?cc.RedT.inGame.notice.show({title:cc.RedT.Frontendlanguages[cc.RedT.language].error,text:cc.RedT.Frontendlanguages[cc.RedT.language].err_pass_leng}):this.OldPassword.string==this.NewPassword.string?cc.RedT.inGame.notice.show({title:cc.RedT.Frontendlanguages[cc.RedT.language].error,text:cc.RedT.Frontendlanguages[cc.RedT.language].err_pass_match_old}):this.NewPassword.string!=this.ReNewPassword.string?cc.RedT.inGame.notice.show({title:cc.RedT.Frontendlanguages[cc.RedT.language].error,text:cc.RedT.Frontendlanguages[cc.RedT.language].err_pass_match_new}):(cc.RedT.inGame.loading.active=!0,cc.RedT.send({user:{doi_pass:{passOld:this.OldPassword.string,passNew:this.NewPassword.string,passNew2:this.ReNewPassword.string}}}))},clear:function(){this.OldPassword.string=this.NewPassword.string=this.ReNewPassword.string=""}}),cc._RF.pop()},{BrowserUtil:"BrowserUtil",Helper:"Helper"}],DropDownItem:[function(e,t,i){"use strict";cc._RF.push(t,"0e0c1OzYPVOfpEPKQp433tu","DropDownItem"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,a=n.ccclass,o=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=void 0,t.sprite=void 0,t.toggle=void 0,t}return __extends(t,e),__decorate([o(cc.Label)],t.prototype,"label",void 0),__decorate([o(cc.Sprite)],t.prototype,"sprite",void 0),__decorate([o(cc.Toggle)],t.prototype,"toggle",void 0),__decorate([a()],t)}(cc.Component);i.default=s,cc._RF.pop()},{}],DropDownOptionData:[function(e,t,i){"use strict";cc._RF.push(t,"fd5cfBXVIZC4Ks6evy9ygnF","DropDownOptionData"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,a=n.ccclass,o=n.property,s=function(){function e(){this.optionString="",this.optionSf=void 0}return __decorate([o(cc.String)],e.prototype,"optionString",void 0),__decorate([o(cc.SpriteFrame)],e.prototype,"optionSf",void 0),__decorate([a("DropDownOptionData")],e)}();i.default=s,cc._RF.pop()},{}],DropDown:[function(e,t,i){"use strict";cc._RF.push(t,"4c73768DrRIEpBrhG+kF/zC","DropDown"),Object.defineProperty(i,"__esModule",{value:!0});var n=e("./DropDownOptionData"),a=e("./DropDownItem"),o=cc._decorator,s=o.ccclass,c=o.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.template=void 0,t.labelCaption=void 0,t.spriteCaption=void 0,t.labelItem=void 0,t.spriteItem=void 0,t.optionDatas=[],t.validTemplate=!1,t.items=[],t.isShow=!1,t._selectedIndex=-1,t}return __extends(t,e),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(e){this._selectedIndex=e,this.refreshShownValue()},enumerable:!1,configurable:!0}),t.prototype.addOptionDatas=function(e){var t=this;e&&e.forEach(function(e){t.optionDatas.push(e)}),this.refreshShownValue()},t.prototype.clearOptionDatas=function(){cc.js.clear(this.optionDatas),this.optionDatas=new Array,this.refreshShownValue()},t.prototype.show=function(){if(this.validTemplate||(this.setUpTemplate(),this.validTemplate)){this.isShow=!0,this._dropDown=this.createDropDownList(this.template),this._dropDown.name="DropDown List",this._dropDown.active=!0,this._dropDown.setParent(this.template.parent);var e=this._dropDown.getComponentInChildren(a.default),t=e.node.parent;e.node.active=!0,cc.js.clear(this.items);for(var i=0,n=this.optionDatas.length;i<n;i++){var o=this.optionDatas[i],s=this.addItem(o,i==this.selectedIndex,e,this.items);s&&(s.toggle.isChecked=i==this.selectedIndex,s.toggle.node.on("toggle",this.onSelectedItem,this))}e.node.active=!1,t.height=e.node.height*this.optionDatas.length}},t.prototype.addItem=function(e,t,i){var n=this.createItem(i);return n.node.setParent(i.node.parent),n.node.active=!0,n.node.name="item_"+(this.items.length+e.optionString?e.optionString:""),n.toggle&&(n.toggle.isChecked=!1),n.label&&(n.label.string=e.optionString),n.sprite&&(n.sprite.spriteFrame=e.optionSf,n.sprite.enabled=null!=e.optionSf),this.items.push(n),n},t.prototype.hide=function(){this.isShow=!1,null!=this._dropDown&&this.delayedDestroyDropdownList(.15)},t.prototype.delayedDestroyDropdownList=function(){return __awaiter(this,void 0,void 0,function(){var e,t;return __generator(this,function(){for(e=0,t=this.items.length;e<t;e++)null!=this.items[e]&&this.destroyItem(this.items[e]);return cc.js.clear(this.items),null!=this._dropDown&&this.destroyDropDownList(this._dropDown),this._dropDown=void 0,[2]})})},t.prototype.destroyItem=function(){},t.prototype.setUpTemplate=function(){if(this.validTemplate=!1,this.template){this.template.active=!0;var e=this.template.getComponentInChildren(cc.Toggle);if(this.validTemplate=!0,e&&e.node!=this.template?null==this.labelItem||this.labelItem.node.isChildOf(e.node)?null==this.spriteItem||this.spriteItem.node.isChildOf(e.node)||(this.validTemplate=!1,cc.error("The dropdown template is not valid. The Item Sprite must be on the item Node or children of it.")):(this.validTemplate=!1,cc.error("The dropdown template is not valid. The Item Label must be on the item Node or children of it.")):(this.validTemplate=!1,cc.error("The dropdown template is not valid. The template must have a child Node with a Toggle component serving as the item.")),this.validTemplate){var t=e.node.addComponent(a.default);t.label=this.labelItem,t.sprite=this.spriteItem,t.toggle=e,t.node=e.node,this.template.active=!1,this.validTemplate=!0}else this.template.active=!1}else cc.error("The dropdown template is not assigned. The template needs to be assigned and must have a child GameObject with a Toggle component serving as the item")},t.prototype.refreshShownValue=function(){if(!(this.optionDatas.length<=0)){var e=this.optionDatas[this.clamp(this.selectedIndex,0,this.optionDatas.length-1)];this.labelCaption&&(e&&e.optionString?this.labelCaption.string=e.optionString:this.labelCaption.string=""),this.spriteCaption&&(e&&e.optionSf?this.spriteCaption.spriteFrame=e.optionSf:this.spriteCaption.spriteFrame=void 0,this.spriteCaption.enabled=null!=this.spriteCaption.spriteFrame)}},t.prototype.createDropDownList=function(e){return cc.instantiate(e)},t.prototype.destroyDropDownList=function(e){e.destroy()},t.prototype.createItem=function(e){return cc.instantiate(e.node).getComponent(a.default)},t.prototype.onSelectedItem=function(e){for(var t=e.node.parent,i=0;i<t.childrenCount;i++)if(t.children[i]==e.node){this.selectedIndex=i-1;break}this.hide(),null!=this.callback&&this.callback(this.selectedIndex)},t.prototype.setCallBack=function(e){this.callback=e},t.prototype.onClick=function(){this.isShow?this.hide():this.show()},t.prototype.start=function(){this.template.active=!1,this.refreshShownValue()},t.prototype.onEnable=function(){this.node.on("touchend",this.onClick,this)},t.prototype.onDisable=function(){this.node.off("touchend",this.onClick,this)},t.prototype.clamp=function(e,t,i){return e<t?t:e>i?i:e},__decorate([c(cc.Node)],t.prototype,"template",void 0),__decorate([c(cc.Label)],t.prototype,"labelCaption",void 0),__decorate([c(cc.Sprite)],t.prototype,"spriteCaption",void 0),__decorate([c(cc.Label)],t.prototype,"labelItem",void 0),__decorate([c(cc.Sprite)],t.prototype,"spriteItem",void 0),__decorate([c([n.default])],t.prototype,"optionDatas",void 0),__decorate([s()],t)}(cc.Component);i.default=r,cc._RF.pop()},{"./DropDownItem":"DropDownItem","./DropDownOptionData":"DropDownOptionData"}],EF_NoHu:[function(e,t){"use strict";cc._RF.push(t,"69875aVuIhMXIrGxl2Od9Bs","EF_NoHu"),cc.Class({extends:cc.Component,properties:{close:cc.Node},onCloseClick:function(){this.node.active=!1}}),cc._RF.pop()},{}],EnumText:[function(e,t){"use strict";cc._RF.push(t,"67e34RpabNODJNMuodWUd7V","EnumText");var i=cc.Enum({NormalCase:1,ToUpperCase:2,ToLowerCase:3});t.exports=i,cc._RF.pop()},{}],EventAngrybird:[function(e,t){"use strict";cc._RF.push(t,"3da1fygKJVLg6AhCJ4o8/B/","EventAngrybird"),cc.Class({extends:cc.Component,properties:{text100:cc.Label,text1000:cc.Label,text10000:cc.Label},onData:function(e){var t=e.filter(function(e){return 100==e.type&&1==e.red});this.text100.string="* X"+t[0].x+" h\u0169 ph\xf2ng 100, (sau "+t[0].toX+" h\u0169, "+t[0].balans+" h\u0169 \u0111\u01b0\u1ee3c X"+t[0].x+")";var i=e.filter(function(e){return 1e3==e.type&&1==e.red});this.text1000.string="* X"+i[0].x+" h\u0169 ph\xf2ng 1.000, (sau "+i[0].toX+" h\u0169, "+i[0].balans+" h\u0169 \u0111\u01b0\u1ee3c X"+i[0].x+")";var n=e.filter(function(e){return 1e4==e.type&&1==e.red});this.text10000.string="* X"+n[0].x+" h\u0169 ph\xf2ng 10.000, (sau "+n[0].toX+" h\u0169, "+n[0].balans+" h\u0169 \u0111\u01b0\u1ee3c X"+n[0].x+")"}}),cc._RF.pop()},{}],EventBigBabol:[function(e,t){"use strict";cc._RF.push(t,"9cc99A4PaNHspACLK1eSt4Y","EventBigBabol"),cc.Class({extends:cc.Component,properties:{text100:cc.Label,text1000:cc.Label,text10000:cc.Label},onData:function(e){var t=e.filter(function(e){return 100==e.type&&1==e.red});this.text100.string="* X"+t[0].x+" h\u0169 ph\xf2ng 100, (sau "+t[0].toX+" h\u0169, "+t[0].balans+" h\u0169 \u0111\u01b0\u1ee3c X"+t[0].x+")";var i=e.filter(function(e){return 1e3==e.type&&1==e.red});this.text1000.string="* X"+i[0].x+" h\u0169 ph\xf2ng 1.000, (sau "+i[0].toX+" h\u0169, "+i[0].balans+" h\u0169 \u0111\u01b0\u1ee3c X"+i[0].x+")";var n=e.filter(function(e){return 1e4==e.type&&1==e.red});this.text10000.string="* X"+n[0].x+" h\u0169 ph\xf2ng 10.000, (sau "+n[0].toX+" h\u0169, "+n[0].balans+" h\u0169 \u0111\u01b0\u1ee3c X"+n[0].x+")"}}),cc._RF.pop()},{}],EventDispatcher:[function(e,t){"use strict";cc._RF.push(t,"1b7f8lGonJALpFAMrH0wDOI","EventDispatcher");t.exports={addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var i=this._listeners;void 0===i[e]&&(i[e]=[]),-1===i[e].indexOf(t)&&i[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var i=this._listeners;return void 0!==i[e]&&-1!==i[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var i=this._listeners[e];if(void 0!==i){var n=i.indexOf(t);-1!==n&&i.splice(n,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var i=t.slice(0),n=0,a=i.length;n<a;n++)i[n][e.type](e)}}}},cc._RF.pop()},{}],EventMiniPoker:[function(e,t){"use strict";cc._RF.push(t,"7cc57Khr6xN25cbkkD7jvU8","EventMiniPoker"),cc.Class({extends:cc.Component,properties:{text100:cc.Label,text1000:cc.Label,text10000:cc.Label},onData:function(e){var t=e.filter(function(e){return 100==e.type&&1==e.red});this.text100.string="* X"+t[0].x+" h\u0169 ph\xf2ng 100, (sau "+t[0].toX+" h\u0169, "+t[0].balans+" h\u0169 \u0111\u01b0\u1ee3c X"+t[0].x+")";var i=e.filter(function(e){return 1e3==e.type&&1==e.red});this.text1000.string="* X"+i[0].x+" h\u0169 ph\xf2ng 1.000, (sau "+i[0].toX+" h\u0169, "+i[0].balans+" h\u0169 \u0111\u01b0\u1ee3c X"+i[0].x+")";var n=e.filter(function(e){return 1e4==e.type&&1==e.red});this.text10000.string="* X"+n[0].x+" h\u0169 ph\xf2ng 10.000, (sau "+n[0].toX+" h\u0169, "+n[0].balans+" h\u0169 \u0111\u01b0\u1ee3c X"+n[0].x+")"}}),cc._RF.pop()},{}],EventTaiXiu_item:[function(e,t){"use strict";cc._RF.push(t,"776e2WuPddPI5Z1l8EHRach","EventTaiXiu_item"),cc.Class({extends:cc.Component,properties:{top:cc.Label,users:cc.Label,day:cc.Label,gift:cc.Label}}),cc._RF.pop()},{}],EventTaiXiu:[function(e,t){"use strict";cc._RF.push(t,"e29efzOFZlKPa4AV0cVt6FW","EventTaiXiu");var i=e("Helper");cc.Class({extends:cc.Component,properties:{menu:cc.Node,content:cc.Node,item:cc.Prefab,itemHT:cc.Prefab,contentNowLeft:cc.Node,contentNowRight:cc.Node,contentHQLeft:cc.Node,contentHQRight:cc.Node,LabelDate:cc.Label,LabelDateMore:cc.Label,nodeDateMore:cc.Node,dataOld:!1},onLoad:function(){this.dateTop=new Date,this.dateTop.setDate(this.dateTop.getDate()-1);var e=this.dateTop.getDate()+"/"+i.numberPad(this.dateTop.getMonth()+1,2)+"/"+this.dateTop.getFullYear();this.LabelDate.string=this.LabelDateMore.string=e},selectEvent:function(e){this.nodeDateMore.active=!1,"top"==e.target.name?this.onGetTop():"homqua"==e.target.name&&this.onGetHomQua(),Promise.all(this.menu.children.map(function(t){t.name==e.target.name?(t.children[0].active=!0,t.children[1].color=cc.Color.YELLOW):(t.children[0].active=!1,t.children[1].color=cc.Color.WHITE)})),Promise.all(this.content.children.map(function(t){t.name==e.target.name?t.active=!0:t.active=!1}))},onGetTop:function(){cc.RedT.send({event:{taixiu:{getTop:!0}}})},onGetHomQua:function(){!this.dataOld&&cc.RedT.send({event:{taixiu:{getTopHQ:this.LabelDate.string}}})},dateToggle:function(){this.nodeDateMore.active=!this.nodeDateMore.active},datePlus:function(){var e=e=new Date(this.dateTop);e.setDate(e.getDate()+2),new Date>e&&(this.dateTop.setDate(this.dateTop.getDate()+1),this.LabelDateMore.string=i.numberPad(this.dateTop.getDate(),2)+"/"+i.numberPad(this.dateTop.getMonth()+1,2)+"/"+this.dateTop.getFullYear())},dateMinus:function(){this.dateTop.setDate(this.dateTop.getDate()-1),this.LabelDateMore.string=i.numberPad(this.dateTop.getDate(),2)+"/"+i.numberPad(this.dateTop.getMonth()+1,2)+"/"+this.dateTop.getFullYear()},dateView:function(){this.LabelDateMore.string!=this.LabelDate.string&&(this.dataOld=!1,this.LabelDate.string=this.LabelDateMore.string,this.onGetHomQua()),this.nodeDateMore.active=!1},onData:function(e){e.topHT&&this.topHT(e.topHT),e.topHQ&&(this.dataOld=!0,this.topHQ(e.topHQ))},topHT:function(e){this.contentNowLeft.removeAllChildren(),this.contentNowRight.removeAllChildren();var t=this;Promise.all(e.win.map(function(e,i){var n;(n=(n=cc.instantiate(t.itemHT)).getComponent("EventTaiXiu_item")).top.string=i+1,n.users.string=e.name,n.day.string=e.top,n.node.children[0].active=!(1&i),t.contentNowLeft.addChild(n.node)})),Promise.all(e.lost.map(function(e,i){var n;(n=(n=cc.instantiate(t.itemHT)).getComponent("EventTaiXiu_item")).top.string=i+1,n.users.string=e.name,n.day.string=e.top,n.node.children[0].active=!(1&i),t.contentNowRight.addChild(n.node)}))},topHQ:function(e){this.contentHQLeft.removeAllChildren(),this.contentHQRight.removeAllChildren();var t=this;Promise.all(e.win.map(function(e,n){var a;(a=(a=cc.instantiate(t.item)).getComponent("EventTaiXiu_item")).top.string=e.top,a.users.string=e.name,a.day.string=e.line,a.gift.string=i.numberWithCommas(e.reward),a.node.children[0].active=!(1&n),t.contentHQLeft.addChild(a.node)})),Promise.all(e.lost.map(function(e,n){var a;(a=(a=cc.instantiate(t.item)).getComponent("EventTaiXiu_item")).top.string=e.top,a.users.string=e.name,a.day.string=e.line,a.gift.string=i.numberWithCommas(e.reward),a.node.children[0].active=!(1&n),t.contentHQRight.addChild(a.node)}))}}),cc._RF.pop()},{Helper:"Helper"}],FacebookManager:[function(e,t){"use strict";cc._RF.push(t,"6b9b8r3O1RC654EeglCxTwo","FacebookManager");var i=e("GameConfig"),n=cc.Class({extends:cc.Component,statics:{Instance:null},properties:{},start:function(){cc.game.addPersistRootNode(this.node),n.Instance=this},initPluginFacebook:function(){"undefined"!=typeof sdkbox&&void 0!==sdkbox.PluginFacebook&&(sdkbox.PluginFacebook.setListener({onLogin:function(e){if(e){var t=sdkbox.PluginFacebook.getAccessToken(),n=sdkbox.PluginFacebook.getUserID();cc.RedT.IS_LOGIN?cc.RedT.send({fbconnect:{accessToken:t,userID:n}}):cc.RedT.inGame.auth({authentication:{fb:{accessToken:t,userID:n,isStore:i.isStore,store:i.store,version:i.version}}})}}}),sdkbox.PluginFacebook.init())}});t.exports=n,cc._RF.pop()},{GameConfig:"GameConfig"}],Facebook:[function(e,t,i){"use strict";cc._RF.push(t,"ced53M/40ZNGp7GLLXi2JC5","Facebook"),Object.defineProperty(i,"__esModule",{value:!0});i.default=function(e,t,i){var n,a,o,s,c;window.fbAsyncInit=function(){FB.init({appId:e,xfbml:!0,version:"v3.1"}),FB.getLoginStatus(function(e){i({status:301,response:"wait"}),"connected"===e.status?i({status:200,response:e}):(e.status,FB.login(function(e){i({status:200,response:e})},{scope:t}))})},a="script",o="facebook-jssdk",c=(n=document).getElementsByTagName(a)[0],n.getElementById(o)||((s=n.createElement(a)).id=o,s.src="//connect.facebook.com/en_US/sdk.js",c.parentNode.insertBefore(s,c))},cc._RF.pop()},{}],FireBaseManager:[function(e,t){"use strict";cc._RF.push(t,"58e58RwvGhMr7LCpQ5eAyBJ","FireBaseManager");var i=cc.Class({extends:cc.Component,statics:{Instance:null},properties:{},onLoad:function(){cc.game.addPersistRootNode(this.node),i.Instance=this,this.initPlugin()},initPlugin:function(){this.initPluginFirebase()},initPluginFirebase:function(){if("undefined"!=typeof sdkbox&&void 0!==sdkbox.firebase){sdkbox.firebase.Analytics.init();var e={};e[sdkbox.firebase.Analytics.Param.kFIRParameterItemID]="id123456",e[sdkbox.firebase.Analytics.Param.kFIRParameterItemName]="name123456",e[sdkbox.firebase.Analytics.Param.kFIRParameterItemCategory]="category123456",e[sdkbox.firebase.Analytics.Param.kFIRParameterPrice]="123.4",sdkbox.firebase.Analytics.logEvent(sdkbox.firebase.Analytics.Event.kFIREventViewItem,e)}},logData:function(e){null!=e&&void 0!==e&&e.eventName&&this.logEvent(e.eventName,e.param)},logEvent:function(e,t){if("undefined"!=typeof sdkbox&&void 0!==sdkbox.firebase&&void 0!==sdkbox.firebase.Analytics)try{void 0===t&&(t={}),sdkbox.firebase.Analytics.logEvent(e,t)}catch(i){console.warn("Cannot logging firebase event: "+i)}}});t.exports=i,cc._RF.pop()},{}],ForGotPass:[function(e,t){"use strict";cc._RF.push(t,"71d268vawpEd7jT7rX6zxb6","ForGotPass");var i=e("BrowserUtil");e("Helper"),cc.Class({extends:cc.Component,properties:{username:{default:null,type:cc.EditBox},newpass:{default:null,type:cc.EditBox},renewpass:{default:null,type:cc.EditBox},otp:{default:null,type:cc.EditBox},captcha:{default:null,type:cc.EditBox},capchaSprite:cc.Sprite},onLoad:function(){var e=this;this.editboxs=[this.username,this.newpass,this.renewpass,this.otp,this.captcha],this.keyHandle=function(t){return t.keyCode===cc.macro.KEY.tab?(e.changeNextFocusEditBox(),t.preventDefault&&t.preventDefault(),!1):t.keyCode===cc.macro.KEY.enter?(i.focusGame(),e.onForGotClick(),t.preventDefault&&t.preventDefault(),!1):t.keyCode===cc.macro.KEY.escape?(cc.RedT.inGame.dialog.onClickBack(),t.preventDefault&&t.preventDefault(),!1):void 0}},onEnable:function(){cc.sys.isBrowser&&this.addEvent(),this.node.runAction(cc.RedT.inGame.dialog.actionShow),this.reCaptcha()},onDisable:function(){cc.sys.isBrowser&&this.removeEvent(),this.clean(),cc.RedT.inGame.dialog.resetSizeDialog(this.node)},addEvent:function(){for(var e in cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),this.editboxs)i.getHTMLElementByEditBox(this.editboxs[e]).addEventListener("keydown",this.keyHandle,!1)},removeEvent:function(){for(var e in this.editboxs)i.getHTMLElementByEditBox(this.editboxs[e]).removeEventListener("keydown",this.keyHandle,!1);cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},onKeyDown:function(e){switch(e.keyCode){case cc.macro.KEY.escape:this.isTop()&&cc.RedT.inGame.dialog.onClickBack();break;case cc.macro.KEY.tab:this.isTop()&&this.changeNextFocusEditBox();break;case cc.macro.KEY.enter:this.isTop()&&this.onForGotClick()}},changeNextFocusEditBox:function(){for(var e=!1,t=0,n=this.editboxs.length;t<n;t++)if(i.checkEditBoxFocus(this.editboxs[t])){i.focusEditBox(this.editboxs[t]),e=!0;break}!e&&0<this.editboxs.length&&i.focusEditBox(this.editboxs[0])},isTop:function(){return!cc.RedT.inGame.notice.node.active&&!cc.RedT.inGame.loading.active},clean:function(){this.username.string=this.newpass.string=this.renewpass.string=this.otp.string=this.captcha.string=""},onForGotClick:function(){this.username.string.length<3||this.username.string.length>32?cc.RedT.inGame.notice.show({title:cc.RedT.Frontendlanguages[cc.RedT.language].error,text:cc.RedT.Frontendlanguages[cc.RedT.language].err_username}):null===this.username.string.match(new RegExp("^[a-zA-Z0-9]+$"))?cc.RedT.inGame.notice.show({title:cc.RedT.Frontendlanguages[cc.RedT.language].error,text:cc.RedT.Frontendlanguages[cc.RedT.language].err_username_cha}):this.newpass.string.length<6||this.newpass.string.length>32?cc.RedT.inGame.notice.show({title:cc.RedT.Frontendlanguages[cc.RedT.language].error,text:cc.RedT.Frontendlanguages[cc.RedT.language].err_pass_leng}):this.newpass.string.length!=this.renewpass.string.length?cc.RedT.inGame.notice.show({title:cc.RedT.Frontendlanguages[cc.RedT.language].error,text:cc.RedT.Frontendlanguages[cc.RedT.language].err_pass_cf}):4!=this.otp.string.length?cc.RedT.inGame.notice.show({title:cc.RedT.Frontendlanguages[cc.RedT.language].error,text:cc.RedT.Frontendlanguages[cc.RedT.language].err_otp}):4!=this.captcha.string.length?cc.RedT.inGame.notice.show({title:cc.RedT.Frontendlanguages[cc.RedT.language].error,text:cc.RedT.Frontendlanguages[cc.RedT.language].err_captcha}):cc.RedT.send({forgotpass:{iforgot:{name:this.username.string,pass:this.newpass.string,otp:this.otp.string,captcha:this.captcha.string}}})},initCaptcha:function(e){var t=this,i=new Image;i.src=e,i.width=150,i.height=50,setTimeout(function(){var e=new cc.Texture2D;e.initWithElement(i),e.handleLoadedTexture();var n=new cc.SpriteFrame(e);t.capchaSprite.spriteFrame=n},10)},reCaptcha:function(){cc.RedT.send({captcha:"forgotpass"})},onClickOTP:function(){this.username.string.trim(),this.username.string.length<3||this.username.string.length>32?cc.RedT.inGame.notice.show({title:cc.RedT.Frontendlanguages[cc.RedT.language].error,text:cc.RedT.Frontendlanguages[cc.RedT.language].err_username}):cc.RedT.send({forgotpass:{sendOTP:this.username.string}})}}),cc._RF.pop()},{BrowserUtil:"BrowserUtil",Helper:"Helper"}],Friend_item:[function(e,t){"use strict";cc._RF.push(t,"42f60ofdMJOd7CfNdeiL+al","Friend_item");var i,n=(i=e("ResourceManager"))&&i.__esModule?i:{default:i},a=e("Friend");cc.Class({extends:cc.Component,properties:{avatar:{default:null,type:cc.Sprite},username:{default:null,type:cc.Label},status:{default:null,type:cc.Label},buttonAccept:cc.Node},init:function(e,t){this.UID=e.UID,this.buttonAccept.active=!1,e.avatar&&(this.avatar.spriteFrame=n.default.Instance.avatars[e.avatar]),e.username&&(e.username.length>10?this.username.string=e.username.substring(0,10)+"...":this.username.string=e.username),1==e.online?(this.status.string="Online",this.status.node.color=this.status.node.color.fromHEX("#02EE27")):(this.status.string="Offline",this.status.node.color=this.status.node.color.fromHEX("#3A443C")),t&&(this.buttonAccept.active=!0)},onbtnConfirm:function(){cc.RedT.send({friendconnect:{confirmFriend:{UID:this.UID}}}),this.timeOut=setTimeout(function(){cc.RedT.send({friendconnect:{getListFriends:{online:!0,status:1}}}),a.Instance.showWaitList()},1e3)}}),cc._RF.pop()},{Friend:"Friend",ResourceManager:"ResourceManager"}],Friend:[function(e,t){"use strict";cc._RF.push(t,"e3929avZlFCQ7ESCE308HAC","Friend");var i=cc.Class({extends:cc.Component,properties:{friendlist:cc.Node,waitlist:cc.Node,sentlist:cc.Node,contentItem:{default:null,type:cc.Node},person:cc.Node,btnListfr:cc.Node,btnListWait:cc.Node,btnListSent:cc.Node,spriteButton:{default:[],type:cc.SpriteFrame}},start:function(){i.Instance=this,null==this.uiItemFriend&&(this.uiItemFriend=[])},getdata:function(){cc.RedT.send({friendconnect:{getListFriends:{online:!0,status:1}}})},onData:function(e){e&&(this.listfriend=e.filter(function(e){return 1===e.status}),this.waitlist=e.filter(function(e){return 2===e.status}),this.sentlist=e.filter(function(e){return 0===e.status})),this.iswaitlist?this.showWaitList():this.issentlist?this.showSentList():this.showListFriend()},showListFriend:function(){this.btnListfr.getComponent(cc.Sprite).spriteFrame=this.spriteButton[0],this.btnListWait.getComponent(cc.Sprite).spriteFrame=this.spriteButton[3],this.btnListSent.getComponent(cc.Sprite).spriteFrame=this.spriteButton[3],this.showlist(this.listfriend),this.islistfriend=!0,this.iswaitlist=!1,this.issentlist=!1},showWaitList:function(){this.btnListWait.getComponent(cc.Sprite).spriteFrame=this.spriteButton[1],this.btnListfr.getComponent(cc.Sprite).spriteFrame=this.spriteButton[3],this.btnListSent.getComponent(cc.Sprite).spriteFrame=this.spriteButton[3],this.showlist(this.waitlist,!0),this.islistfriend=!1,this.iswaitlist=!0,this.issentlist=!1},showSentList:function(){this.btnListSent.getComponent(cc.Sprite).spriteFrame=this.spriteButton[2],this.btnListWait.getComponent(cc.Sprite).spriteFrame=this.spriteButton[3],this.btnListfr.getComponent(cc.Sprite).spriteFrame=this.spriteButton[3],this.showlist(this.sentlist),this.islistfriend=!1,this.iswaitlist=!1,this.issentlist=!0},showlist:function(e,t){null==this.uiItemFriend&&(this.uiItemFriend=[]);for(var i=0;i<this.uiItemFriend.length;i++)this.uiItemFriend[i].node.destroy();if(this.uiItemFriend=[],e&&e.length)for(i=0;i<e.length;i++){var n=cc.instantiate(this.person);n.parent=this.contentItem;var a=n.getComponent("Friend_item");t?a.init(e[i],!0):a.init(e[i]),this.uiItemFriend.push(a)}}});t.exports=i,cc._RF.pop()},{}],GameConfig:[function(e,t){"use strict";cc._RF.push(t,"d00eaeAFmBBgrWaxBO+3yMl","GameConfig"),t.exports={GameName:"MetaPoker",isStore:!0,store:"ios",isFirstOpenGame:!0,version:400,api:"http://localhost",api_path:"/websocket",api_check:""},cc._RF.pop()},{}],HandRank_Lieng:[function(e,t){"use strict";cc._RF.push(t,"f8c2dJgLq1Ln6cvRODQQ7ek","HandRank_Lieng");var i=e("Hand_Lieng");cc.Class({extends:cc.Component,properties:{numberRank:cc.Slider,progress:cc.Sprite,number:cc.Label,Rank:cc.Label,HandRank:cc.Node,hideHandObj:cc.Node,btnHandRank:cc.Node,rank_straight:cc.Node,rank_3Kind:cc.Node,rank_2Pair:cc.Node,rank_HighCard:cc.Node},onLoad:function(){this.mapRank=new Map,this.mapRank.set("High Card",this.rank_HighCard),this.mapRank.set("Two Pair",this.rank_2Pair),this.mapRank.set("Three of a Kind",this.rank_3Kind),this.mapRank.set("Straight",this.rank_straight),this.curRank="",this.HandRankX=this.HandRank.x},reset:function(){this.progress.fillRange=0,this.numberRank.progress=0,this.Rank.string="",this.curRank="",this.setCurrentRank("")},setCurrentRank:function(e){if(this.curRank!=e){this.curRank=e,""==this.curRank?this.Rank.node.parent.active=!1:this.Rank.node.parent.active=!0;var t=""==e;this.mapRank.forEach(function(i,n){i.opacity=t?255:n==e?255:140}),t||"High Card"==e||cc.tween(this.btnHandRank).to(.5,{scale:1.3}).to(.5,{scale:1}).repeat(5).start()}},tweenRankNumber:function(e){var t=this,i={a:100*this.progress.fillRange};cc.tween(i).to(.6,{a:e},{progress:function(e,n,a,o){return null==t||null==t.progress?(cc.Tween.stopAllByTarget(i),e+(n-e)*o):(t.progress.fillRange=a/100,t.numberRank.progress=a/100,t.number.string=Math.floor(a),e+(n-e)*o)}}).start()},calculateMyRank:function(e){var t=new i(e);this.Rank.string=t.message,this.setCurrentRank(t.message);var n=Math.floor(100*Math.random());this.tweenRankNumber(n)},onHandRankClick:function(){this.hideHandObj.active=!0,cc.tween(this.HandRank).to(.6,{position:cc.v2(500,0)}).start()},hideHandRank:function(){this.hideHandObj.active=!1,cc.tween(this.HandRank).to(.6,{position:cc.v2(this.HandRankX,0)}).start()}}),cc._RF.pop()},{Hand_Lieng:"Hand_Lieng"}],HandRank:[function(e,t){"use strict";cc._RF.push(t,"a6c4dmsXxdJFZfT9hTy3jrC","HandRank");var i=e("./Hand");cc.Class({extends:cc.Component,properties:{HandRank:cc.Node,hideHandObj:cc.Node,btnHandRank:cc.Node,rank_royalFlush:cc.Node,rank_straightFlush:cc.Node,rank_4Kind:cc.Node,rank_fullHouse:cc.Node,rank_flush:cc.Node,rank_straight:cc.Node,rank_3Kind:cc.Node,rank_2Pair:cc.Node,rank_1Pair:cc.Node,rank_HighCard:cc.Node},onLoad:function(){this.mapRank=new Map,this.mapRank.set("High Card",this.rank_HighCard),this.mapRank.set("One Pair",this.rank_1Pair),this.mapRank.set("Two Pair",this.rank_2Pair),this.mapRank.set("Three of a Kind",this.rank_3Kind),this.mapRank.set("Straight",this.rank_straight),this.mapRank.set("Flush",this.rank_flush),this.mapRank.set("Full House",this.rank_fullHouse),this.mapRank.set("Four of a kind",this.rank_4Kind),this.mapRank.set("Straight Flush",this.rank_straightFlush),this.mapRank.set("Royal Flush",this.rank_royalFlush),this.curRank="",this.HandRankX=this.HandRank.x},reset:function(){this.curRank="---",this.setCurrentRank("")},setCurrentRank:function(e){if(this.curRank!=e){this.curRank=e;var t=""==e;this.mapRank.forEach(function(i,n){i.opacity=t?255:n==e?255:140}),t||"High Card"==e||cc.tween(this.btnHandRank).to(.5,{scale:1.3}).to(.5,{scale:1}).repeat(5).start()}},calculateMyRank:function(e){var t=new i(e);this.setCurrentRank(t.message),Math.floor(100*Math.random())},onHandRankClick:function(){this.hideHandObj.active=!0,cc.tween(this.HandRank).to(.25,{position:cc.v2(535,0)}).start()},hideHandRank:function(){this.hideHandObj.active=!1,cc.tween(this.HandRank).to(.25,{position:cc.v2(this.HandRankX,0)}).start()}}),cc._RF.pop()},{"./Hand":"Hand"}],HandScore:[function(e,t){"use strict";cc._RF.push(t,"f5a06fXfAxAro1pMP4YYUys","HandScore"),cc._RF.pop()},{}],Hand_Lieng:[function(e,t){"use strict";function i(e){var t,i,n,a,o,s,c;for(t=0,i="",n=[],a=[],c=0;c<e.cards.length;c+=1)n[c]=e.cards[c].substr(0,1),a[c]=e.cards[c].substr(1,1);return o=n.sort().toString().replace(/\W/g,""),a.sort().toString().replace(/\W/g,""),s=e.cards.toString(),0===t&&(o.indexOf("AAA")>-1&&(t=65),o.indexOf("KKK")>-1&&0===t&&(t=64),o.indexOf("QQQ")>-1&&0===t&&(t=63),o.indexOf("JJJ")>-1&&0===t&&(t=62),o.indexOf("TTT")>-1&&0===t&&(t=61),o.indexOf("999")>-1&&0===t&&(t=60),o.indexOf("888")>-1&&0===t&&(t=59),o.indexOf("777")>-1&&0===t&&(t=58),o.indexOf("666")>-1&&0===t&&(t=57),o.indexOf("555")>-1&&0===t&&(t=56),o.indexOf("444")>-1&&0===t&&(t=55),o.indexOf("333")>-1&&0===t&&(t=54),o.indexOf("222")>-1&&0===t&&(t=53),0!==t&&(i="Three of a Kind")),0===t&&(s.indexOf("Q")>-1&&s.indexOf("K")>-1&&s.indexOf("A")>-1&&(t=52),s.indexOf("J")>-1&&s.indexOf("Q")>-1&&s.indexOf("K")>-1&&0===t&&(t=51),s.indexOf("T")>-1&&s.indexOf("J")>-1&&s.indexOf("Q")>-1&&0===t&&(t=50),s.indexOf("9")>-1&&s.indexOf("T")>-1&&s.indexOf("J")>-1&&0===t&&(t=49),s.indexOf("8")>-1&&s.indexOf("9")>-1&&s.indexOf("T")>-1&&0===t&&(t=48),s.indexOf("7")>-1&&s.indexOf("8")>-1&&s.indexOf("9")>-1&&0===t&&(t=47),s.indexOf("6")>-1&&s.indexOf("7")>-1&&s.indexOf("8")>-1&&0===t&&(t=46),s.indexOf("5")>-1&&s.indexOf("6")>-1&&s.indexOf("7")>-1&&0===t&&(t=45),s.indexOf("4")>-1&&s.indexOf("5")>-1&&s.indexOf("6")>-1&&0===t&&(t=44),s.indexOf("3")>-1&&s.indexOf("4")>-1&&s.indexOf("5")>-1&&0===t&&(t=43),s.indexOf("2")>-1&&s.indexOf("3")>-1&&s.indexOf("4")>-1&&0===t&&(t=42),s.indexOf("A")>-1&&s.indexOf("2")>-1&&s.indexOf("3")>-1&&0===t&&(t=41),0!==t&&(i="Straight")),0===t&&(o.indexOf("KKQ")>-1&&0===t&&(t=39),o.indexOf("KQQ")>-1&&0===t&&(t=38),o.indexOf("JKK")>-1&&0===t&&(t=37),o.indexOf("JKQ")>-1&&0===t&&(t=36),o.indexOf("JQQ")>-1&&0===t&&(t=35),o.indexOf("JJK")>-1&&0===t&&(t=34),o.indexOf("JJQ")>-1&&0===t&&(t=33),0!==t&&(i="Two Pair")),0===t&&(o.indexOf("A")>-1&&(t=13),o.indexOf("K")>-1&&0===t&&(t=12),o.indexOf("Q")>-1&&0===t&&(t=11),o.indexOf("J")>-1&&0===t&&(t=10),o.indexOf("T")>-1&&0===t&&(t=9),o.indexOf("9")>-1&&0===t&&(t=8),o.indexOf("8")>-1&&0===t&&(t=7),o.indexOf("7")>-1&&0===t&&(t=6),o.indexOf("6")>-1&&0===t&&(t=5),o.indexOf("5")>-1&&0===t&&(t=4),o.indexOf("4")>-1&&0===t&&(t=3),o.indexOf("3")>-1&&0===t&&(t=2),o.indexOf("2")>-1&&0===t&&(t=1),0!==t&&(i="High Card")),{rank:t,message:i}}cc._RF.push(t,"c7c4cq2CVND76LJdoot2koE","Hand_Lieng"),t.exports=function(e){this.cards=e;var t=i({cards:e});return this.rank=t.rank,this.message=t.message,this},cc._RF.pop()},{}],Hand:[function(e,t){"use strict";function i(e){var t,i,a,o,s,c,r,l;for(t=0,i="",a=[],o=[],l=0;l<e.cards.length;l+=1)a[l]=e.cards[l].substr(0,1),o[l]=e.cards[l].substr(1,1);return s=a.sort().toString().replace(/\W/g,""),c=o.sort().toString().replace(/\W/g,""),r=e.cards.toString(),0===t&&(s.indexOf("AAAA")>-1&&(t=292+n(s.replace("AAAA",""),1)),s.indexOf("KKKK")>-1&&0===t&&(t=291+n(s.replace("KKKK",""),1)),s.indexOf("QQQQ")>-1&&0===t&&(t=290+n(s.replace("QQQQ",""),1)),s.indexOf("JJJJ")>-1&&0===t&&(t=289+n(s.replace("JJJJ",""),1)),s.indexOf("TTTT")>-1&&0===t&&(t=288+n(s.replace("TTTT",""),1)),s.indexOf("9999")>-1&&0===t&&(t=287+n(s.replace("9999",""),1)),s.indexOf("8888")>-1&&0===t&&(t=286+n(s.replace("8888",""),1)),s.indexOf("7777")>-1&&0===t&&(t=285+n(s.replace("7777",""),1)),s.indexOf("6666")>-1&&0===t&&(t=284+n(s.replace("6666",""),1)),s.indexOf("5555")>-1&&0===t&&(t=283+n(s.replace("5555",""),1)),s.indexOf("4444")>-1&&0===t&&(t=282+n(s.replace("4444",""),1)),s.indexOf("3333")>-1&&0===t&&(t=281+n(s.replace("3333",""),1)),s.indexOf("2222")>-1&&0===t&&(t=280+n(s.replace("2222",""),1)),0!==t&&(i="Four of a kind")),0===t&&(s.indexOf("AAA")>-1&&s.indexOf("KK")>-1&&(t=279),s.indexOf("AAA")>-1&&s.indexOf("QQ")>-1&&0===t&&(t=278),s.indexOf("AAA")>-1&&s.indexOf("JJ")>-1&&0===t&&(t=277),s.indexOf("AAA")>-1&&s.indexOf("TT")>-1&&0===t&&(t=276),s.indexOf("AAA")>-1&&s.indexOf("99")>-1&&0===t&&(t=275),s.indexOf("AAA")>-1&&s.indexOf("88")>-1&&0===t&&(t=274),s.indexOf("AAA")>-1&&s.indexOf("77")>-1&&0===t&&(t=273),s.indexOf("AAA")>-1&&s.indexOf("66")>-1&&0===t&&(t=272),s.indexOf("AAA")>-1&&s.indexOf("55")>-1&&0===t&&(t=271),s.indexOf("AAA")>-1&&s.indexOf("44")>-1&&0===t&&(t=270),s.indexOf("AAA")>-1&&s.indexOf("33")>-1&&0===t&&(t=269),s.indexOf("AAA")>-1&&s.indexOf("22")>-1&&0===t&&(t=268),s.indexOf("KKK")>-1&&s.indexOf("AA")>-1&&0===t&&(t=267),s.indexOf("KKK")>-1&&s.indexOf("QQ")>-1&&0===t&&(t=266),s.indexOf("KKK")>-1&&s.indexOf("JJ")>-1&&0===t&&(t=265),s.indexOf("KKK")>-1&&s.indexOf("TT")>-1&&0===t&&(t=264),s.indexOf("KKK")>-1&&s.indexOf("99")>-1&&0===t&&(t=263),s.indexOf("KKK")>-1&&s.indexOf("88")>-1&&0===t&&(t=262),s.indexOf("KKK")>-1&&s.indexOf("77")>-1&&0===t&&(t=261),s.indexOf("KKK")>-1&&s.indexOf("66")>-1&&0===t&&(t=260),s.indexOf("KKK")>-1&&s.indexOf("55")>-1&&0===t&&(t=259),s.indexOf("KKK")>-1&&s.indexOf("44")>-1&&0===t&&(t=258),s.indexOf("KKK")>-1&&s.indexOf("33")>-1&&0===t&&(t=257),s.indexOf("KKK")>-1&&s.indexOf("22")>-1&&0===t&&(t=256),s.indexOf("QQQ")>-1&&s.indexOf("AA")>-1&&0===t&&(t=255),s.indexOf("QQQ")>-1&&s.indexOf("KK")>-1&&0===t&&(t=254),s.indexOf("QQQ")>-1&&s.indexOf("JJ")>-1&&0===t&&(t=253),s.indexOf("QQQ")>-1&&s.indexOf("TT")>-1&&0===t&&(t=252),s.indexOf("QQQ")>-1&&s.indexOf("99")>-1&&0===t&&(t=251),s.indexOf("QQQ")>-1&&s.indexOf("88")>-1&&0===t&&(t=250),s.indexOf("QQQ")>-1&&s.indexOf("77")>-1&&0===t&&(t=249),s.indexOf("QQQ")>-1&&s.indexOf("66")>-1&&0===t&&(t=248),s.indexOf("QQQ")>-1&&s.indexOf("55")>-1&&0===t&&(t=247),s.indexOf("QQQ")>-1&&s.indexOf("44")>-1&&0===t&&(t=246),s.indexOf("QQQ")>-1&&s.indexOf("33")>-1&&0===t&&(t=245),s.indexOf("QQQ")>-1&&s.indexOf("22")>-1&&0===t&&(t=244),s.indexOf("JJJ")>-1&&s.indexOf("AA")>-1&&0===t&&(t=243),s.indexOf("JJJ")>-1&&s.indexOf("KK")>-1&&0===t&&(t=242),s.indexOf("JJJ")>-1&&s.indexOf("QQ")>-1&&0===t&&(t=241),s.indexOf("JJJ")>-1&&s.indexOf("TT")>-1&&0===t&&(t=240),s.indexOf("JJJ")>-1&&s.indexOf("99")>-1&&0===t&&(t=239),s.indexOf("JJJ")>-1&&s.indexOf("88")>-1&&0===t&&(t=238),s.indexOf("JJJ")>-1&&s.indexOf("77")>-1&&0===t&&(t=237),s.indexOf("JJJ")>-1&&s.indexOf("66")>-1&&0===t&&(t=236),s.indexOf("JJJ")>-1&&s.indexOf("55")>-1&&0===t&&(t=235),s.indexOf("JJJ")>-1&&s.indexOf("44")>-1&&0===t&&(t=234),s.indexOf("JJJ")>-1&&s.indexOf("33")>-1&&0===t&&(t=233),s.indexOf("JJJ")>-1&&s.indexOf("22")>-1&&0===t&&(t=232),s.indexOf("TTT")>-1&&s.indexOf("AA")>-1&&0===t&&(t=231),s.indexOf("TTT")>-1&&s.indexOf("KK")>-1&&0===t&&(t=230),s.indexOf("TTT")>-1&&s.indexOf("QQ")>-1&&0===t&&(t=229),s.indexOf("TTT")>-1&&s.indexOf("JJ")>-1&&0===t&&(t=228),s.indexOf("TTT")>-1&&s.indexOf("99")>-1&&0===t&&(t=227),s.indexOf("TTT")>-1&&s.indexOf("88")>-1&&0===t&&(t=226),s.indexOf("TTT")>-1&&s.indexOf("77")>-1&&0===t&&(t=225),s.indexOf("TTT")>-1&&s.indexOf("66")>-1&&0===t&&(t=224),s.indexOf("TTT")>-1&&s.indexOf("55")>-1&&0===t&&(t=223),s.indexOf("TTT")>-1&&s.indexOf("44")>-1&&0===t&&(t=222),s.indexOf("TTT")>-1&&s.indexOf("33")>-1&&0===t&&(t=221),s.indexOf("TTT")>-1&&s.indexOf("22")>-1&&0===t&&(t=220),s.indexOf("999")>-1&&s.indexOf("AA")>-1&&0===t&&(t=219),s.indexOf("999")>-1&&s.indexOf("KK")>-1&&0===t&&(t=218),s.indexOf("999")>-1&&s.indexOf("QQ")>-1&&0===t&&(t=217),s.indexOf("999")>-1&&s.indexOf("JJ")>-1&&0===t&&(t=216),s.indexOf("999")>-1&&s.indexOf("TT")>-1&&0===t&&(t=215),s.indexOf("999")>-1&&s.indexOf("88")>-1&&0===t&&(t=214),s.indexOf("999")>-1&&s.indexOf("77")>-1&&0===t&&(t=213),s.indexOf("999")>-1&&s.indexOf("66")>-1&&0===t&&(t=212),s.indexOf("999")>-1&&s.indexOf("55")>-1&&0===t&&(t=211),s.indexOf("999")>-1&&s.indexOf("44")>-1&&0===t&&(t=210),s.indexOf("999")>-1&&s.indexOf("33")>-1&&0===t&&(t=209),s.indexOf("999")>-1&&s.indexOf("22")>-1&&0===t&&(t=208),s.indexOf("888")>-1&&s.indexOf("AA")>-1&&0===t&&(t=207),s.indexOf("888")>-1&&s.indexOf("KK")>-1&&0===t&&(t=206),s.indexOf("888")>-1&&s.indexOf("QQ")>-1&&0===t&&(t=205),s.indexOf("888")>-1&&s.indexOf("JJ")>-1&&0===t&&(t=204),s.indexOf("888")>-1&&s.indexOf("TT")>-1&&0===t&&(t=203),s.indexOf("888")>-1&&s.indexOf("99")>-1&&0===t&&(t=202),s.indexOf("888")>-1&&s.indexOf("77")>-1&&0===t&&(t=201),s.indexOf("888")>-1&&s.indexOf("66")>-1&&0===t&&(t=200),s.indexOf("888")>-1&&s.indexOf("55")>-1&&0===t&&(t=199),s.indexOf("888")>-1&&s.indexOf("44")>-1&&0===t&&(t=198),s.indexOf("888")>-1&&s.indexOf("33")>-1&&0===t&&(t=197),s.indexOf("888")>-1&&s.indexOf("22")>-1&&0===t&&(t=196),s.indexOf("777")>-1&&s.indexOf("AA")>-1&&0===t&&(t=195),s.indexOf("777")>-1&&s.indexOf("KK")>-1&&0===t&&(t=194),s.indexOf("777")>-1&&s.indexOf("QQ")>-1&&0===t&&(t=193),s.indexOf("777")>-1&&s.indexOf("JJ")>-1&&0===t&&(t=192),s.indexOf("777")>-1&&s.indexOf("TT")>-1&&0===t&&(t=191),s.indexOf("777")>-1&&s.indexOf("99")>-1&&0===t&&(t=190),s.indexOf("777")>-1&&s.indexOf("88")>-1&&0===t&&(t=189),s.indexOf("777")>-1&&s.indexOf("66")>-1&&0===t&&(t=188),s.indexOf("777")>-1&&s.indexOf("55")>-1&&0===t&&(t=187),s.indexOf("777")>-1&&s.indexOf("44")>-1&&0===t&&(t=186),s.indexOf("777")>-1&&s.indexOf("33")>-1&&0===t&&(t=185),s.indexOf("777")>-1&&s.indexOf("22")>-1&&0===t&&(t=184),s.indexOf("666")>-1&&s.indexOf("AA")>-1&&0===t&&(t=183),s.indexOf("666")>-1&&s.indexOf("KK")>-1&&0===t&&(t=182),s.indexOf("666")>-1&&s.indexOf("QQ")>-1&&0===t&&(t=181),s.indexOf("666")>-1&&s.indexOf("JJ")>-1&&0===t&&(t=180),s.indexOf("666")>-1&&s.indexOf("TT")>-1&&0===t&&(t=179),s.indexOf("666")>-1&&s.indexOf("99")>-1&&0===t&&(t=178),s.indexOf("666")>-1&&s.indexOf("88")>-1&&0===t&&(t=177),s.indexOf("666")>-1&&s.indexOf("77")>-1&&0===t&&(t=176),s.indexOf("666")>-1&&s.indexOf("55")>-1&&0===t&&(t=175),s.indexOf("666")>-1&&s.indexOf("44")>-1&&0===t&&(t=174),s.indexOf("666")>-1&&s.indexOf("33")>-1&&0===t&&(t=173),s.indexOf("666")>-1&&s.indexOf("22")>-1&&0===t&&(t=172),s.indexOf("555")>-1&&s.indexOf("AA")>-1&&0===t&&(t=171),s.indexOf("555")>-1&&s.indexOf("KK")>-1&&0===t&&(t=170),s.indexOf("555")>-1&&s.indexOf("QQ")>-1&&0===t&&(t=169),s.indexOf("555")>-1&&s.indexOf("JJ")>-1&&0===t&&(t=168),s.indexOf("555")>-1&&s.indexOf("TT")>-1&&0===t&&(t=167),s.indexOf("555")>-1&&s.indexOf("99")>-1&&0===t&&(t=166),s.indexOf("555")>-1&&s.indexOf("88")>-1&&0===t&&(t=165),s.indexOf("555")>-1&&s.indexOf("77")>-1&&0===t&&(t=164),s.indexOf("555")>-1&&s.indexOf("66")>-1&&0===t&&(t=163),s.indexOf("555")>-1&&s.indexOf("44")>-1&&0===t&&(t=162),s.indexOf("555")>-1&&s.indexOf("33")>-1&&0===t&&(t=161),s.indexOf("555")>-1&&s.indexOf("22")>-1&&0===t&&(t=160),s.indexOf("444")>-1&&s.indexOf("AA")>-1&&0===t&&(t=159),s.indexOf("444")>-1&&s.indexOf("KK")>-1&&0===t&&(t=158),s.indexOf("444")>-1&&s.indexOf("QQ")>-1&&0===t&&(t=157),s.indexOf("444")>-1&&s.indexOf("JJ")>-1&&0===t&&(t=156),s.indexOf("444")>-1&&s.indexOf("TT")>-1&&0===t&&(t=155),s.indexOf("444")>-1&&s.indexOf("99")>-1&&0===t&&(t=154),s.indexOf("444")>-1&&s.indexOf("88")>-1&&0===t&&(t=153),s.indexOf("444")>-1&&s.indexOf("77")>-1&&0===t&&(t=152),s.indexOf("444")>-1&&s.indexOf("66")>-1&&0===t&&(t=151),s.indexOf("444")>-1&&s.indexOf("55")>-1&&0===t&&(t=150),s.indexOf("444")>-1&&s.indexOf("33")>-1&&0===t&&(t=149),s.indexOf("444")>-1&&s.indexOf("22")>-1&&0===t&&(t=148),s.indexOf("333")>-1&&s.indexOf("AA")>-1&&0===t&&(t=147),s.indexOf("333")>-1&&s.indexOf("KK")>-1&&0===t&&(t=146),s.indexOf("333")>-1&&s.indexOf("QQ")>-1&&0===t&&(t=145),s.indexOf("333")>-1&&s.indexOf("JJ")>-1&&0===t&&(t=144),s.indexOf("333")>-1&&s.indexOf("TT")>-1&&0===t&&(t=143),s.indexOf("333")>-1&&s.indexOf("99")>-1&&0===t&&(t=142),s.indexOf("333")>-1&&s.indexOf("88")>-1&&0===t&&(t=141),s.indexOf("333")>-1&&s.indexOf("77")>-1&&0===t&&(t=140),s.indexOf("333")>-1&&s.indexOf("66")>-1&&0===t&&(t=139),s.indexOf("333")>-1&&s.indexOf("55")>-1&&0===t&&(t=138),s.indexOf("333")>-1&&s.indexOf("44")>-1&&0===t&&(t=137),s.indexOf("333")>-1&&s.indexOf("22")>-1&&0===t&&(t=136),s.indexOf("222")>-1&&s.indexOf("AA")>-1&&0===t&&(t=135),s.indexOf("222")>-1&&s.indexOf("KK")>-1&&0===t&&(t=134),s.indexOf("222")>-1&&s.indexOf("QQ")>-1&&0===t&&(t=133),s.indexOf("222")>-1&&s.indexOf("JJ")>-1&&0===t&&(t=132),s.indexOf("222")>-1&&s.indexOf("TT")>-1&&0===t&&(t=131),s.indexOf("222")>-1&&s.indexOf("99")>-1&&0===t&&(t=130),s.indexOf("222")>-1&&s.indexOf("88")>-1&&0===t&&(t=129),s.indexOf("222")>-1&&s.indexOf("77")>-1&&0===t&&(t=128),s.indexOf("222")>-1&&s.indexOf("66")>-1&&0===t&&(t=127),s.indexOf("222")>-1&&s.indexOf("55")>-1&&0===t&&(t=126),s.indexOf("222")>-1&&s.indexOf("44")>-1&&0===t&&(t=125),s.indexOf("222")>-1&&s.indexOf("33")>-1&&0===t&&(t=124),0!==t&&(i="Full House")),0===t&&((c.indexOf("CCCCC")>-1||c.indexOf("DDDDD")>-1||c.indexOf("HHHHH")>-1||c.indexOf("SSSSS")>-1)&&(t=123,i="Flush"),r.indexOf("TC")>-1&&r.indexOf("JC")>-1&&r.indexOf("QC")>-1&&r.indexOf("KC")>-1&&r.indexOf("AC")>-1&&123===t&&(t=302,i="Straight Flush"),r.indexOf("TD")>-1&&r.indexOf("JD")>-1&&r.indexOf("QD")>-1&&r.indexOf("KD")>-1&&r.indexOf("AD")>-1&&123===t&&(t=302,i="Straight Flush"),r.indexOf("TH")>-1&&r.indexOf("JH")>-1&&r.indexOf("QH")>-1&&r.indexOf("KH")>-1&&r.indexOf("AH")>-1&&123===t&&(t=302,i="Straight Flush"),r.indexOf("TS")>-1&&r.indexOf("JS")>-1&&r.indexOf("QS")>-1&&r.indexOf("KS")>-1&&r.indexOf("AS")>-1&&123===t&&(t=302,i="Straight Flush"),r.indexOf("9C")>-1&&r.indexOf("TC")>-1&&r.indexOf("JC")>-1&&r.indexOf("QC")>-1&&r.indexOf("KC")>-1&&123===t&&(t=301,i="Straight Flush"),r.indexOf("9D")>-1&&r.indexOf("TD")>-1&&r.indexOf("JD")>-1&&r.indexOf("QD")>-1&&r.indexOf("KD")>-1&&123===t&&(t=301,i="Straight Flush"),r.indexOf("9H")>-1&&r.indexOf("TH")>-1&&r.indexOf("JH")>-1&&r.indexOf("QH")>-1&&r.indexOf("KH")>-1&&123===t&&(t=301,i="Straight Flush"),r.indexOf("9S")>-1&&r.indexOf("TS")>-1&&r.indexOf("JS")>-1&&r.indexOf("QS")>-1&&r.indexOf("KS")>-1&&123===t&&(t=301,i="Straight Flush"),r.indexOf("8C")>-1&&r.indexOf("9C")>-1&&r.indexOf("TC")>-1&&r.indexOf("JC")>-1&&r.indexOf("QC")>-1&&123===t&&(t=300,i="Straight Flush"),r.indexOf("8D")>-1&&r.indexOf("9D")>-1&&r.indexOf("TD")>-1&&r.indexOf("JD")>-1&&r.indexOf("QD")>-1&&123===t&&(t=300,i="Straight Flush"),r.indexOf("8H")>-1&&r.indexOf("9H")>-1&&r.indexOf("TH")>-1&&r.indexOf("JH")>-1&&r.indexOf("QH")>-1&&123===t&&(t=300,i="Straight Flush"),r.indexOf("8S")>-1&&r.indexOf("9S")>-1&&r.indexOf("TS")>-1&&r.indexOf("JS")>-1&&r.indexOf("QS")>-1&&123===t&&(t=300,i="Straight Flush"),r.indexOf("7C")>-1&&r.indexOf("8C")>-1&&r.indexOf("9C")>-1&&r.indexOf("TC")>-1&&r.indexOf("JC")>-1&&123===t&&(t=299,i="Straight Flush"),r.indexOf("7D")>-1&&r.indexOf("8D")>-1&&r.indexOf("9D")>-1&&r.indexOf("TD")>-1&&r.indexOf("JD")>-1&&123===t&&(t=299,i="Straight Flush"),r.indexOf("7H")>-1&&r.indexOf("8H")>-1&&r.indexOf("9H")>-1&&r.indexOf("TH")>-1&&r.indexOf("JH")>-1&&123===t&&(t=299,i="Straight Flush"),r.indexOf("7S")>-1&&r.indexOf("8S")>-1&&r.indexOf("9S")>-1&&r.indexOf("TS")>-1&&r.indexOf("JS")>-1&&123===t&&(t=299,i="Straight Flush"),r.indexOf("6C")>-1&&r.indexOf("7C")>-1&&r.indexOf("8C")>-1&&r.indexOf("9C")>-1&&r.indexOf("TC")>-1&&123===t&&(t=298,i="Straight Flush"),r.indexOf("6D")>-1&&r.indexOf("7D")>-1&&r.indexOf("8D")>-1&&r.indexOf("9D")>-1&&r.indexOf("TD")>-1&&123===t&&(t=298,i="Straight Flush"),r.indexOf("6H")>-1&&r.indexOf("7H")>-1&&r.indexOf("8H")>-1&&r.indexOf("9H")>-1&&r.indexOf("TH")>-1&&123===t&&(t=298,i="Straight Flush"),r.indexOf("6S")>-1&&r.indexOf("7S")>-1&&r.indexOf("8S")>-1&&r.indexOf("9S")>-1&&r.indexOf("TS")>-1&&123===t&&(t=298,i="Straight Flush"),r.indexOf("5C")>-1&&r.indexOf("6C")>-1&&r.indexOf("7C")>-1&&r.indexOf("8C")>-1&&r.indexOf("9C")>-1&&123===t&&(t=297,i="Straight Flush"),r.indexOf("5D")>-1&&r.indexOf("6D")>-1&&r.indexOf("7D")>-1&&r.indexOf("8D")>-1&&r.indexOf("9D")>-1&&123===t&&(t=297,i="Straight Flush"),r.indexOf("5H")>-1&&r.indexOf("6H")>-1&&r.indexOf("7H")>-1&&r.indexOf("8H")>-1&&r.indexOf("9H")>-1&&123===t&&(t=297,i="Straight Flush"),r.indexOf("5S")>-1&&r.indexOf("6S")>-1&&r.indexOf("7S")>-1&&r.indexOf("8S")>-1&&r.indexOf("9S")>-1&&123===t&&(t=297,i="Straight Flush"),r.indexOf("4C")>-1&&r.indexOf("5C")>-1&&r.indexOf("6C")>-1&&r.indexOf("7C")>-1&&r.indexOf("8C")>-1&&123===t&&(t=296,i="Straight Flush"),r.indexOf("4D")>-1&&r.indexOf("5D")>-1&&r.indexOf("6D")>-1&&r.indexOf("7D")>-1&&r.indexOf("8D")>-1&&123===t&&(t=296,i="Straight Flush"),r.indexOf("4H")>-1&&r.indexOf("5H")>-1&&r.indexOf("6H")>-1&&r.indexOf("7H")>-1&&r.indexOf("8H")>-1&&123===t&&(t=296,i="Straight Flush"),r.indexOf("4S")>-1&&r.indexOf("5S")>-1&&r.indexOf("6S")>-1&&r.indexOf("7S")>-1&&r.indexOf("8S")>-1&&123===t&&(t=296,i="Straight Flush"),r.indexOf("3C")>-1&&r.indexOf("4C")>-1&&r.indexOf("5C")>-1&&r.indexOf("6C")>-1&&r.indexOf("7C")>-1&&123===t&&(t=295,i="Straight Flush"),r.indexOf("3D")>-1&&r.indexOf("4D")>-1&&r.indexOf("5D")>-1&&r.indexOf("6D")>-1&&r.indexOf("7D")>-1&&123===t&&(t=295,i="Straight Flush"),r.indexOf("3H")>-1&&r.indexOf("4H")>-1&&r.indexOf("5H")>-1&&r.indexOf("6H")>-1&&r.indexOf("7H")>-1&&123===t&&(t=295,i="Straight Flush"),r.indexOf("3S")>-1&&r.indexOf("4S")>-1&&r.indexOf("5S")>-1&&r.indexOf("6S")>-1&&r.indexOf("7S")>-1&&123===t&&(t=295,i="Straight Flush"),r.indexOf("2C")>-1&&r.indexOf("3C")>-1&&r.indexOf("4C")>-1&&r.indexOf("5C")>-1&&r.indexOf("6C")>-1&&123===t&&(t=294,i="Straight Flush"),r.indexOf("2D")>-1&&r.indexOf("3D")>-1&&r.indexOf("4D")>-1&&r.indexOf("5D")>-1&&r.indexOf("6D")>-1&&123===t&&(t=294,i="Straight Flush"),r.indexOf("2H")>-1&&r.indexOf("3H")>-1&&r.indexOf("4H")>-1&&r.indexOf("5H")>-1&&r.indexOf("6H")>-1&&123===t&&(t=294,i="Straight Flush"),r.indexOf("2S")>-1&&r.indexOf("3S")>-1&&r.indexOf("4S")>-1&&r.indexOf("5S")>-1&&r.indexOf("6S")>-1&&123===t&&(t=294,i="Straight Flush"),r.indexOf("AC")>-1&&r.indexOf("2C")>-1&&r.indexOf("3C")>-1&&r.indexOf("4C")>-1&&r.indexOf("5C")>-1&&123===t&&(t=293,i="Straight Flush"),r.indexOf("AS")>-1&&r.indexOf("2S")>-1&&r.indexOf("3S")>-1&&r.indexOf("4S")>-1&&r.indexOf("5S")>-1&&123===t&&(t=293,i="Straight Flush"),r.indexOf("AH")>-1&&r.indexOf("2H")>-1&&r.indexOf("3H")>-1&&r.indexOf("4H")>-1&&r.indexOf("5H")>-1&&123===t&&(t=293,i="Straight Flush"),r.indexOf("AD")>-1&&r.indexOf("2D")>-1&&r.indexOf("3D")>-1&&r.indexOf("4D")>-1&&r.indexOf("5D")>-1&&123===t&&(t=293,i="Straight Flush"),123===t&&(t+=n(s,5)),0!==t&&(i="Flush")),0===t&&(r.indexOf("T")>-1&&r.indexOf("J")>-1&&r.indexOf("Q")>-1&&r.indexOf("K")>-1&&r.indexOf("A")>-1&&(t=122),r.indexOf("9")>-1&&r.indexOf("T")>-1&&r.indexOf("J")>-1&&r.indexOf("Q")>-1&&r.indexOf("K")>-1&&0===t&&(t=121),r.indexOf("8")>-1&&r.indexOf("9")>-1&&r.indexOf("T")>-1&&r.indexOf("J")>-1&&r.indexOf("Q")>-1&&0===t&&(t=120),r.indexOf("7")>-1&&r.indexOf("8")>-1&&r.indexOf("9")>-1&&r.indexOf("T")>-1&&r.indexOf("J")>-1&&0===t&&(t=119),r.indexOf("6")>-1&&r.indexOf("7")>-1&&r.indexOf("8")>-1&&r.indexOf("9")>-1&&r.indexOf("T")>-1&&0===t&&(t=118),r.indexOf("5")>-1&&r.indexOf("6")>-1&&r.indexOf("7")>-1&&r.indexOf("8")>-1&&r.indexOf("9")>-1&&0===t&&(t=117),r.indexOf("4")>-1&&r.indexOf("5")>-1&&r.indexOf("6")>-1&&r.indexOf("7")>-1&&r.indexOf("8")>-1&&0===t&&(t=116),r.indexOf("3")>-1&&r.indexOf("4")>-1&&r.indexOf("5")>-1&&r.indexOf("6")>-1&&r.indexOf("7")>-1&&0===t&&(t=115),r.indexOf("2")>-1&&r.indexOf("3")>-1&&r.indexOf("4")>-1&&r.indexOf("5")>-1&&r.indexOf("6")>-1&&0===t&&(t=114),r.indexOf("A")>-1&&r.indexOf("2")>-1&&r.indexOf("3")>-1&&r.indexOf("4")>-1&&r.indexOf("5")>-1&&0===t&&(t=113),0!==t&&(i="Straight")),0===t&&(s.indexOf("AAA")>-1&&(t=112+n(s.replace("AAA",""),2)),s.indexOf("KKK")>-1&&0===t&&(t=111+n(s.replace("KKK",""),2)),s.indexOf("QQQ")>-1&&0===t&&(t=110+n(s.replace("QQQ",""),2)),s.indexOf("JJJ")>-1&&0===t&&(t=109+n(s.replace("JJJ",""),2)),s.indexOf("TTT")>-1&&0===t&&(t=108+n(s.replace("TTT",""),2)),s.indexOf("999")>-1&&0===t&&(t=107+n(s.replace("999",""),2)),s.indexOf("888")>-1&&0===t&&(t=106+n(s.replace("888",""),2)),s.indexOf("777")>-1&&0===t&&(t=105+n(s.replace("777",""),2)),s.indexOf("666")>-1&&0===t&&(t=104+n(s.replace("666",""),2)),s.indexOf("555")>-1&&0===t&&(t=103+n(s.replace("555",""),2)),s.indexOf("444")>-1&&0===t&&(t=102+n(s.replace("444",""),2)),s.indexOf("333")>-1&&0===t&&(t=101+n(s.replace("333",""),2)),s.indexOf("222")>-1&&0===t&&(t=100+n(s.replace("222",""),2)),0!==t&&(i="Three of a Kind")),0===t&&(s.indexOf("AA")>-1&&s.indexOf("KK")>-1&&(t=99+n(s.replace("AA","").replace("KK",""),1)),s.indexOf("AA")>-1&&s.indexOf("QQ")>-1&&0===t&&(t=98+n(s.replace("AA","").replace("QQ",""),1)),s.indexOf("AA")>-1&&s.indexOf("JJ")>-1&&0===t&&(t=97+n(s.replace("AA","").replace("JJ",""),1)),s.indexOf("AA")>-1&&s.indexOf("TT")>-1&&0===t&&(t=96+n(s.replace("AA","").replace("TT",""),1)),s.indexOf("AA")>-1&&s.indexOf("99")>-1&&0===t&&(t=95+n(s.replace("AA","").replace("99",""),1)),s.indexOf("AA")>-1&&s.indexOf("88")>-1&&0===t&&(t=94+n(s.replace("AA","").replace("88",""),1)),s.indexOf("AA")>-1&&s.indexOf("77")>-1&&0===t&&(t=93+n(s.replace("AA","").replace("77",""),1)),s.indexOf("AA")>-1&&s.indexOf("66")>-1&&0===t&&(t=92+n(s.replace("AA","").replace("66",""),1)),s.indexOf("AA")>-1&&s.indexOf("55")>-1&&0===t&&(t=91+n(s.replace("AA","").replace("55",""),1)),s.indexOf("AA")>-1&&s.indexOf("44")>-1&&0===t&&(t=90+n(s.replace("AA","").replace("44",""),1)),s.indexOf("AA")>-1&&s.indexOf("33")>-1&&0===t&&(t=89+n(s.replace("AA","").replace("33",""),1)),s.indexOf("AA")>-1&&s.indexOf("22")>-1&&0===t&&(t=88+n(s.replace("AA","").replace("22",""),1)),s.indexOf("KK")>-1&&s.indexOf("QQ")>-1&&0===t&&(t=87+n(s.replace("KK","").replace("QQ",""),1)),s.indexOf("KK")>-1&&s.indexOf("JJ")>-1&&0===t&&(t=86+n(s.replace("KK","").replace("JJ",""),1)),s.indexOf("KK")>-1&&s.indexOf("TT")>-1&&0===t&&(t=85+n(s.replace("KK","").replace("TT",""),1)),s.indexOf("KK")>-1&&s.indexOf("99")>-1&&0===t&&(t=84+n(s.replace("KK","").replace("99",""),1)),s.indexOf("KK")>-1&&s.indexOf("88")>-1&&0===t&&(t=83+n(s.replace("KK","").replace("88",""),1)),s.indexOf("KK")>-1&&s.indexOf("77")>-1&&0===t&&(t=82+n(s.replace("KK","").replace("77",""),1)),s.indexOf("KK")>-1&&s.indexOf("66")>-1&&0===t&&(t=81+n(s.replace("KK","").replace("66",""),1)),s.indexOf("KK")>-1&&s.indexOf("55")>-1&&0===t&&(t=80+n(s.replace("KK","").replace("55",""),1)),s.indexOf("KK")>-1&&s.indexOf("44")>-1&&0===t&&(t=79+n(s.replace("KK","").replace("44",""),1)),s.indexOf("KK")>-1&&s.indexOf("33")>-1&&0===t&&(t=78+n(s.replace("KK","").replace("33",""),1)),s.indexOf("KK")>-1&&s.indexOf("22")>-1&&0===t&&(t=77+n(s.replace("KK","").replace("22",""),1)),s.indexOf("QQ")>-1&&s.indexOf("JJ")>-1&&0===t&&(t=76+n(s.replace("QQ","").replace("JJ",""),1)),s.indexOf("QQ")>-1&&s.indexOf("TT")>-1&&0===t&&(t=75+n(s.replace("QQ","").replace("TT",""),1)),s.indexOf("QQ")>-1&&s.indexOf("99")>-1&&0===t&&(t=74+n(s.replace("QQ","").replace("99",""),1)),s.indexOf("QQ")>-1&&s.indexOf("88")>-1&&0===t&&(t=73+n(s.replace("QQ","").replace("88",""),1)),s.indexOf("QQ")>-1&&s.indexOf("77")>-1&&0===t&&(t=72+n(s.replace("QQ","").replace("77",""),1)),s.indexOf("QQ")>-1&&s.indexOf("66")>-1&&0===t&&(t=71+n(s.replace("QQ","").replace("66",""),1)),s.indexOf("QQ")>-1&&s.indexOf("55")>-1&&0===t&&(t=70+n(s.replace("QQ","").replace("55",""),1)),s.indexOf("QQ")>-1&&s.indexOf("44")>-1&&0===t&&(t=69+n(s.replace("QQ","").replace("44",""),1)),s.indexOf("QQ")>-1&&s.indexOf("33")>-1&&0===t&&(t=68+n(s.replace("QQ","").replace("33",""),1)),s.indexOf("QQ")>-1&&s.indexOf("22")>-1&&0===t&&(t=67+n(s.replace("QQ","").replace("22",""),1)),s.indexOf("JJ")>-1&&s.indexOf("TT")>-1&&0===t&&(t=66+n(s.replace("JJ","").replace("TT",""),1)),s.indexOf("JJ")>-1&&s.indexOf("99")>-1&&0===t&&(t=65+n(s.replace("JJ","").replace("99",""),1)),s.indexOf("JJ")>-1&&s.indexOf("88")>-1&&0===t&&(t=64+n(s.replace("JJ","").replace("88",""),1)),s.indexOf("JJ")>-1&&s.indexOf("77")>-1&&0===t&&(t=63+n(s.replace("JJ","").replace("77",""),1)),s.indexOf("JJ")>-1&&s.indexOf("66")>-1&&0===t&&(t=62+n(s.replace("JJ","").replace("66",""),1)),s.indexOf("JJ")>-1&&s.indexOf("55")>-1&&0===t&&(t=61+n(s.replace("JJ","").replace("55",""),1)),s.indexOf("JJ")>-1&&s.indexOf("44")>-1&&0===t&&(t=60+n(s.replace("JJ","").replace("44",""),1)),s.indexOf("JJ")>-1&&s.indexOf("33")>-1&&0===t&&(t=59+n(s.replace("JJ","").replace("33",""),1)),s.indexOf("JJ")>-1&&s.indexOf("22")>-1&&0===t&&(t=58+n(s.replace("JJ","").replace("22",""),1)),s.indexOf("TT")>-1&&s.indexOf("99")>-1&&0===t&&(t=57+n(s.replace("TT","").replace("99",""),1)),s.indexOf("TT")>-1&&s.indexOf("88")>-1&&0===t&&(t=56+n(s.replace("TT","").replace("88",""),1)),s.indexOf("TT")>-1&&s.indexOf("77")>-1&&0===t&&(t=55+n(s.replace("TT","").replace("77",""),1)),s.indexOf("TT")>-1&&s.indexOf("66")>-1&&0===t&&(t=54+n(s.replace("TT","").replace("66",""),1)),s.indexOf("TT")>-1&&s.indexOf("55")>-1&&0===t&&(t=53+n(s.replace("TT","").replace("55",""),1)),s.indexOf("TT")>-1&&s.indexOf("44")>-1&&0===t&&(t=52+n(s.replace("TT","").replace("44",""),1)),s.indexOf("TT")>-1&&s.indexOf("33")>-1&&0===t&&(t=51+n(s.replace("TT","").replace("33",""),1)),s.indexOf("TT")>-1&&s.indexOf("22")>-1&&0===t&&(t=50+n(s.replace("TT","").replace("22",""),1)),s.indexOf("99")>-1&&s.indexOf("88")>-1&&0===t&&(t=49+n(s.replace("99","").replace("88",""),1)),s.indexOf("99")>-1&&s.indexOf("77")>-1&&0===t&&(t=48+n(s.replace("99","").replace("77",""),1)),s.indexOf("99")>-1&&s.indexOf("66")>-1&&0===t&&(t=47+n(s.replace("99","").replace("66",""),1)),s.indexOf("99")>-1&&s.indexOf("55")>-1&&0===t&&(t=46+n(s.replace("99","").replace("55",""),1)),s.indexOf("99")>-1&&s.indexOf("44")>-1&&0===t&&(t=45+n(s.replace("99","").replace("44",""),1)),s.indexOf("99")>-1&&s.indexOf("33")>-1&&0===t&&(t=44+n(s.replace("99","").replace("33",""),1)),s.indexOf("99")>-1&&s.indexOf("22")>-1&&0===t&&(t=43+n(s.replace("99","").replace("22",""),1)),s.indexOf("88")>-1&&s.indexOf("77")>-1&&0===t&&(t=42+n(s.replace("88","").replace("77",""),1)),s.indexOf("88")>-1&&s.indexOf("66")>-1&&0===t&&(t=41+n(s.replace("88","").replace("66",""),1)),s.indexOf("88")>-1&&s.indexOf("55")>-1&&0===t&&(t=40+n(s.replace("88","").replace("55",""),1)),s.indexOf("88")>-1&&s.indexOf("44")>-1&&0===t&&(t=39+n(s.replace("88","").replace("44",""),1)),s.indexOf("88")>-1&&s.indexOf("33")>-1&&0===t&&(t=38+n(s.replace("88","").replace("33",""),1)),s.indexOf("88")>-1&&s.indexOf("22")>-1&&0===t&&(t=37+n(s.replace("88","").replace("22",""),1)),s.indexOf("77")>-1&&s.indexOf("66")>-1&&0===t&&(t=36+n(s.replace("77","").replace("66",""),1)),s.indexOf("77")>-1&&s.indexOf("55")>-1&&0===t&&(t=35+n(s.replace("77","").replace("55",""),1)),s.indexOf("77")>-1&&s.indexOf("44")>-1&&0===t&&(t=34+n(s.replace("77","").replace("44",""),1)),s.indexOf("77")>-1&&s.indexOf("33")>-1&&0===t&&(t=33+n(s.replace("77","").replace("33",""),1)),s.indexOf("77")>-1&&s.indexOf("22")>-1&&0===t&&(t=32+n(s.replace("77","").replace("22",""),1)),s.indexOf("66")>-1&&s.indexOf("55")>-1&&0===t&&(t=31+n(s.replace("66","").replace("55",""),1)),s.indexOf("66")>-1&&s.indexOf("44")>-1&&0===t&&(t=30+n(s.replace("66","").replace("44",""),1)),s.indexOf("66")>-1&&s.indexOf("33")>-1&&0===t&&(t=29+n(s.replace("66","").replace("33",""),1)),s.indexOf("66")>-1&&s.indexOf("22")>-1&&0===t&&(t=28+n(s.replace("66","").replace("22",""),1)),s.indexOf("55")>-1&&s.indexOf("44")>-1&&0===t&&(t=27+n(s.replace("55","").replace("44",""),1)),s.indexOf("55")>-1&&s.indexOf("33")>-1&&0===t&&(t=26+n(s.replace("55","").replace("33",""),1)),s.indexOf("55")>-1&&s.indexOf("22")>-1&&0===t&&(t=25+n(s.replace("55","").replace("22",""),1)),s.indexOf("44")>-1&&s.indexOf("33")>-1&&0===t&&(t=24+n(s.replace("44","").replace("33",""),1)),s.indexOf("44")>-1&&s.indexOf("22")>-1&&0===t&&(t=23+n(s.replace("44","").replace("22",""),1)),s.indexOf("33")>-1&&s.indexOf("22")>-1&&0===t&&(t=22+n(s.replace("33","").replace("22",""),1)),0!==t&&(i="Two Pair")),0===t&&(s.indexOf("AA")>-1&&(t=21+n(s.replace("AA",""),3)),s.indexOf("KK")>-1&&0===t&&(t=20+n(s.replace("KK",""),3)),s.indexOf("QQ")>-1&&0===t&&(t=19+n(s.replace("QQ",""),3)),s.indexOf("JJ")>-1&&0===t&&(t=18+n(s.replace("JJ",""),3)),s.indexOf("TT")>-1&&0===t&&(t=17+n(s.replace("TT",""),3)),s.indexOf("99")>-1&&0===t&&(t=16+n(s.replace("99",""),3)),s.indexOf("88")>-1&&0===t&&(t=15+n(s.replace("88",""),3)),s.indexOf("77")>-1&&0===t&&(t=14+n(s.replace("77",""),3)),s.indexOf("66")>-1&&0===t&&(t=13+n(s.replace("66",""),3)),s.indexOf("55")>-1&&0===t&&(t=12+n(s.replace("55",""),3)),s.indexOf("44")>-1&&0===t&&(t=11+n(s.replace("44",""),3)),s.indexOf("33")>-1&&0===t&&(t=10+n(s.replace("33",""),3)),s.indexOf("22")>-1&&0===t&&(t=9+n(s.replace("22",""),3)),0!==t&&(i="One Pair")),0===t&&(s.indexOf("A")>-1&&(t=8+n(s.replace("A",""),4)),s.indexOf("K")>-1&&0===t&&(t=7+n(s.replace("K",""),4)),s.indexOf("Q")>-1&&0===t&&(t=6+n(s.replace("Q",""),4)),s.indexOf("J")>-1&&0===t&&(t=5+n(s.replace("J",""),4)),s.indexOf("T")>-1&&0===t&&(t=4+n(s.replace("T",""),4)),s.indexOf("9")>-1&&0===t&&(t=3+n(s.replace("9",""),4)),s.indexOf("8")>-1&&0===t&&(t=2+n(s.replace("8",""),4)),s.indexOf("7")>-1&&0===t&&(t=1+n(s.replace("7",""),4)),0!==t&&(i="High Card")),{rank:t,message:i}}function n(e,t){var i,n,a,o;for(n=0,a=[],o="",i=0;i<=e.length;i+=1)"A"===(o=e.substr(i,1))&&a.push(.2048),"K"===o&&a.push(.1024),"Q"===o&&a.push(.0512),"J"===o&&a.push(.0256),"T"===o&&a.push(.0128),"9"===o&&a.push(.0064),"8"===o&&a.push(.0032),"7"===o&&a.push(.0016),"6"===o&&a.push(8e-4),"5"===o&&a.push(4e-4),"4"===o&&a.push(2e-4),"3"===o&&a.push(1e-4),"2"===o&&a.push(0);for(a.sort(function(e,t){return t-e}),i=0;i<t;i+=1)n+=a[i];return n}cc._RF.push(t,"d1e3drJCDFIz4RdjWdP0+ul","Hand"),t.exports=function(e){this.cards=e;var t=i({cards:e});return this.rank=t.rank,this.message=t.message,this},cc._RF.pop()},{}],Header:[function(e,t){"use strict";cc._RF.push(t,"53591NaLdpJxoW9GVWXh0FR","Header"),cc.Class({extends:cc.Component,properties:{avatar:cc.Sprite,frame:cc.Sprite,nodeUsers:{default:null,type:cc.Node},nodeGuest:{default:null,type:cc.Node},exp:{default:null,type:cc.Node},userName:{default:null,type:cc.Label},ketsat:{default:null,type:cc.Node},lichsu:{default:null,type:cc.Node},vip:cc.Label,userRed:{default:null,type:cc.Label},maskFull:0,btnApple:cc.Node},onLoad:function(){this.nodeGuest.active=!0,cc.RedT.IS_LOGIN?this.isSignIn():this.isSignOut(),cc.RedT.inGame.dialog.init(),this.updateShowAll()},updateShowAll:function(){0==cc.RedT.user.showall||null==cc.RedT.user.showall?(this.ketsat&&(this.ketsat.active=!1),this.lichsu&&(this.lichsu.active=!1)):(this.ketsat&&(this.ketsat.active=!0),this.lichsu&&(this.lichsu.active=!0))},isSignIn:function(){this.nodeUsers.active=!0,this.nodeGuest.active=!1},isSignOut:function(){this.userName.string=this.userRed.string="",this.nodeUsers.active=!1,this.nodeGuest.active=!0},level:function(e){this.vip.string="VIP"+e},updateEXP:function(e,t){this.exp.width=e/t*this.maskFull},reset:function(){this.level(cc.RedT.user.level),this.updateEXP(cc.RedT.user.vipHT,cc.RedT.user.vipNext)}}),cc._RF.pop()},{}],HelloWorld:[function(e,t){"use strict";cc._RF.push(t,"18fae+0JotI76IMbz0XKZNb","HelloWorld"),cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label},pfbDatePicker:cc.Prefab},onLoad:function(){var e=new Date;this.year=e.getFullYear(),this.month=e.getMonth(),this.day=e.getDate(),this.updateDate()},onClickDate:function(){var e=this,t=cc.instantiate(this.pfbDatePicker);t.parent=this.node;var i=t.getComponent("UIDatePicker");i.setDate(this.year,this.month,this.day),i.setPickDateCallback(function(t,i,n){e.year=t,e.month=i,e.day=n,e.updateDate()})},updateDate:function(){this.label.string=cc.js.formatStr("%s-%s-%s",this.year,this.month+1,this.day)}}),cc._RF.pop()},{}],Helloworld:[function(e,t,i){"use strict";cc._RF.push(t,"e1b90/rohdEk4SdmmEZANaD","Helloworld"),Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,a=n.ccclass,o=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return __extends(t,e),t.prototype.start=function(){this.label.string=this.text},__decorate([o(cc.Label)],t.prototype,"label",void 0),__decorate([o],t.prototype,"text",void 0),__decorate([a],t)}(cc.Component);i.default=s,cc._RF.pop()},{}],Helper:[function(e,t){"use strict";function i(e){if(e){var t=(e=parseInt(e)).toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,"."),t.join(".")}return"0"}cc._RF.push(t,"ea8443jZShFSboJocQ6Ztdo","Helper"),t.exports={ToKMB:function(e){var t=e;if(e>=1e3){for(var i=Math.floor((""+e).length/3),n="",a=2;a>=1&&!(((n=parseFloat((0!=i?e/Math.pow(1e3,i):e).toPrecision(a)))+"").replace(/[^a-zA-Z 0-9]+/g,"").length<=2);a--);n%1!=0&&(n=n.toFixed(1)),t=n+["","K","M","B","T"][i]}return t},ToKMB2:function(e){return e>=1e9?(e/1e9).toFixed(1).replace(/\.0$/,"")+"G":e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+"M":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+"K":e},checkPhoneValid:function(e){return/^[\+]?(?:[(][0-9]{1,3}[)]|(?:43|61|855|86|45|49|33|62|81|39|856|60|95|31|47|7|65|34|46|41|886|66|44|1|84|0))[0-9]{7,15}$/im.test(e)},nFormatter:function(e,t){for(var i=[{value:1e18,symbol:"E"},{value:1e15,symbol:"P"},{value:1e12,symbol:"T"},{value:1e9,symbol:"G"},{value:1e6,symbol:"M"},{value:1e3,symbol:"k"}],n=/\.0+$|(\.[0-9]*[1-9])0+$/,a=0;a<i.length;a++)if(e>=i[a].value)return(e/i[a].value).toFixed(t).replace(n,"$1")+i[a].symbol;return e.toFixed(t).replace(n,"$1")},numberWithCommas:i,isEmpty:function(e){return!e||0===e.length},getOnlyNumberInString:function(e){var t=e.match(/\d+/g);return t?t.join(""):""},numberPad:function(e,t){for(var i=""+e;i.length<t;)i="0"+i;return i},inputNumber:function(e){var t=!1;e.addEventListener("keydown",function(e){16===e.keyCode&&(e.preventDefault(),t=!0)}),e.addEventListener("keyup",function(e){16===e.keyCode&&(e.preventDefault(),t=!1)}),e.addEventListener("keydown",function(e){!t&&(e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105||e.keyCode>=37&&e.keyCode<=40||107===e.keyCode||109===e.keyCode||189===e.keyCode||8===e.keyCode||13===e.keyCode)||e.preventDefault()})},anPhanTram:function(e,t,i,n){void 0===n&&(n=!1);var a=n?v1:e;return e*t-Math.ceil(a*i/100)},numberTo:function(e,t,n,a,o){void 0===o&&(o=!1),clearInterval(e.timer);var s=n-t,c=Math.abs(Math.floor(a/s));c=Math.max(c,50);var r=(new Date).getTime()+a;e.timer=setInterval(function(){if(e.node){var t=(new Date).getTime(),c=Math.max((r-t)/a,0),l=Math.round(n-c*s);e.string=o?i(l):l,l==n&&clearInterval(e.timer)}else clearInterval(e.timer)},c)},getStringDateByTime:function(e){var t=new Date(e),i=t.getHours(),n=t.getMinutes(),a=t.getDate(),o=t.getMonth()+1;return i<10&&(i="0"+i),n<10&&(n="0"+n),a<10&&(a="0"+a),o<10&&(o="0"+o),i+":"+n+" "+a+"/"+o+"/"+t.getFullYear()},getStringHourByTime:function(e){var t=new Date(e),i=t.getHours(),n=t.getMinutes(),a=t.getSeconds();return i<10&&(i="0"+i),n<10&&(n="0"+n),a<10&&(a="0"+a),i+":"+n+":"+a},numberToTime:function(e){e<0&&(e=0),e=parseInt(e);var t=parseInt(e/60),i=e%60;return t<10&&(t="0"+t),i<10&&(i="0"+i),t+":"+i},validateEmail:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},addZero10:function(e){return e<10&&(e="0"+e),e},getLang:function(e,t){return null==cc.RedT.Frontendlanguages?t:null==cc.RedT.Frontendlanguages[e]?t:null==cc.RedT.Frontendlanguages[e][t]?t:cc.RedT.Frontendlanguages[e][t]},getBonusLevel:function(e){return 25e3*Math.pow(e,3)/10},checkShowNoAdsUser:function(e,t,i){void 0===i&&(i=4);var n=localStorage.getItem("receivedRewardMustSeeAds")?localStorage.getItem("receivedRewardMustSeeAds"):0,a=Math.floor(Math.random()*e);return a<e/i&&(a=e/i),!!(t&&1==t||Date.now()-n<=a)},setReceivedRewardMustSeeAds:function(e){(!localStorage.getItem("receivedRewardMustSeeAds")||localStorage.getItem("receivedRewardMustSeeAds")<Date.now()-e)&&localStorage.setItem("receivedRewardMustSeeAds",Date.now())}},cc._RF.pop()},{}],HubManagerBinh:[function(e,t){"use strict";cc._RF.push(t,"04c32DSgB1CR5jiHKwJrztc","HubManagerBinh");var i=e("UIPopupManager"),n=e("Helper"),a=null;cc.Class({extends:cc.Component,properties:{audioBG:cc.AudioSource,nodeNotice:cc.Node,prefabNotice:{default:null,type:cc.Prefab},loading:cc.Node,redhat:cc.Node,notice:cc.Node,dialog:cc.Node},onLoad:function(){a=this,this.dialog=this.dialog.getComponent("Binh_Dialog")},playMusic:function(){null!=this&&null!=this.audioBG&&this.audioBG.play()},pauseMusic:function(){null!=this&&null!=this.audioBG&&this.audioBG.stop()},init:function(e){this.manager=e,cc.game.on(cc.game.EVENT_SHOW,this.onGameShow),cc.RedT.inGame=this,i.Instance.hideAll(),this.invoke({GetLobbyInfo:!0})},onData:function(e){null!=e.notice&&(cc.RedT.inGame.loading.active=!1,e.notice.addfriend?i.Instance.notice.show(e.notice):this.addNotice(e.notice)),void 0!==e.user&&(e.user.newLevel&&e.user.oldLevel&&e.user.bonus&&e.newLevel>e.oldLevel&&(i.Instance.noticeBonusLvl(e),cc.RedT.user.systemLevel=e.newLevel),e.user.systemLevel&&cc.RedT.user.systemLevel<e.user.systemLevel&&(i.Instance.noticeBonusLvl(e),cc.RedT.user.systemLevel=e.user.systemLevel),cc.RedT.userData(e.user)),void 0!==e.loading&&null!=e.loading.active&&(cc.RedT.inGame.loading.active=e.loading.active),void 0!==e.user&&cc.RedT.userData(e.user),e.friend&&(1==e.friend.addFriend.success?i.Instance.notice.show({title:n.getLang(cc.RedT.language,"taixiu_notice"),text:n.getLang(cc.RedT.language,"add_fr_success")}):i.Instance.notice.show({title:n.getLang(cc.RedT.language,"taixiu_notice"),text:n.getLang(cc.RedT.language,"already_fr")})),null!=e.binh&&((e=e.binh).lobbyInfo&&this.responseGetLobbyInfo(e.lobbyInfo),e.joinGame&&(cc.RedT.inGame.loading.active=!1,this.responseJoinGame(e.joinGame)),e.playerJoin&&a.manager.screenGame.responseplayerJoin(e.playerJoin),e.startGame&&a.manager.screenGame.responsestartGame(e.startGame),e.startActionTimer&&a.manager.screenGame.responseStartActionTimer(e.startActionTimer.accountId,e.startActionTimer.time,e.startActionTimer.actions),e.danhBai&&a.manager.screenGame.responsedanhBai(e.danhBai.accountId,e.danhBai.card,e.danhBai.dataRoom),e.endRound&&a.manager.screenGame.responseendRound(),e.showResult&&a.manager.screenGame.responseshowResult(e.showResult),e.chatbai&&a.manager.screenGame.responseshowChatbai(e.chatbai),e.player_ready&&a.manager.screenGame.responsePlayerReady(e.player_ready),e.playerLeave&&a.manager.screenGame.responseplayerLeave(e.playerLeave),e.askBaoBinh&&a.manager.screenGame.responseaskBaoBinh(e.askBaoBinh),e.playerBaoBinh&&a.manager.screenGame.responseplayerBaoBinh(e.playerBaoBinh),e.SortHandCards&&a.manager.screenGame.callbackXepbai(e),e.history&&this.dialog.onData(e),null!=e.chat&&a.manager.screenGame.onChat(e.chat))},addNotice:function(e){"string"==typeof e?i.Instance.notice.show({title:n.getLang(cc.RedT.language,"taixiu_notice"),text:e}):void 0!==e.button?i.Instance.notice.show({title:e.title,text:e.text,button:{text:"notice",type:"watchVideo"}}):i.Instance.notice.show({title:e.title,text:e.text})},invoke:function(e){cc.RedT.send({g:{binh:e}})},invokeString:function(e,t){var i={};i[e]=null==t||{id:t},this.invoke(i)},invokeStringRoomType:function(e,t,i){var n={};n[e]=!0,n.roomtype=t,n.roomplayers=i,this.invoke(n)},pingPong:function(){},onDestroy:function(){this.intervalPingPong&&(clearInterval(this.intervalPingPong),this.intervalPingPong=null)},offGameShowEvent:function(){cc.game.off(cc.game.EVENT_SHOW,a.onGameShow)},onGameShow:function(){null!=a&&cc.game.off(cc.game.EVENT_SHOW,a.onGameShow)},onCheckClientRespone:function(e){e+""=="false"&&(a.hubConnection.disconnectCallBack=null,a.hubConnection.stop(),a.init(a.manager))},responsePlayNow:function(){},responseMessage:function(){},responseJoinGame:function(e){"string"!=typeof e&&"M\u1ea5t k\u1ebft n\u1ed1i"!=e&&a.manager.showScreenGame(e)},getListRoom:function(e){for(var t=[],i=0;i<e.length;i++)1==e[i].Item4&&t.push(e[i]);return t},responseEnterLobby:function(){},responseGetLobbyInfo:function(e){a.manager.showScreenLobby(e)}}),cc._RF.pop()},{Helper:"Helper",UIPopupManager:"UIPopupManager"}],HubManagerSam:[function(e,t){"use strict";cc._RF.push(t,"a0723aANolF653hPFWMyBIL","HubManagerSam");var i=e("UIPopupManager"),n=e("Helper"),a=null;cc.Class({extends:cc.Component,properties:{audioBG:cc.AudioSource,nodeNotice:cc.Node,prefabNotice:{default:null,type:cc.Prefab},loading:cc.Node,redhat:cc.Node,notice:cc.Node,dialog:cc.Node},onLoad:function(){a=this,this.dialog=this.dialog.getComponent("Sam_Dialog")},playMusic:function(){null!=this&&null!=this.audioBG&&this.audioBG.play()},pauseMusic:function(){null!=this&&null!=this.audioBG&&this.audioBG.stop()},init:function(e){this.manager=e,cc.game.on(cc.game.EVENT_SHOW,this.onGameShow),cc.RedT.inGame=this,i.Instance.hideAll(),this.invoke({GetLobbyInfo:!0})},onData:function(e){e.notice||e.sam,null!=e.notice&&(cc.RedT.inGame.loading.active=!1,e.notice.addfriend?i.Instance.notice.show(e.notice):this.addNotice(e.notice)),void 0!==e.user&&(e.user.newLevel&&e.user.oldLevel&&e.user.bonus&&e.user.newLevel>e.user.oldLevel&&(i.Instance.noticeBonusLvl(e),cc.RedT.user.systemLevel=e.newLevel),cc.RedT.userData(e.user)),void 0!==e.loading&&null!=e.loading.active&&(cc.RedT.inGame.loading.active=e.loading.active),void 0!==e.user&&cc.RedT.userData(e.user),e.friend&&(1==e.friend.addFriend.success?i.Instance.notice.show({title:n.getLang(cc.RedT.language,"taixiu_notice"),text:n.getLang(cc.RedT.language,"add_fr_success")}):i.Instance.notice.show({title:n.getLang(cc.RedT.language,"taixiu_notice"),text:n.getLang(cc.RedT.language,"already_fr")})),null!=e.sam&&((e=e.sam).lobbyInfo&&this.responseGetLobbyInfo(e.lobbyInfo),e.joinGame&&(cc.RedT.inGame.loading.active=!1,this.responseJoinGame(e.joinGame)),e.playerJoin&&a.manager.screenGame.responseplayerJoin(e.playerJoin),e.startGame&&a.manager.screenGame.responsestartGame(e.startGame),e.startActionTimer&&a.manager.screenGame.responseStartActionTimer(e.startActionTimer.accountId,e.startActionTimer.time,e.startActionTimer.actions),e.danhBai&&a.manager.screenGame.responsedanhBai(e.danhBai.accountId,e.danhBai.card,e.danhBai.dataRoom),e.endRound&&a.manager.screenGame.responseendRound(),e.showResult&&a.manager.screenGame.responseshowResult(e.showResult),e.chatbai&&a.manager.screenGame.responseshowChatbai(e.chatbai),e.player_ready&&a.manager.screenGame.responsePlayerReady(e.player_ready),e.playerLeave&&a.manager.screenGame.responseplayerLeave(e.playerLeave),e.askBaoSam&&a.manager.screenGame.responseaskBaoSam(e.askBaoSam),e.playerBaoSam&&a.manager.screenGame.responseplayerBaoSam(e.playerBaoSam),e.SortHandCards&&a.manager.screenGame.callbackXepbai(e.SortHandCards),e.history&&this.dialog.onData(e),null!=e.chat&&a.manager.screenGame.onChat(e.chat))},addNotice:function(e){"string"==typeof e?i.Instance.notice.show({title:n.getLang(cc.RedT.language,"taixiu_notice"),text:e}):void 0!==e.button?i.Instance.notice.show({title:e.title,text:e.text,button:{text:"notice",type:"watchVideo"}}):i.Instance.notice.show({title:e.title,text:e.text})},invoke:function(e){cc.RedT.send({g:{sam:e}})},invokeString:function(e,t){var i={};i[e]=null==t||{id:t},this.invoke(i)},invokeStringRoomType:function(e,t,i){var n={};n[e]=!0,n.roomtype=t,n.roomplayers=i,this.invoke(n)},pingPong:function(){},onDestroy:function(){this.intervalPingPong&&(clearInterval(this.intervalPingPong),this.intervalPingPong=null)},offGameShowEvent:function(){cc.game.off(cc.game.EVENT_SHOW,a.onGameShow)},onGameShow:function(){null!=a&&cc.game.off(cc.game.EVENT_SHOW,a.onGameShow)},onCheckClientRespone:function(e){e+""=="false"&&(a.hubConnection.disconnectCallBack=null,a.hubConnection.stop(),a.init(a.manager))},responsePlayNow:function(){},responseMessage:function(){},responseJoinGame:function(e){"string"!=typeof e&&"M\u1ea5t k\u1ebft n\u1ed1i"!=e&&a.manager.showScreenGame(e)},getListRoom:function(e){for(var t=[],i=0;i<e.length;i++)1==e[i].Item4&&t.push(e[i]);return t},responseEnterLobby:function(){},responseGetLobbyInfo:function(e){a.manager.showScreenLobby(e)}}),cc._RF.pop()},{Helper:"Helper",UIPopupManager:"UIPopupManager"}],HubManagerTienLenSolo:[function(e,t){"use strict";cc._RF.push(t,"6f882RA31NBMpM3CaYNjqeO","HubManagerTienLenSolo");var i=e("UIPopupManager"),n=e("Helper"),a=null;cc.Class({extends:cc.Component,properties:{audioBG:cc.AudioSource,nodeNotice:cc.Node,prefabNotice:{default:null,type:cc.Prefab},loading:cc.Node,redhat:cc.Node,notice:cc.Node,dialog:cc.Node},onLoad:function(){a=this,this.dialog=this.dialog.getComponent("TLMN_Dialog")},playMusic:function(){null!=this&&null!=this.audioBG&&this.audioBG.play()},pauseMusic:function(){null!=this&&null!=this.audioBG&&this.audioBG.stop()},init:function(e){this.manager=e,cc.game.on(cc.game.EVENT_SHOW,this.onGameShow),cc.RedT.inGame=this,i.Instance.hideAll(),this.invoke({GetLobbyInfo:!0})},onData:function(e){e.notice||e.tlmn,null!=e.notice&&(cc.RedT.inGame.loading.active=!1,e.notice.addfriend?i.Instance.notice.show(e.notice):this.addNotice(e.notice)),void 0!==e.user&&cc.RedT.userData(e.user),void 0!==e.loading&&null!=e.loading.active&&(cc.RedT.inGame.loading.active=e.loading.active),void 0!==e.user&&(e.user.newLevel&&e.user.oldLevel&&e.user.bonus&&e.user.newLevel>e.user.oldLevel&&(i.Instance.noticeBonusLvl(e),cc.RedT.user.systemLevel=e.newLevel),cc.RedT.userData(e.user)),e.friend&&(1==e.friend.addFriend.success?i.Instance.notice.show({title:n.getLang(cc.RedT.language,"taixiu_notice"),text:n.getLang(cc.RedT.language,"add_fr_success")}):i.Instance.notice.show({title:n.getLang(cc.RedT.language,"taixiu_notice"),text:n.getLang(cc.RedT.language,"already_fr")})),null!=e.tlmn&&((e=e.tlmn).lobbyInfo&&this.responseGetLobbyInfo(e.lobbyInfo),e.joinGame&&(cc.RedT.inGame.loading.active=!1,this.responseJoinGame(e.joinGame)),e.playerJoin&&a.manager.screenGame.responseplayerJoin(e.playerJoin),e.startGame&&a.manager.screenGame.responsestartGame(e.startGame),e.startActionTimer&&a.manager.screenGame.responseStartActionTimer(e.startActionTimer.accountId,e.startActionTimer.time,e.startActionTimer.actions),e.danhBai&&a.manager.screenGame.responsedanhBai(e.danhBai.accountId,e.danhBai.card,e.danhBai.dataRoom),e.endRound&&a.manager.screenGame.responseendRound(),e.showResult&&a.manager.screenGame.responseshowResult(e.showResult),e.chatbai&&a.manager.screenGame.responseshowChatbai(e.chatbai),e.player_ready&&a.manager.screenGame.responsePlayerReady(e.player_ready),e.playerLeave&&a.manager.screenGame.responseplayerLeave(e.playerLeave),e.SortHandCards&&a.manager.screenGame.callbackXepbai(e.SortHandCards),e.history&&this.dialog.onData(e),null!=e.chat&&a.manager.screenGame.onChat(e.chat))},addNotice:function(e){"string"==typeof e?i.Instance.notice.show({title:n.getLang(cc.RedT.language,"taixiu_notice"),text:e}):void 0!==e.button?i.Instance.notice.show({title:e.title,text:e.text,button:{text:"notice",type:"watchVideo"}}):i.Instance.notice.show({title:e.title,text:e.text})},invoke:function(e){cc.RedT.send({g:{tlmn:e}})},invokeString:function(e,t){var i={};i[e]=null==t||{id:t},this.invoke(i)},invokeStringRoomType:function(e,t,i){var n={};n[e]=!0,n.roomtype=t,n.roomplayers=i,this.invoke(n)},pingPong:function(){},onDestroy:function(){this.intervalPingPong&&(clearInterval(this.intervalPingPong),this.intervalPingPong=null)},offGameShowEvent:function(){cc.game.off(cc.game.EVENT_SHOW,a.onGameShow)},onGameShow:function(){null!=a&&cc.game.off(cc.game.EVENT_SHOW,a.onGameShow)},onCheckClientRespone:function(e){e+""=="false"&&(a.hubConnection.disconnectCallBack=null,a.hubConnection.stop(),a.init(a.manager))},responsePlayNow:function(){},responseMessage:function(){},responseJoinGame:function(e){"string"!=typeof e&&"M\u1ea5t k\u1ebft n\u1ed1i"!=e&&a.manager.showScreenGame(e)},getListRoom:function(e){for(var t=[],i=0;i<e.length;i++)1==e[i].Item4&&t.push(e[i]);return t},responseEnterLobby:function(){},responseGetLobbyInfo:function(e){a.manager.showScreenLobby(e)}}),cc._RF.pop()},{Helper:"Helper",UIPopupManager:"UIPopupManager"}],IAPManager:[function(e,t){"use strict";cc._RF.push(t,"392e7hjr+NJuZLSeqxiRUkp","IAPManager");var i=cc.Class({extends:cc.Component,statics:{Instance:null},properties:{},onLoad:function(){cc.game.addPersistRootNode(this.node),i.Instance=this,this.initPlugin()},initPlugin:function(){this.initIAP()},initIAP:function(){"undefined"!=typeof sdkbox&&void 0!==sdkbox.IAP&&(sdkbox.IAP.setListener({onSuccess:function(e){var t=cc.sys.os==cc.sys.OS_IOS;cc.RedT.send({iap:{bundle:e.name,platform:t?"apple":"google",receipt:t?e.receiptCipheredPayload:JSON.parse(e.receipt).purchaseToken,transactionID:e.transactionID,game:"cyber_poker"}}),sdkbox.IAP.setAutoFinishTransaction(),"noAdsUser"==e.name&&(cc.RedT.user.noAdsUser=!0)},onFailure:function(){cc.RedT.inGame.notice.show({title:cc.RedT.Frontendlanguages[cc.RedT.language].notice,text:cc.RedT.Frontendlanguages[cc.RedT.language].iap_fail})},onCanceled:function(){cc.RedT.inGame.notice.show({title:cc.RedT.Frontendlanguages[cc.RedT.language].notice,text:cc.RedT.Frontendlanguages[cc.RedT.language].iap_close})},onRestored:function(){},onProductRequestSuccess:function(){},onProductRequestFailure:function(){},onShouldAddStorePayment:function(){return!0},onFetchStorePromotionOrder:function(){},onFetchStorePromotionVisibility:function(){},onUpdateStorePromotionOrder:function(){},onUpdateStorePromotionVisibility:function(){}}),sdkbox.IAP.init(),sdkbox.IAP.setAutoFinishTransaction(!0))},onButton1:function(){sdkbox.IAP.refresh()},onButton2:function(){sdkbox.IAP.purchase("bundle")},onButton3:function(){sdkbox.IAP.requestUpdateTransaction()},buyBundle:function(e){sdkbox.IAP.purchase(e)}});t.exports=i,cc._RF.pop()},{}],IngameGameChat:[function(e,t){"use strict";cc._RF.push(t,"e7bd2G1G4lFH6XpCWop/kpV","IngameGameChat");var i=e("Helper"),n=e("BrowserUtil");cc.Class({extends:cc.Component,properties:{content:{default:null,type:cc.ScrollView},item:{default:null,type:cc.Prefab},input:{default:null,type:cc.EditBox},layout:{default:null,type:cc.Layout},isLoad:!1},init:function(e,t){this.game=e,this.tableId=t,this.getData()},onLoad:function(){var e=this;this.keyHandle=function(t){return t.keyCode===cc.macro.KEY.tab?(t.preventDefault&&t.preventDefault(),!1):t.keyCode===cc.macro.KEY.enter?(n.focusGame(),e.onChatClick(),t.preventDefault&&t.preventDefault(),!1):void 0}},onEnable:function(){cc.sys.isBrowser&&this.addEvent(),this.isLoad,setTimeout(function(){this.content.scrollToBottom(.1)}.bind(this),100)},onDisable:function(){cc.sys.isBrowser&&this.removeEvent(),this.clean()},addEvent:function(){n.getHTMLElementByEditBox(this.input).addEventListener("keydown",this.keyHandle,!1)},removeEvent:function(){n.getHTMLElementByEditBox(this.input).removeEventListener("keydown",this.keyHandle,!1)},getData:function(){this.isLoad=!0;for(var e=this.content.content.children.length-1;e>=0;e--)this.content.content.children[e].destroy();var t={};t[this.game]={getLogChatTable:{tid:this.tableId}},cc.RedT.send({g:t})},message:function(e,t){void 0===t&&(t=!1);var i=cc.instantiate(this.item);i.getComponent(cc.RichText).string=e.user+": "+e.value;var n=i.children[0],a=n.getComponent(cc.Label);null!=e.type&&1==e.type?(n.color=new cc.Color(252,94,72,255),this.tweenSystemChat()):n.color=new cc.Color(72,252,79,255),a.string=e.user,this.content.content.addChild(i),t&&setTimeout(function(){this.content.scrollToBottom(.1)}.bind(this),100)},chatButtonTopClick:function(){this.node.active=!this.node.active,this.node.x=-94},tweenSystemChat:function(){if(1!=this.node.active){this.node.x=270,this.node.active=!0,cc.tween(this.node).to(.6,{position:cc.v2(-94,-294.631)}).start();var e=this;setTimeout(function(){cc.tween(e.node).to(.6,{position:cc.v2(270,-294.631)}).call(function(){e.node.active=!1}).start()},3500)}},logs:function(e){var t=this;if(e.length){var i=this;Promise.all(e.map(function(e){return i.message(e)})).then(function(){setTimeout(function(){this.content.scrollToBottom(.1)}.bind(t),100)})}},onData:function(e){void 0!==e.message&&this.message(e.message,!0),void 0!==e.logs&&this.logs(e.logs)},onChatClick:function(){if(!i.isEmpty(this.input.string)){var e={};e[this.game]={chatTable:{str:this.input.string,tid:this.tableId}},cc.RedT.send({g:e}),this.clean()}},toggle:function(){this.RedT.setTop(),cc.RedT.audio.playClick(),this.node.active=cc.RedT.setting.threecards.chat_active=!this.node.active},clean:function(){this.input.string=""},reset:function(){this.content.content.destroyAllChildren(),this.node.active=!1}}),cc._RF.pop()},{BrowserUtil:"BrowserUtil",Helper:"Helper"}],ItemNotice:[function(e,t){"use strict";cc._RF.push(t,"8b83cOq1uZAMaRVQ16Yof+T","ItemNotice"),cc.Class({extends:cc.Component,properties:{},OpenURL:function(e,t){cc.sys.openURL(t)}}),cc._RF.pop()},{}],KetSat:[function(e,t){"use strict";cc._RF.push(t,"b4e75BUyTlCYKT+0A4g+bCK","KetSat");var i=e("Helper");cc.Class({extends:cc.Component,properties:{header:{default:null,type:cc.Node},body:{default:null,type:cc.Node},redHT:{default:null,type:cc.Label},redKet:{default:null,type:cc.Label},buttonALL:{default:null,type:cc.Label},buttonAc:{default:null,type:cc.Label},inputGui:{default:null,type:cc.EditBox},inputRut:{default:null,type:cc.EditBox},inputOTP:{default:null,type:cc.EditBox},isGui:!0,typeOTP:""},init:function(){var e=this;Promise.all(this.header.children.map(function(e){return e.getComponent("itemContentMenu")})).then(function(t){e.header=t})},onSelectHead:function(e,t){Promise.all(this.header.map(function(e){e.node.name==t?e.select():e.unselect()})),Promise.all(this.body.children.map(function(e){e.name==t?e.active=!0:e.active=!1})),this.clear(),this.body.children[0].active?(this.isGui=!0,this.buttonALL.string="G\u1eecI T\u1ea4T",this.buttonAc.string="G\u1eecI"):(this.isGui=!1,this.buttonALL.string="R\xdaT T\u1ea4T",this.buttonAc.string="R\xdaT")},onClickHuy:function(){this.clear()},onClickAC:function(){var e={};if(this.isGui){if(e.gui=i.getOnlyNumberInString(this.inputGui.string),e.gui<1e4)return void cc.RedT.inGame.notice.show({title:"G\u1eecI XO",text:"S\u1ed1 ti\u1ec1n g\u1eedi ph\u1ea3i l\u1edbn h\u01a1n 10.000"})}else if(e.rut={red:i.getOnlyNumberInString(this.inputRut.string),otp:this.inputOTP.string},e.rut<1e4)return void cc.RedT.inGame.notice.show({title:"R\xdaT XO",text:"S\u1ed1 ti\u1ec1n r\xfat ph\u1ea3i l\u1edbn h\u01a1n 10.000"});cc.RedT.send({user:{ket_sat:e}})},onClickALL:function(){this.isGui?this.inputGui.string=i.numberWithCommas(cc.RedT.user.red):this.inputRut.string=this.redKet.string},onClickAdd:function(e,t){this.isGui?this.inputGui.string=i.numberWithCommas(1*i.getOnlyNumberInString(this.inputGui.string)+1*t):this.inputRut.string=i.numberWithCommas(1*i.getOnlyNumberInString(this.inputRut.string)+1*t)},onChangerInput:function(e){e=i.numberWithCommas(i.getOnlyNumberInString(e)),this.isGui?this.inputGui.string="0"==e?"":e:this.inputRut.string="0"==e?"":e},clear:function(){this.inputGui.string=this.inputRut.string=this.inputOTP.string=""},changerTypeOTP:function(e){this.typeOTP=e.node.name},onClickOTP:function(){cc.RedT.send({otp:{type:this.typeOTP}})}}),cc._RF.pop()},{Helper:"Helper"}],LiengGamePlay:[function(e,t){"use strict";var i;cc._RF.push(t,"cd90445frFCIpABpzhV/nHs","LiengGamePlay");var n=e("Helper"),a=e("HandRank_Lieng"),o=e("PokerWinningResult"),s=e("../../Poker/Scripts/ObjectChips");cc.Class({extends:cc.Component,properties:(i={labelRoomInfo:cc.Label,labelRoomBet:cc.Label,lableBet:cc.Label,labelPot:cc.Label,labelCountDownStartGame:cc.Label,ownerNode:cc.Node,handRank:a,pokerWinResult:o,chatBox:cc.Node,boxUI:cc.Node,pkDialog:cc.Node,boardCards:{default:[],type:cc.Sprite},cardsSpriteH:{default:[],type:cc.SpriteFrame},cardsSpriteD:{default:[],type:cc.SpriteFrame},cardsSpriteC:{default:[],type:cc.SpriteFrame},cardsSpriteS:{default:[],type:cc.SpriteFrame},cardHide:cc.SpriteFrame,acGroup:cc.Node,acBet:cc.Node,acFold:cc.Node,acCheck:cc.Node,acAllin:cc.Node,acCall:cc.Node,acRaise:cc.Node,sliderPrice:cc.Slider,sliderLabel:cc.Label,callValue:cc.Label},i.sliderPrice=cc.Slider,i.sliderLabel=cc.Label,i.halfBetLabel=cc.Label,i.thirdBetLabel=cc.Label,i.betTab=cc.Node,i.fullpotButton=cc.Node,i.halfpotButton=cc.Node,i.objchips=s,i.objSetting=cc.Node,i.objDropdownSetting=cc.Node,i.audioIcons={default:[],type:cc.SpriteFrame},i.audioIcon=cc.Sprite,i),onLoad:function(){this.acGroup.active=!1,this.isShowBoxUI=!1,this.pkDialog=this.pkDialog.getComponent("Poker_dialog")},onBtnToggleBoxUI:function(){var e=this;cc.Tween.stopAllByTarget(this.boxUI),0==this.isShowBoxUI?(this.isShowBoxUI=!0,this.boxUI.position=cc.v2(-500,0),this.boxUI.active=!0,cc.tween(this.boxUI).to(.25,{position:cc.v2(0,0)},{easing:"backCir"}).start()):(this.isShowBoxUI=!1,cc.tween(this.boxUI).to(.25,{position:cc.v2(-500,0)},{easing:"backCir"}).call(function(){e.boxUI.active=!0}).start())},exitConfirmPopup:function(){if(null==this.data||null==this.data.players)this.backGame();else{for(var e in this.data.players)if(this.data.players[e].UID==cc.RedT.user.UID)return void this.pkDialog.showBackGameConfirm();this.backGame()}},show:function(e,t){this.data=t,this.manager=e,this.node.active=!0,this.playersUI=e.player;for(var i=0;i<this.boardCards.length;i++)this.boardCards[i].node.active=!1;t.isDistributeCard=!0,t.isEndOfBettingRound=!1,this.handleTableEvent(t),this.pokerWinResult.background.active=!1,this.pokerChat=this.chatBox.getComponent("PokerChat"),this.pokerChat.init(t.tid)},handleStartgame:function(e){this.data=e,this.updateRoomState(),this.newSession()},handleUpdatePlayer:function(e){var t=[].concat(e.players);for(var i in e.playersToAdd){var n=!0;for(var a in e.playersToAdd[i].isPlayerToAdd=!0,e.players)e.playersToAdd[i].UID==e.players[a].UID&&(n=!1);n&&t.push(e.playersToAdd[i])}this.initPlayers(t)},sendData:function(e){this.manager.sendData(e)},cleartime:function(){this.pokerWinResult.stopWinningAction()},newSession:function(){for(var e=0;e<this.playersUI.length;e++)this.playersUI[e].newSession();this.labelPot.node.active=!1,this.pot=0},onDestroy:function(){this.timeCountDownStart&&clearInterval(this.timeCountDownStart)},onChat:function(e){if(this.pokerChat.onData(e),null!=e.message)for(var t=e.message.user,i=0;i<this.playersUI.length;i++)if(this.playersUI[i].nickname.string==t){this.playersUI[i].Chat(e.message.value);break}},countDownStartGame:function(){if(this.timerStartGame-=1,this.timerStartGame<0&&null!=this.timeCountDownStart&&(clearInterval(this.timeCountDownStart),this.timeCountDownStart=null),null==this.labelCountDownStartGame)return clearInterval(this.timeCountDownStart),void(this.timeCountDownStart=null);this.labelCountDownStartGame.string=this.timerStartGame},updateRoomState:function(){if(null!=this.data&&(null!=this.data.session&&null!=this.data.tid&&null!=this.labelRoomInfo&&(this.labelRoomInfo.string=this.data.tid+(0==this.data.session?"":" - "+this.data.session)),null!=this.data.bigBlind&&null!=this.labelRoomBet&&(this.labelRoomBet.string=n.numberWithCommas(Math.floor(this.data.bigBlind)))),"JOIN"==this.data.state)this.pokerWinResult.stopWinningAction(),this.lastActionIndex=-1,cc.RedT.user.UID==this.data.creator?(this.ownerNode.active=!0,this.data.timerStartGame<=0?null!=this.timeCountDownStart&&(clearInterval(this.timeCountDownStart),this.timeCountDownStart=null,this.labelCountDownStartGame.node.active=!1):null==this.timeCountDownStart&&(this.timerStartGame=this.data.timerStartGame,null!=this.timeCountDownStart&&clearInterval(this.timeCountDownStart),this.timeCountDownStart=setInterval(this.countDownStartGame.bind(this),1e3),this.labelCountDownStartGame.node.active=!0)):(this.ownerNode.active=!1,null!=this.timeCountDownStart&&(clearInterval(this.timeCountDownStart),this.labelCountDownStartGame.node.active=!1,this.timeCountDownStart=null));else if(this.ownerNode.active=!1,null!=this.timeCountDownStart&&clearInterval(this.timeCountDownStart),null!=this.playersUI)for(var e=0;e<this.playersUI.length;e++)1==this.playersUI[e].node.active&&this.playersUI[e].showRoomMaster(!1)},handleTableEvent:function(e){if(this.data=e,this.updateRoomState(),this.getMyIndex(this.data.players),"IN_PROGRESS"==e.state){if(this.handleUpdatePlayer(e),this.updatePot(),e.playerLeave&&1==e.playerLeave);else if(e.isEndOfBettingRound&&1==e.isEndOfBettingRound){for(var t in this.acGroup.active=!1,this.betTab.active=!1,this.stopAllTimer(),e.players)if(null!=e.game&&null!=e.game.roundBets&&t<e.game.roundBets.length&&null!=this.lastRoundBet){if(this.lastRoundBet[t]==e.game.roundBets[t])continue;null!=(a=this.getUIWithName(e.players[t].playerName))&&1==a.node.active&&a.moveCoinToPot(this.labelPot.node)}}else if(e.isDistributeCard){var i=this,n=!1;if(null!=e.gameWinners&&e.gameWinners.length>0){for(var t in e.players)if(null!=e.game&&null!=e.game.roundBets&&t<e.game.roundBets.length&&null!=this.lastRoundBet){var a,o=e.players[t].playerName;for(var s in e.actions)if(o==e.actions[s].playerName)var c=e.actions[s].action;if("fold"==c)continue;null!=(a=this.getUIWithName(e.players[t].playerName))&&1==a.node.active&&a.moveCoinToPot(this.labelPot.node)}n=!0,this.timeOutDelay=setTimeout(function(){i.handleWinResult()},2e3)}else this.manager.distributeCard_audio();if(n?this.timeOutDelay=setTimeout(function(){i.cancelAllActionUI(),i.renderCard(n)},2e3):(i.cancelAllActionUI(),i.renderCard(n)),this.handRank.calculateMyRank(this.data.board.concat(this.mycards)),(null==this.data.board||this.data.board.length<=0)&&null!=this.data.game&&null!=this.data.game.blinds){0==n&&this.pokerWinResult.stopWinningAction(),this.lastActionIndex=-1;var r=this.getUIClientIndex(this.data.game.blinds[0],this.myIndex),l=(this.playersUI[r],this.getUIClientIndex(this.data.game.blinds[1],this.myIndex));if(this.playersUI[l],null!=this.data.dealer){var h=this.getUIClientIndex(this.data.dealer,this.myIndex),d=this.playersUI[h];if(null!=d)for(d.showDealer(),t=0;t<this.playersUI.length;t++)d!=this.playersUI[t]&&this.playersUI[t].hideDealer()}}}else this.checkAction();null!=e.game&&null!=e.game.roundBets&&(this.lastRoundBet=[].concat(e.game.roundBets)),this.showLastAction()}else this.handleUpdatePlayer(e),this.newSession(),this.handRank.reset(),this.lastActionIndex=-1,this.closeBetTab()},getUIClientIndex:function(e,t){return 0==t?e:e>=t?e-t:this.playersUI.length-(t-e)},handleWinResult:function(){this.pokerWinResult.handleWinResult(this);var e=this.data;if(0!==e.players.length)for(var t=0;t<e.gameWinners.length;t++){var i=e.gameWinners[t];this.getUIWithName(i.playerName),i.playerName==cc.RedT.user.name&&this.manager.winAudio()}},updatePot:function(){var e=this,t=0;try{var i=this.data;if(null!=i.game){void 0===this.pot&&(this.pot=0),i.game&&i.game.pot&&(t=i.game.pot);var a={a:this.pot};this.labelPot.node.active=!0,t>this.pot&&this.manager.updatePot_audio(),cc.tween(a).to(1,{a:t},{progress:function(t,i,o,s){return null==e||null==e.labelPot?cc.Tween.stopAllByTarget(a):e.labelPot.string=n.numberWithCommas(Math.floor(o)),t+(i-t)*s}}).call(function(){e.labelPot.string=n.numberWithCommas(Math.floor(t))}).start(),this.pot=t}}catch(o){console.trace(o),e.labelPot.string=n.numberWithCommas(Math.floor(t))}},renderCard:function(e){for(var t=0;t<this.data.players.length;t++){var i=this.data.players[t],n=this.getUIClientIndex(t,this.myIndex),a=this.playersUI[n];i.index=t,null==a?console.error("ERROR: cannot find UI "+i.UID):a.setCard(i.cards,i,e)}for(t=0;t<this.boardCards.length;t++)null==this.data.board||this.data.board.length<=t?this.boardCards[t].node.active=!1:0==this.boardCards[t].node.active&&(this.boardCards[t].node.scale=cc.v2(.8,.8),this.boardCards[t].node.active=!0,this.boardCards[t].spriteFrame=this.getCardImage(this.data.board[t]),cc.tween(this.boardCards[t].node).to(.5,{scale:1}).start())},call:function(){this.sendData({performAction:{tid:this.data.tid,action:"Call"}}),this.acGroup.active=!1},bet:function(){var e=this.data.players[this.myIndex].chips+this.data.game.bets[this.myIndex],t=Math.max(this.minRaise,parseInt(this.sliderPrice.progress*e));t=1e3*Math.round(t/1e3),t-=this.data.game.bets[this.myIndex],this.sendData({performAction:{tid:this.data.tid,action:"Bet",amt:t}}),this.acGroup.active=!1,this.betTab.active=!1},slide:function(e){this.minRaise=this.getMinRaise(this.data);var t=this.data.players[this.myIndex].chips+this.data.game.bets[this.myIndex],i=this.minRaise/t;i>1&&(i=1),i>this.sliderPrice.progress&&i<1?this.sliderPrice.progress=i:i>=1&&(this.sliderPrice.progress=1);var a=this.sliderPrice.progress*t;e&&Number.isInteger(e)&&(a+=e,this.sliderPrice.progress=a/t),a=1e3*Math.round(a/1e3),this.objchips.GiveBackAll(),this.objchips.node.removeAllChildren(),this.sliderLabel.string=n.numberWithCommas(a);for(var o=parseInt(this.sliderPrice.node.height/20),s=parseInt(a/t*o),c=0;c<s;c++){var r=this.objchips.BorrowObject("chip");r.parent=this.objchips.node,r.position=new cc.v2(0,0)}},plusButton:function(){this.slide(1e3)},minusButton:function(){this.slide(-1e3)},fold:function(){this.sendData({performAction:{tid:this.data.tid,action:"Fold"}}),this.acGroup.active=!1},check:function(){this.sendData({performAction:{tid:this.data.tid,action:"Check"}}),this.acGroup.active=!1},raise:function(){this.minRaise=this.getMinRaise(this.data),this.acBet.active=!0,this.acRaise.active=!1,this.sliderPrice.progress=0,this.slide()},openBetTab:function(){if(this.betTab.active=!0,this.data.players[this.myIndex]&&this.data.game.bets[this.myIndex]){var e=this.data.players[this.myIndex].chips;this.halfBetLabel.string=n.ToKMB(Math.round(e/2/1e3*1e3)),this.thirdBetLabel.string=n.ToKMB(Math.round(e/4*3/1e3*1e3))}this.slide(),this.pot/2<this.minRaise&&this.pot<this.minRaise?(this.fullpotButton.active=!1,this.halfpotButton.active=!1):this.pot>=this.minRaise&&this.pot/2<this.minRaise?(this.fullpotButton.active=!0,this.halfpotButton.active=!1):(this.fullpotButton.active=!0,this.halfpotButton.active=!0)},closeBetTab:function(){this.betTab.active=!1},halfpotBet:function(){var e=this.pot/2;betToltal=1e3*Math.round(e/1e3),this.sendData({performAction:{tid:this.data.tid,action:"Bet",amt:betToltal}}),this.acGroup.active=!1,this.betTab.active=!1},fullpotBet:function(){var e=this.pot;betToltal=1e3*Math.round(e/1e3),this.sendData({performAction:{tid:this.data.tid,action:"Bet",amt:betToltal}}),this.acGroup.active=!1,this.betTab.active=!1},getMinRaise:function(e){var t=e.bigBlind,i=Math.max(t,1e3),n=e.game.betList;return"Deal"==e.game.roundName&&(i=2*t),1==n.length?i=2*n[0]:n.length>1&&(i=n[n.length-1]+(n[n.length-1]-n[n.length-2])),i},allin:function(){this.sendData({performAction:{tid:this.data.tid,action:"Allin"}}),this.acGroup.active=!1,this.betTab.active=!1},backGame:function(){this.cleartime(),this.sendData({leaveTable:{tid:this.data.tid}}),void 0!==this.timeOut&&clearTimeout(this.timeOut),cc.RedT.send({g:{lieng:{listActiveTables:!0}}}),localStorage.setItem("playing_game",""),localStorage.setItem("playing_money",0)},checkAction:function(){for(var e=this.data.currentPlayer,t=this.myIndex==this.data.currentPlayer,i=this.getUIClientIndex(e,this.myIndex),a=0;a<this.playersUI.length;a++)1==this.playersUI[a].node.active&&(a==i?this.playersUI[a].startTimer(this.data.gameMode):this.playersUI[a].stopTimer());if(this.acGroup.active=t,0!=t){this.manager.turn_audio(),this.acBet.active=!1;var o=this.isCanCheck();this.acCheck.active=o;var s;if(s=!o&&this.isCanCall(),this.acCall.active=s,this.acFold.active=!0,s){var c=100,r=0;try{c=this.getMaxBet(this.data.game.bets),r=this.data.game.bets[this.myIndex];var l=Math.floor(c-r);this.callValue.string=n.numberWithCommas(l),0===l&&(this.acCall.active=!1,this.acCheck.active=!0)}catch(h){console.log("get me bet err: "+h)}}!s&&!o||this.getMinRaise(this.data)>=this.data.players[this.myIndex].chips?(this.acAllin.active=!0,this.acRaise.active=!1):(this.acRaise.active=!0,this.acAllin.active=!1)}},cancelAllActionUI:function(){for(var e=0;e<this.playersUI.length;e++)1==this.playersUI[0].node.active&&(this.playersUI[e].stopTimer(),this.playersUI[e].stopAction());this.acGroup.active=!1,this.betTab.active=!1},stopAllTimer:function(){for(var e=0;e<this.playersUI.length;e++)1==this.playersUI[0].node.active&&this.playersUI[e].stopTimer()},showLastAction:function(){if(0!=this.data.actions.length&&this.lastActionIndex!=this.data.actions.length-1){this.lastActionIndex=this.data.actions.length-1;var e=this.data.actions[this.data.actions.length-1],t=this.getUIWithName(e.playerName);null!=t?t.doAction(e):console.error("cannot find user with name: "+e.playerName)}},getUIWithName:function(e){for(var t=0;t<this.playersUI.length;t++)if(1==this.playersUI[t].node.active&&this.playersUI[t].nickname.string==e)return this.playersUI[t];return null},isCanCheck:function(){var e,t;e=!0;var i=this.data.game;if(void 0===i.bets)return!1;for(t=0;t<i.bets.length;t+=1)0!==i.bets[t]&&(e=!1);return e},isCanCall:function(){var e,t=this.data.game;e=this.getMaxBet(t.bets);var i=this.data.players[this.myIndex];return null!=i&&i.chips>e},getMaxBet:function(e){if(null==e)return 0;var t,i;for(t=0,i=0;i<e.length;i+=1)e[i]>t&&(t=e[i]);return t},activeAction:function(e){this.acRaise.active=e,this.acFold.active=e,this.acAllin.active=e,this.acCheck.active=e},getMyIndex:function(e){this.myIndex=0,this.mycards=[];for(var t=0;t<e.length;t++){var i=e[t];if(i.UID==cc.RedT.user.UID)return this.myIndex=t,void(this.mycards=i.cards)}},sendStartGame:function(){this.sendData({StartGame:{room:this.data.tid}}),null!=this.timeCountDownStart&&(clearInterval(this.timeCountDownStart),this.timeCountDownStart=null)},hide:function(){this.node.active=!1},initPlayers:function(e){this.getMyIndex(e);for(var t=this.myIndex,i=new Array,n=0;n<e.length;n++){var a=this.getUIClientIndex(n,t);if(a>=this.playersUI.length)return void console.error("Players in this table more than UI of client");i.push(a),this.playersUI[a].node.active=!0,this.playersUI[a].showRoomMaster(null!=this.data&&e[n].UID==this.data.creator);var o=0;null!=this.data&&null!=this.data.game&&null!=this.data.game.bets&&n<this.data.game.bets.length&&(o=this.data.game.bets[n]),this.playersUI[a].setInfo(e[n],this,o)}for(n=0;n<this.playersUI.length;n++)0==i.includes(n)&&(this.playersUI[n].node.active=!1)},getCardImage:function(e){if(null==e||-1==e)return this.cardHide;var t=e[0],i=0;if(t>="0"&&t<="9")i=parseInt(t);else switch(t){case"J":i=11;break;case"Q":i=12;break;case"K":i=13;break;case"A":i=1;break;case"T":i=10}switch(e[1]){case"H":return this.cardsSpriteH[i];case"D":return this.cardsSpriteD[i];case"C":return this.cardsSpriteC[i];case"S":return this.cardsSpriteS[i]}return this.cardHide},onSetAudio:function(){this.audioIcon.spriteFrame==this.audioIcons[1]?(cc.RedT.inGame.pauseMusic(),this.audioIcon.spriteFrame=this.audioIcons[0]):(cc.RedT.inGame.playMusic(),this.audioIcon.spriteFrame=this.audioIcons[1])},chatButtonTopClick:function(){this.chatBox.active=!this.chatBox.active},showSettingDropdown:function(){this.objDropdownSetting.active=!this.objDropdownSetting.active},hideSettingDropdown:function(){this.objSetting.active=!0,this.objDropdownSetting.active=!1}}),cc._RF.pop()},{"../../Poker/Scripts/ObjectChips":"ObjectChips",HandRank_Lieng:"HandRank_Lieng",Helper:"Helper",PokerWinningResult:"PokerWinningResult"}],Lieng:[function(e,t){"use strict";cc._RF.push(t,"afabeDxEdNI6JMbpP5+e+ee","Lieng");var i,n=(i=e("UIPopupManager"))&&i.__esModule?i:{default:i},a=e("Helper"),o=(e("Notice"),e("Poker_Player")),s=e("Poker_dialog"),c=e("PokerLobby"),r=e("LiengGamePlay"),l=e("Admob");cc.Class({extends:cc.Component,properties:{audioBG:cc.AudioSource,lobby:c,gameplay:r,nodeNotice:cc.Node,prefabNotice:{default:null,type:cc.Prefab},loading:cc.Node,redhat:cc.Node,notice:cc.Node,dialog:s,player:{default:[],type:o},labelRoom:cc.Label,labelBet:cc.Label,roomCard:cc.Node,boxWatchVideo:cc.Node,Progress:cc.Sprite,time:cc.Label,audioCardFlip:cc.AudioSource,audioChipPot:cc.AudioSource,audioWin:cc.AudioSource,audioTurn:cc.AudioSource,audioClick:cc.AudioSource},onLoad:function(){cc.RedT.inGame=this,this.lobby.node.active=!0,this.gameplay.node.active=!1,this.isShowBoxUI=!1,this.sendData({view:!0}),this.sendData({listActiveTables:!0})},playMusic:function(){null!=this&&null!=this.audioBG&&this.audioBG.play()},pauseMusic:function(){null!=this&&null!=this.audioBG&&this.audioBG.stop()},click_audio:function(){cc.RedT.isSoundGame()&&this.audioClick.play()},distributeCard_audio:function(){cc.RedT.isSoundGame()&&this.audioCardFlip.play()},updatePot_audio:function(){cc.RedT.isSoundGame()&&0==this.audioChipPot.isPlaying&&this.audioChipPot.play()},winAudio:function(){cc.RedT.isSoundGame()&&this.audioWin.play()},turn_audio:function(){cc.RedT.isSoundGame()&&this.audioTurn.play()},sendData:function(e){cc.RedT.send({scene:"lieng",g:{lieng:e}})},showHistory:function(){this.dialog.showHistory()},onData:function(e){if(e.meMap&&(this.meMap=e.meMap),null!=e.notice&&(e.notice.addfriend?n.default.Instance.notice.show(e.notice):this.addNotice(e.notice)),void 0!==e.user&&(e.user.newLevel&&e.user.oldLevel&&e.user.bonus&&e.user.newLevel>e.user.oldLevel&&(n.default.Instance.noticeBonusLvl(e),cc.RedT.user.systemLevel=e.newLevel),e.user.systemLevel&&cc.RedT.user.systemLevel<e.user.systemLevel&&(n.default.Instance.noticeBonusLvl(e),cc.RedT.user.systemLevel=e.user.systemLevel),cc.RedT.userData(e.user)),e.friend&&(e.friend.addFriend?1==e.friend.addFriend.success?n.default.Instance.notice.show({title:a.getLang(cc.RedT.language,"taixiu_notice"),text:a.getLang(cc.RedT.language,"add_fr_success")}):n.default.Instance.notice.show({title:a.getLang(cc.RedT.language,"taixiu_notice"),text:a.getLang(cc.RedT.language,"already_fr")}):e.friend.confirmFriend&&(1==e.friend.confirmFriend.success?n.default.Instance.notice.show({title:a.getLang(cc.RedT.language,"taixiu_notice"),text:a.getLang(cc.RedT.language,"add_fr_success")}):n.default.Instance.notice.show({title:a.getLang(cc.RedT.language,"taixiu_notice"),text:a.getLang(cc.RedT.language,"already_fr")}))),void 0!==e.loading&&null!=e.loading.active&&(cc.RedT.inGame.loading.active=e.loading.active),null!=e.lieng){if(null!=(e=e.lieng).maintenance)return this.backGame(),void setTimeout(function(){try{cc.RedT.inGame.onData({notice:{text:e.maintenance.text,title:e.maintenance.title}})}catch(t){console.log(t)}},800);null!=e.tabletypes&&this.onConfigTable(e),null!=e.roomInfo&&this.onListActiveTable(e.roomInfo),null!=e.playerJoin&&this.handleJoinTable(e),null!=e.bank_rupt&&this.handleBankrupt(e.bank_rupt),null!=e.StartGame&&this.handleStartGame(e.StartGame),null!=e.updatePlayer&&this.handleUpdatePlayer(e.updatePlayer),null!=e.onTableEvent&&this.handleTableEvent(e.onTableEvent),null!=e.history&&this.dialog.onData(e),null!=e.chat&&this.gameplay.onChat(e.chat),e.infoGhe&&this.infoGhe(e.infoGhe),e.infoRoom&&this.infoRoom(e.infoRoom),e.ingame&&this.ingame(e.ingame),e.outgame&&this.outgame(e.outgame),e.game&&this.game(e.game)}},addNotice:function(e){cc.RedT.inGame.loading.active=!1,"string"==typeof e?n.default.Instance.notice.show({title:a.getLang(cc.RedT.language,"taixiu_notice"),text:e}):void 0!==e.button?n.default.Instance.notice.show({title:e.title,text:e.text,button:{text:"notice",type:"watchVideo"}}):n.default.Instance.notice.show({title:e.title,text:e.text})},onConfigTable:function(e){this.room_config=e,this.lobby.show(e)},onListActiveTable:function(e){this.lobby.node.active=!0,this.gameplay.node.active=!1,this.lobby.showTable(e)},handleJoinTable:function(e){1==e.playerJoin.success?(this.lobby.hide(),this.gameplay.show(this,e.table_info)):this.lobby.joinTableFail(),cc.RedT.inGame.loading.active=!1},handleBankrupt:function(e){this.gameplay.backGame(),this.addNotice(e.message)},handleStartGame:function(e){this.gameplay.handleStartgame(e)},handleUpdatePlayer:function(e){this.gameplay.handleUpdatePlayer(e)},handleTableEvent:function(e){if(this.gameplay.handleTableEvent(e),"IN_PROGRESS"==e.state);else{for(var t=e.playersToAdd,i=!1,n=0;n<t.length;n++)if(t[n].UID==cc.RedT.user.UID){i=!0;break}i||(this.lobby.show(),this.gameplay.hide())}},handleWinResult:function(e){this.gameplay.handleWinResult(e)},handleTimeout:function(){var e=this;"JOIN"==e.gameSession.state&&e.resetCountDown(),"IN_PROGRESS"!=e.gameSession.state||e.timeout.gid===e.gameSession.id&&e.timeout.tid===e.gameSession.tid&&e.timeout.player===e.gameSession.currentPlayer||(e.resetCountDown(),e.timeout={player:e.gameSession.currentPlayer,gid:e.gameSession.id,tid:e.gameSession.tid,count:"normal"==e.gameSession.gameMode?30:15,ref:e.initCountdown()})},gameStart:function(e){var t=this;Promise.all(e.map(function(e){t.player[e.ghe].setInfo(e.data)}))},game:function(e){e.start&&this.gameStart(e.start)},infoGhe:function(e){var t=this,i=this,n={},a=[];if(1!=this.meMap){var o=this.meMap-1;a=[].concat(e.slice(o),e.slice(0,o))}else a=e;Promise.all(a.map(function(e,t){var a=i.player[t];n[e.ghe]=a,a.setInfo(e.data)})).then(function(){t.player=n})},infoRoom:function(e){this.labelRoom.string=e.id,this.labelBet.string=a.numberWithCommas(e.game)+(e.red?" XO":" XU")},ingame:function(e){this.player[e.ghe].setInfo(e.data)},outgame:function(e){this.player[e].setInfo(null)},backGame:function(){cc.RedT.send({g:{lieng:{outgame:!0}}}),this.loading.active=!0,void 0!==this.timeOut&&clearTimeout(this.timeOut),this.pauseMusic(),cc.director.loadScene("MainGame")},signOut:function(){cc.director.loadScene("MainGame",function(){cc.RedT.inGame.signOut()})},addFriendPopup:function(e,t){n.default.Instance.showAddFriend(this.player[t])},onBtnToggleBoxWatchVideo:function(){var e=this;cc.Tween.stopAllByTarget(this.boxWatchVideo),0==this.isShowboxWatchVideo?(this.isShowboxWatchVideo=!0,this.boxWatchVideo.position=cc.v2(-250,0),this.boxWatchVideo.active=!0,cc.tween(this.boxWatchVideo).to(.25,{position:cc.v2(-20,0)}).start()):(this.isShowboxWatchVideo=!1,cc.tween(this.boxWatchVideo).to(.25,{position:cc.v2(-250,0)}).call(function(){e.boxWatchVideo.active=!0}).start())},onEnable:function(){this.intervalCountDown&&(clearInterval(this.intervalCountDown),this.intervalCountDown=null),this.check5minsWatchEvent()?(this.Progress.fillRange=0,this.time.node.active=!1):this.startCountDown()},onDisable:function(){this.hideCountDown()},hideCountDown:function(){this.intervalCountDown&&(clearInterval(this.intervalCountDown),this.intervalCountDown=null,this.time.node.active=!1)},startCountDown:function(){this.Progress.fillRange=1,this.time.node.active=!0;var e=JSON.parse(localStorage.getItem("timeEventWatch")),t=0;if(e)for(var i=0;i<e.length;i++)if(e[i].username==cc.RedT.user.name){t=e[i].time;break}var n=(t+3e5-Date.now())/1e3;void 0!==this.timeInterval&&clearInterval(this.timeInterval),this.intervalCountDown=setInterval(function(){this.time.string=this.secondsToHms(n),(n-=1)<=0&&(this.Progress.fillRange=0,this.hideCountDown())}.bind(this),1e3)},onClickEventWatchVideo:function(){if(this.check5minsWatchEvent()){n.default.Instance.coinsEventWatch();var e=(new Date).getTime(),t=JSON.parse(localStorage.getItem("timeEventWatch"));if(null!=t){for(var i=0,a=0;a<t.length;a++)if(t[a].username==cc.RedT.user.name){t[a].time=e,i=1;break}1==i?cc.sys.localStorage.setItem("timeEventWatch",JSON.stringify(t)):(t.push({username:cc.RedT.user.name,time:e}),cc.sys.localStorage.setItem("timeEventWatch",JSON.stringify(t)))}else t=[{username:cc.RedT.user.name,time:e}],cc.sys.localStorage.setItem("timeEventWatch",JSON.stringify(t));l.Instance.showRewarded(),this.startCountDown()}},check5minsWatchEvent:function(){var e=(new Date).getTime(),t=JSON.parse(localStorage.getItem("timeEventWatch")),i=null;if(null!=t&&"null"!==t)for(var n=0;n<t.length;n++)t[n].username==cc.RedT.user.name&&(i=t[n].time);return!i||e-(i=parseInt(i))>3e5},secondsToHms:function(e){e=Number(e);var t=Math.floor(e/3600),i=Math.floor(e%3600/60),n=Math.floor(e%3600%60);return(t>0?t+":":"")+(i>0?i+":":"0:")+(n>0?n+"":"0")}}),cc._RF.pop()},{Admob:"Admob",Helper:"Helper",LiengGamePlay:"LiengGamePlay",Notice:"Notice",PokerLobby:"PokerLobby",Poker_Player:"Poker_Player",Poker_dialog:"Poker_dialog",UIPopupManager:"UIPopupManager"}],Loading:[function(e,t){"use strict";cc._RF.push(t,"3c77dQgHnNNhbPFGhB0zhCR","Loading"),cc.Class({extends:cc.Component,properties:{fileLabel:cc.Label,fileProgress:cc.Sprite},start:function(){this.loadConfig(),this.pre_progress=0,this.updateProgress(.3)},updateProgress:function(e){e<this.pre_progress||(this.pre_progress=e,this.fileProgress.fillRange=e,this.fileLabel.string=parseInt(100*e)+"%")},loadConfig:function(){var e=this;cc.assetManager.bundles.find(function(e){return e.getSceneInfo("MainGame")}).loadScene("MainGame",function(t,i){e.updateProgress(.3+t/i*.7)},function(e,t){cc.director.runScene(t)})}}),cc._RF.pop()},{}],MainAudio:[function(e,t){"use strict";cc._RF.push(t,"738b2QcBnhOn7bLV2UFI4l9","MainAudio"),cc.Class({extends:cc.Component,properties:{audioClick:{default:null,type:cc.AudioClip},audioClick2:{default:null,type:cc.AudioClip},audioClick3:{default:null,type:cc.AudioClip},audioSpin:{default:null,type:cc.AudioClip},audioStart:{default:null,type:cc.AudioClip},thongbao_jackpot:{default:null,type:cc.AudioClip},jackpot:{default:null,type:cc.AudioClip},bigWin:{default:null,type:cc.AudioClip},moneywin:{default:null,type:cc.AudioClip},bonus:{default:null,type:cc.AudioClip},megaWin:{default:null,type:cc.AudioClip},winHu:{default:null,type:cc.AudioClip},timer:{default:null,type:cc.AudioClip},chip:{default:null,type:cc.AudioClip},newgame:{default:null,type:cc.AudioClip}},_playSFX:function(e){cc.RedT.IS_SOUND&&cc.audioEngine.playEffect(e,!1)},playClick:function(){this._playSFX(this.audioClick)},playUnClick:function(){this._playSFX(this.audioClick2)},playNoticeJackP:function(){this._playSFX(this.thongbao_jackpot)},playEf:function(e){this._playSFX(this[e])},playBetting:function(){this._playSFX(this.audioClick3)},playSpin:function(){this._playSFX(this.audioSpin)},playStart:function(){this._playSFX(this.audioStart)},playTimer:function(){this._playSFX(this.timer)},playChip:function(){this._playSFX(this.chip)},playNewgame:function(){this._playSFX(this.newgame)}}),cc._RF.pop()},{}],MainGame:[function(e,t){"use strict";cc._RF.push(t,"280c3rsZJJKnZ9RqbALVwtK","MainGame");var i=s(e("Facebook")),n=s(e("./FacebookManager")),a=s(e("UIPopupManager")),o=s(e("ResourceManager"));function s(e){return e&&e.__esModule?e:{default:e}}var c=e("Helper"),r=e("GameConfig"),l=e("EventDispatcher"),h=e("BaseControll"),d=e("Header"),u=e("Dialog"),p=e("PushNohu"),g=e("NewsContents"),m=e("bgLoading"),f=e("Notice"),v=(e("popupTopHu"),e("FireBaseManager"));cc.Class({extends:cc.Component,properties:{PrefabT:{default:[],type:cc.Prefab},header:d,news:cc.Node,newsContents:g,bgLoading:m,iconSlot243:cc.Node,iconSlot243Sap:cc.Node,iconSlotBingo:cc.Node,dialog:u,loading:cc.Node,notice:f,ThongBaoNoHu:p,UIPopupManager:a.default,audioBG:cc.AudioSource,wssCacert:{type:cc.Asset,default:null},url:cc.String,appApk:cc.String,mini_btn:cc.Node,UInoAdsUser:cc.Node},checkShowAllGame:function(){return null==cc.RedT.user||0==cc.RedT.user.showall||cc.RedT.user.showall,!0},changeLanguage:function(e){e&&"undefined"!=e?(cc.sys.localStorage.setItem("user_lang",e),cc.RedT.language=e,this.languageTmp=e):(cc.sys.localStorage.setItem("user_lang","en"),cc.RedT.language="en",this.languageTmp="en"),"vn"==e||"de"==e||"en"==e?(l.dispatchEvent({type:"changeLanguage",data:e}),cc.RedT.send({multi_lang:e})):cc.RedT.Frontendlanguages[e]&&"undefined"!=cc.RedT.Frontendlanguages[e]?(l.dispatchEvent({type:"changeLanguage",data:e}),cc.RedT.send({multi_lang:e})):(l.dispatchEvent({type:"changeLanguage",data:e}),cc.RedT.send({change_lang:"en",multi_lang:"en"}))},onLoad:function(){document.cookie="cyberpoker=2022;path=/",cc.RedT||(cc.RedT=h,cc.RedT.MainGame=this,cc.RedT.sslPem=this.wssCacert,cc.RedT.init(),cc.RedT.audio=this.PrefabT[0].data.getComponent("MainAudio")),cc.RedT.MainGame=this,null==cc.RedT.language&&(cc.RedT.language="en"),cc.RedT.reconnect(),this.newsContents.init(this),cc.RedT.inGame=this,this.mini_btn.active=!1,this.iconSlot243=this.iconSlot243.getComponent("iconGameHu"),this.iconSlot243Sap=this.iconSlot243Sap.getComponent("iconGameHu"),this.iconSlotBingo=this.iconSlotBingo.getComponent("iconGameHu"),cc.RedT.IS_LOGIN?(this.dialog.init(),cc.RedT.send({scene:"home"}),this.header.reset(),this.mini_btn.active=!0,this.header.userName.string=cc.RedT.user.name,this.dialog.profile.CaNhan.username.string=cc.RedT.user.name,this.header.userRed.string=this.dialog.profile.KetSat.redHT.string=c.numberWithCommas(cc.RedT.user.red),this.dialog.profile.KetSat.redKet.string=c.numberWithCommas(cc.RedT.user.ketSat),this.dialog.profile.CaNhan.UID.string=cc.RedT.user.UID,this.dialog.profile.CaNhan.phone.string=cc.RedT.user.phone,this.dialog.profile.CaNhan.joinedOn.string=c.getStringDateByTime(cc.RedT.user.joinedOn),this.updateAvatar(cc.RedT.user.avatar),this.updateFrame(Math.floor(cc.RedT.user.systemLevel/5)-1,this.header.avatar.spriteFrame)):this.dialog.settings.setMusic(),cc.RedT.Social||(this.loading.active=!0),"-1"!==localStorage.getItem("clearCoinsLS")&&(localStorage.removeItem("coinsWatchVideo"),localStorage.removeItem("timeEventWatch"),localStorage.setItem("clearCoinsLS","-1")),AppleNative.onLoginFinished=this.onLoginFinished},start:function(){(null==localStorage.getItem("SOUND_BACKGROUND")||cc.RedT.isSoundBackground())&&(cc.RedT.setSoundBackground(!0),this.playMusic())},auth:function(e){this.loading.active=!0,null==cc.RedT._socket||1!=cc.RedT._socket.readyState?setTimeout(function(){cc.RedT.send(e)},300):cc.RedT.send(e)},unAuthorized:function(e){this.loading.active=!1,void 0!==e.message?this.notice.show({title:"SIGN UP",text:"An error occurred, please try again..."}):this.notice.show(e)},Authorized:function(e){this.loading.active=!1,e?this.signIn():this.dialog.showSignName()},onData:function(e){void 0!==e.unauth&&this.unAuthorized(e.unauth),void 0!==e.multi_lang&&(cc.sys.localStorage.setItem("user_lang",cc.RedT.language),"vn"!=e.multi_lang&&"de"!=e.multi_lang&&"en"!=e.multi_lang&&(cc.RedT.Frontendlanguages[cc.RedT.language]=e.multi_lang),l.dispatchEvent({type:"changeLanguage",data:cc.RedT.language}),this.loading.active=!1),void 0!==e.Authorized&&this.Authorized(e.Authorized),void 0!==e.user&&(void 0!==e.user.showall&&(cc.RedT.user.showall=e.user.showall,this.header.updateShowAll()),null!=e.user.language&&("us"==e.user.language&&(e.user.language="en"),"en"!=e.user.language&&"de"!=e.user.language&&"vn"!=e.user.language&&"cn"!=e.user.language&&"th"!=e.user.language&&"es"!=e.user.language&&(e.user.language="en"),null==cc.sys.localStorage.getItem("user_lang")||""==cc.sys.localStorage.getItem("user_lang")||e.user.language!=cc.sys.localStorage.getItem("user_lang")&&(e.user.language=cc.sys.localStorage.getItem("user_lang")),"cn"==e.user.language||"th"==e.user.language||"kr"==e.user.language||"kh"==e.user.language||"id"==e.user.language||"my"==e.user.language||"ru"==e.user.language||"jp"==e.user.language||"it"==e.user.language||"pt"==e.user.language||"fr"==e.user.language||"es"==e.user.language?this.changeLanguage(e.user.language):cc.RedT.language=e.user.language),this.dataUser(e.user),cc.RedT.userData(e.user),e.user.updateAvatar&&(cc.RedT.user.avatar=e.user.updateAvatar,this.updateAvatar(e.user.updateAvatar)),1==cc.RedT.user.noAdsUser?this.UInoAdsUser.active=!1:this.UInoAdsUser.active=!0),void 0!==e.transfer_user_agency&&this.dialog.shop.ChuyenRed.onDataTransferUserAgency(e.transfer_user_agency),void 0!==e.transfer_user_user&&this.dialog.shop.ChuyenRed.onDataTransferUserUser(e.transfer_user_user),void 0!==e.nap_momo&&cc.RedT.shop.Momo.nap.onData(e),void 0!==e.TopHu&&(cc.RedT.setting.topHu=cc.RedT.setting.topHu||{},cc.RedT.setting.topHu.data=e.TopHu,this.onGetHu()),void 0!==e.Social&&null==cc.RedT.Social&&(cc.RedT.Social=e.Social,this.isUseSDK()&&n.default.Instance.initPluginFacebook()),void 0!==e.Frontendlanguages&&null==cc.RedT.Frontendlanguages&&(cc.RedT.Frontendlanguages=e.Frontendlanguages,null==cc.RedT.Frontendlanguages[cc.sys.localStorage.getItem("lang")]&&this.changeLanguage(cc.sys.localStorage.getItem("user_lang")),this.loading.active=!1,this.dialog.signIn.setLanguageDefault(),cc.sys.localStorage.removeItem("playing_game"),cc.sys.localStorage.removeItem("playing_money"),l.dispatchEvent({type:"changeLanguage",data:cc.RedT.language}),this.dialog.init()),void 0!==e.LocalStorage&&(cc.RedT.LocalStorage=e.LocalStorage,this.openGameServer()),void 0!==e.shop&&this.dialog.shop.onData(e.shop),void 0!==e.profile&&this.dialog.profile.onData(e.profile),void 0!==e.notice&&(this.notice.show(e.notice),a.default.Instance.hideConnectPopup()),void 0!==e.news&&this.newsContents.onData(e.news),void 0!==e.captcha&&this.captcha(e.captcha),void 0!==e.pushnohu&&this.ThongBaoNoHu.onData(e.pushnohu),void 0!==e.loading&&this.bgLoading.onData(e.loading),void 0!==e.event&&this.dialog.DEvent.onData(e.event),e.message&&this.dialog.iMessage.onData(e.message),e.logFBEvent&&null!=v.Instance&&v.Instance.logData(e.logFBEvent),void 0!==e.friends&&this.dialog.friend.onData(e.friends.listOfFriends),e.friend&&(e.friend.addFriend?1==e.friend.addFriend.success?a.default.Instance.notice.show({title:c.getLang(cc.RedT.language,"taixiu_notice"),text:c.getLang(cc.RedT.language,"add_fr_success")}):a.default.Instance.notice.show({title:c.getLang(cc.RedT.language,"taixiu_notice"),text:c.getLang(cc.RedT.language,"already_fr")}):e.friend.confirmFriend&&(1==e.friend.confirmFriend.success?a.default.Instance.notice.show({title:c.getLang(cc.RedT.language,"taixiu_notice"),text:c.getLang(cc.RedT.language,"add_fr_success")}):a.default.Instance.notice.show({title:c.getLang(cc.RedT.language,"taixiu_notice"),text:c.getLang(cc.RedT.language,"already_fr")}))),void 0!==e.top_users&&this.dialog.TopRank.onData(e),void 0!==e.topSlotBingo&&this.dialog.TopRank.onData(e),void 0!==e.topSlotBreak&&this.dialog.TopRank.onData(e),void 0!==e.topSlot243&&this.dialog.TopRank.onData(e),void 0!==e.topTaiXiu&&this.dialog.TopRank.onData(e)},autoLogin:function(){if(cc.sys.localStorage.setItem("isAutoLogin",!0),r.isFirstOpenGame&&(r.isFirstOpenGame=!1,null==cc.sys.localStorage.getItem("isAutoLogin")||"true"==cc.sys.localStorage.getItem("isAutoLogin")))if(null==cc.sys.localStorage.getItem("username")){var e=Date.now(),t="123456";cc.RedT.inGame.auth({authentication:{customer:e,password:t,isStore:r.isStore,store:r.store,version:r.version}}),cc.sys.localStorage.setItem("username",e),cc.sys.localStorage.setItem("password",t),cc.sys.localStorage.setItem("isAutoLogin",!0)}else e=cc.sys.localStorage.getItem("username"),t=cc.sys.localStorage.getItem("password"),this.dialog.showSignIn()},captcha:function(e){switch(e.name){case"signUp":this.dialog.signUp.initCaptcha(e.data);break;case"forgotpass":this.dialog.ForGotPass.initCaptcha(e.data);break;case"chargeCard":this.dialog.shop.NapRed.initCaptcha(e.data);break;case"withdrawXu":this.dialog.shop.TieuRed.MuaXu.initCaptcha(e.data)}},dataUser:function(e){void 0!==e.name&&(this.header.userName.string=e.name,this.dialog.profile.CaNhan.username.string=e.name),void 0!==e.red&&(cc.RedT.user.red=e.red,this.header&&(this.header.userRed.string=c.numberWithCommas(e.red))),void 0!==e.ketSat&&(this.dialog.profile.KetSat.redKet.string=c.numberWithCommas(e.ketSat)),void 0!==e.UID&&this.dialog.profile.CaNhan.UID&&(this.dialog.profile.CaNhan.UID.string=e.UID),void 0!==e.phone&&(this.dialog.profile.CaNhan.phone.string=e.phone,this.dialog.profile.BaoMat.DangKyOTP.statusOTP(!c.isEmpty(e.phone)),c.isEmpty(e.phone)||(this.dialog.profile.BaoMat.DangKyOTP.labelPhone.string=e.phone,cc.sys.localStorage.setItem("infoRed8",JSON.stringify(e)))),void 0!==e.joinedOn&&(this.dialog.profile.CaNhan.joinedOn.string=c.getStringDateByTime(e.joinedOn)),void 0!==e.level&&(this.header.level(e.level),this.header.updateEXP(e.vipHT,e.vipNext)),void 0!==e.avatar&&(cc.RedT.user.avatar=e.avatar,this.updateAvatar(e.avatar)),void 0!==e.facebook&&(cc.RedT.user.facebook=e.facebook),void 0!==e.apple&&(cc.RedT.user.apple=e.apple),void 0!==e.redPlay&&(cc.RedT.user.redPlay=e.redPlay),void 0!==e.systemLevel&&(this.updateFrame(Math.floor(e.systemLevel/5)-1,this.header.frame),cc.RedT.user.systemLevel=e.systemLevel),e.newLevel&&e.oldLevel&&e.bonus&&e.newLevel>e.oldLevel&&(a.default.Instance.notice.show({title:c.getLang(cc.RedT.language,"taixiu_notice"),text:c.getLang(cc.RedT.language,"bonus_level"),button:{type:"bonus_level",text:c.getLang(cc.RedT.language,"receive_bonus")},bonus:{amount:e.bonus}}),cc.RedT.user.systemLevel=e.newLevel)},signOut:function(){a.default.Instance.loading.active=!1,a.default.Instance.hideSetting(),cc.RedT.user={},cc.RedT.user.showall=0,cc.RedT.IS_LOGIN=!1,cc.director.loadScene("MainGame"),cc.sys.localStorage.removeItem("infoRed8")},signIn:function(){if(cc.RedT.IS_LOGIN=!0,this.openGameServer(),a.default.Instance.showEventPop(),this.header.isSignIn(),this.dialog.onBack(),this.dialog.init(),this.mini_btn.active=!0,null!=cc.RedT.LocalStorage){var e=localStorage.getItem("user_lang");cc.RedT.send({multi_lang:e})}},openGameServer:function(){},updateAvatar:function(e){e=parseInt(e),isNaN(e)&&(e=0);var t=o.default.Instance.avatars[e];null!=t&&(this.header.avatar.spriteFrame=t)},AllReset:function(){this.loading.active=!1,this.newsContents.reset(),this.header.isSignOut(),this.dialog.onCloseDialog(),this.dialog.iMessage.reset()},onGetHu:function(){if(void 0!==cc.RedT.setting.topHu.data){var e=this;Promise.all(cc.RedT.setting.topHu.data.slot243.filter(function(e){return 1==e.red})).then(function(t){var i=t.filter(function(e){return 25e4==e.type}),n=t.filter(function(e){return 25e5==e.type}),a=t.filter(function(e){return 25e6==e.type}),o=c.getOnlyNumberInString(e.iconSlot243.pot2.string),s=c.getOnlyNumberInString(e.iconSlot243.pot3.string),r=c.getOnlyNumberInString(e.iconSlot243.pot4.string);o-i.bet_grand!=0&&c.numberTo(e.iconSlot243.pot2,c.getOnlyNumberInString(e.iconSlot243.pot2.string),i[0].bet_grand,4900,!0),s-n.bet_grand!=0&&c.numberTo(e.iconSlot243.pot3,c.getOnlyNumberInString(e.iconSlot243.pot3.string),n[0].bet_grand,4900,!0),r-a.bet_grand!=0&&c.numberTo(e.iconSlot243.pot4,c.getOnlyNumberInString(e.iconSlot243.pot4.string),a[0].bet_grand,4900,!0)}),Promise.all(cc.RedT.setting.topHu.data.slot243Sap.filter(function(e){return 1==e.red})).then(function(t){var i=t.filter(function(e){return 25e4==e.type}),n=t.filter(function(e){return 25e5==e.type}),a=t.filter(function(e){return 25e6==e.type}),o=c.getOnlyNumberInString(e.iconSlot243Sap.pot2.string),s=c.getOnlyNumberInString(e.iconSlot243Sap.pot3.string),r=c.getOnlyNumberInString(e.iconSlot243Sap.pot4.string);o-i.bet!=0&&c.numberTo(e.iconSlot243Sap.pot2,c.getOnlyNumberInString(e.iconSlot243Sap.pot2.string),i[0].bet_grand,4900,!0),s-n.bet!=0&&c.numberTo(e.iconSlot243Sap.pot3,c.getOnlyNumberInString(e.iconSlot243Sap.pot3.string),n[0].bet_grand,4900,!0),r-a.bet!=0&&c.numberTo(e.iconSlot243Sap.pot4,c.getOnlyNumberInString(e.iconSlot243Sap.pot4.string),a[0].bet_grand,4900,!0)}),Promise.all(cc.RedT.setting.topHu.data.slotBingo.filter(function(e){return 1==e.red})).then(function(t){var i=t.filter(function(e){return 25e4==e.type}),n=t.filter(function(e){return 25e5==e.type}),a=t.filter(function(e){return 25e6==e.type}),o=c.getOnlyNumberInString(e.iconSlotBingo.pot2.string),s=c.getOnlyNumberInString(e.iconSlotBingo.pot3.string),r=c.getOnlyNumberInString(e.iconSlotBingo.pot4.string);o-i.bet!=0&&c.numberTo(e.iconSlotBingo.pot2,c.getOnlyNumberInString(e.iconSlotBingo.pot2.string),i[0].bet_grand,4900,!0),s-n.bet!=0&&c.numberTo(e.iconSlotBingo.pot3,c.getOnlyNumberInString(e.iconSlotBingo.pot3.string),n[0].bet_grand,4900,!0),r-a.bet!=0&&c.numberTo(e.iconSlotBingo.pot4,c.getOnlyNumberInString(e.iconSlotBingo.pot4.string),a[0].bet_grand,4900,!0)})}},playMusic:function(){null!=this&&null!=this.audioBG&&this.audioBG.play()},pauseMusic:function(){null!=this&&null!=this.audioBG&&this.audioBG.stop()},resumeMusic:function(){},audioClick:function(){cc.RedT.audio.playClick()},audioClick3:function(){cc.RedT.audio.playBetting()},audioSpin:function(){cc.RedT.audio.playSpin()},audioStart:function(){cc.RedT.audio.playStart()},audioUnClick:function(){cc.RedT.audio.playUnClick()},timer:function(){cc.RedT.audio.playTimer()},chip:function(){cc.RedT.audio.playChip()},fanpage:function(){cc.sys.openURL(cc.RedT.Social.fanpage)},support:function(){cc.sys.openURL(cc.RedT.Social.chat_link)},ios:function(){cc.sys.openURL(this.url+"/help/ios")},android:function(){cc.sys.openURL(this.url+"/download/"+this.appApk)},telegram:function(){cc.sys.openURL(cc.RedT.Social.privacy_link)},chat:function(){cc.sys.openURL(cc.RedT.Social.chat_link)},openPrivate:function(){cc.sys.openURL(cc.RedT.Social.privacy_link)},isUseSDK:function(){return cc.sys.os==cc.sys.OS_ANDROID||cc.sys.os==cc.sys.OS_IOS},onBtnLoginApple:function(){cc.sys.os===cc.sys.OS_IOS?jsb.reflection.callStaticMethod("AppleSignin","showAppleSignin"):this.notice.show({title:"Apple signin",text:"This feature is only available on Apple devices."})},logoutApple:function(){cc.sys.os,cc.sys.OS_IOS},onLoginFinished:function(e,t,i,n,a){e>=0?(cc.RedT.IS_LOGIN?cc.RedT.send({appleconnect:{appleid:t,email:a,first_name:i,name:n}}):cc.RedT.inGame.auth({authentication:{apple:{id:t,email:a,first_name:i,name:n,isStore:r.isStore,store:r.store,version:r.version}}}),cc.sys.localStorage.setItem("isAutoLogin",!1)):-2==e?this.notice.show({title:"Apple signin",text:"The feature does not support iOS 12 and below."}):this.notice.show({title:"Apple signin",text:"The Apple signin feature cannot be used. Plaese try again."})},copyText:function(e){if(cc.sys.isBrowser){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),cc.RedT.inGame.notice.show({title:"NOTICE",text:"Copy successed : "+e})}else cc.sys.os==cc.sys.OS_ANDROID?(jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","CopyPaste","(Ljava/lang/String;)V",e),cc.RedT.inGame.notice.show({title:"NOTICE",text:"Copy successed : "+e})):cc.sys.os==cc.sys.OS_IOS&&(jsb.reflection.callStaticMethod("NativeClass","CopyPaste:",e),cc.RedT.inGame.notice.show({title:"NOTICE",text:"Copy successed : "+e}))},onBtnLoginFb:function(){if(null!=cc.RedT.Social)if(this.isUseSDK())if(sdkbox.PluginFacebook.isLoggedIn()){var e=sdkbox.PluginFacebook.getAccessToken(),t=sdkbox.PluginFacebook.getUserID();cc.RedT.inGame.auth({authentication:{fb:{accessToken:e,userID:t,isStore:r.isStore,store:r.store,version:r.version}}}),cc.sys.localStorage.setItem("isAutoLogin",!1)}else sdkbox.PluginFacebook.login(["public_profile","email"]);else{var n=cc.RedT.Social.fb_app_id;"XO"==r.GameName&&(n=cc.RedT.Social.fb_app_id2);var a="email,public_profile";if(null!=this.sdk)try{FB.getLoginStatus(function(e){"connected"===e.status?(cc.RedT.inGame.auth({authentication:{fb:{accessToken:e.authResponse.accessToken,userID:e.authResponse.userID,isStore:r.isStore,store:r.store,version:r.version}}}),cc.sys.localStorage.setItem("isAutoLogin",!1)):"not_authorized"===e.status||FB.login(self.fbRespone,{scope:a})})}catch(o){}else this.sdk=new i.default(n,a,function(e){if("200"!=e.status)e.response;else{var t=e.response.authResponse;cc.RedT.inGame.auth({authentication:{fb:{accessToken:t.accessToken,userID:t.userID,isStore:r.isStore,store:r.store,version:r.version}}}),cc.sys.localStorage.setItem("isAutoLogin",!1)}})}},onBtnConnectFb:function(){if(null!=cc.RedT.Social)if(this.isUseSDK())if(sdkbox.PluginFacebook.isLoggedIn()){var e=sdkbox.PluginFacebook.getAccessToken(),t=sdkbox.PluginFacebook.getUserID();cc.RedT.send({fbconnect:{accessToken:e,userID:t}}),cc.sys.localStorage.setItem("isAutoLogin",!1)}else sdkbox.PluginFacebook.login(["public_profile","email"]);else{var n=cc.RedT.Social.fb_app_id;"XO"==r.GameName&&(n=cc.RedT.Social.fb_app_id2);var a="email,public_profile";if(null!=this.sdk)try{FB.getLoginStatus(function(e){"connected"===e.status?(cc.RedT.send({fbconnect:{accessToken:e.authResponse.accessToken,userID:e.authResponse.userID}}),cc.sys.localStorage.setItem("isAutoLogin",!1)):"not_authorized"===e.status||FB.login(self.fbRespone,{scope:a})})}catch(o){}else this.sdk=new i.default(n,a,function(e){if("200"!=e.status)e.response;else{var t=e.response.authResponse;cc.RedT.send({fbconnect:{accessToken:t.accessToken,userID:t.userID}}),cc.sys.localStorage.setItem("isAutoLogin",!1)}})}},onBtnConnectPopup:function(){a.default.Instance.showConnectPopup()},updateFrame:function(e,t){if(null!=t){e>4&&(e=4),e=parseInt(e),(isNaN(e)||e<0)&&(e=0);var i=o.default.Instance.frames[e];null!=i&&null!=t&&(t.spriteFrame=i)}}}),cc._RF.pop()},{"./FacebookManager":"FacebookManager",BaseControll:"BaseControll",Dialog:"Dialog",EventDispatcher:"EventDispatcher",Facebook:"Facebook",FireBaseManager:"FireBaseManager",GameConfig:"GameConfig",Header:"Header",Helper:"Helper",NewsContents:"NewsContents",Notice:"Notice",PushNohu:"PushNohu",ResourceManager:"ResourceManager",UIPopupManager:"UIPopupManager",bgLoading:"bgLoading",popupTopHu:"popupTopHu"}],MenuRoom:[function(e,t){"use strict";cc._RF.push(t,"b4e69eoVuxHQo0om02/ZxFC","MenuRoom"),cc.Class({extends:cc.Component,properties:{menu:cc.Node,head:cc.Node,rooms:{default:[],type:cc.Sprite},table1:{default:[],type:cc.SpriteFrame},table2:{default:[],type:cc.SpriteFrame},title:cc.Label,red:!0},onBack:function(){this.menu.active=!0,this.node.active=!1},selectCoint:function(e,t){"red"==t?(this.red=!0,this.changerRoom(!0)):(this.red=!1,this.changerRoom(!1)),Promise.all(this.head.children.map(function(e){e.name==t?(e.children[0].active=!0,e.children[1].color=cc.Color.BLACK):(e.children[0].active=!1,e.children[1].color=cc.Color.WHITE)}))},openGame:function(e){this.game=e,this.title.string=e.title,this.selectCoint(null,"red"),this.menu.active=!1,this.node.active=!0},changerRoom:function(e){var t=this;this.game.table2?e?Promise.all(this.rooms.map(function(e,i){e.spriteFrame=i<4?t.table2[3]:i<8?t.table2[4]:t.table2[5]})):Promise.all(this.rooms.map(function(e,i){e.spriteFrame=i<4?t.table2[0]:i<8?t.table2[1]:t.table2[2]})):e?Promise.all(this.rooms.map(function(e,i){e.spriteFrame=i<4?t.table1[3]:i<8?t.table1[4]:t.table1[5]})):Promise.all(this.rooms.map(function(e,i){e.spriteFrame=i<4?t.table1[0]:i<8?t.table1[1]:t.table1[2]}))},onClickRoom:function(e){this.bet=e.target.name,cc.RedT.audio.playClick(),"poker"==this.game.game&&cc.RedT.inGame.dialog.showPokerNap(this)},onData:function(e){cc.director.loadScene(e)}}),cc._RF.pop()},{}],Menu:[function(e,t){"use strict";cc._RF.push(t,"1763c2/MDpCQ4oC+FaHXfWh","Menu");var i=e("UIPopupManager"),n=e("../../Helper/Helper");cc.Class({extends:cc.Component,properties:{header:cc.Node,games:cc.Node,adsContent:cc.PageView,adsTimeNext:0},onLoad:function(){var e=this;Promise.all(this.games.children.map(function(e){return e.getComponent("iconGame")})).then(function(t){e.games=t}),this.setTimeAds(),this.node._onPreDestroy=function(){clearTimeout(this.adsTime)}.bind(this)},onEnable:function(){this.adsContent.content.on(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.adsContent.content.on(cc.Node.EventType.TOUCH_END,this.setTimeAds,this),this.adsContent.content.on(cc.Node.EventType.TOUCH_CANCEL,this.setTimeAds,this),this.adsContent.content.on(cc.Node.EventType.MOUSE_ENTER,this.eventStart,this),this.adsContent.content.on(cc.Node.EventType.MOUSE_LEAVE,this.setTimeAds,this)},onDisable:function(){this.adsContent.content.off(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.adsContent.content.off(cc.Node.EventType.TOUCH_END,this.setTimeAds,this),this.adsContent.content.off(cc.Node.EventType.TOUCH_CANCEL,this.setTimeAds,this),this.adsContent.content.off(cc.Node.EventType.MOUSE_ENTER,this.eventStart,this),this.adsContent.content.off(cc.Node.EventType.MOUSE_LEAVE,this.setTimeAds,this)},nextAds:function(){this.adsContent._curPageIdx==this.adsContent._pages.length-1?this.adsContent.scrollToPage(0,1.5):this.adsContent.scrollToPage(this.adsContent._curPageIdx+1,.85),this.setTimeAds()},eventStart:function(){clearTimeout(this.adsTime)},setTimeAds:function(){this.eventStart(),this.adsTime=setTimeout(function(){this.nextAds()}.bind(this),1e3*this.adsTimeNext)},onHeadSelect:function(e){Promise.all(this.header.children.map(function(t){t==e.target?(t.children[0].active=!1,t.pauseSystemEvents()):(t.children[0].active=!0,t.resumeSystemEvents())})),Promise.all(this.games.map(function(t){"all"==e.target.name||t[e.target.name]?t.node.active=!0:t.node.active=!1}))},onBtnCommingSoon:function(){cc.RedT.inGame.notice.show({title:"COMING SOON",text:"Game in Development."})},openMiniGame:function(e,t){cc.RedT.MiniPanel[t].openGame()},regGame:function(e,t){cc.RedT.audio.playClick(),cc.RedT.IS_LOGIN?(cc.RedT.inGame.loading.active=!0,cc.RedT.send({g:{reg:t}})):cc.RedT.inGame.dialog.showSignIn()},openGame:function(e,t){cc.RedT.audio.playClick(),cc.RedT.IS_LOGIN?(cc.RedT.inGame.loading.active=!0,cc.director.loadScene(t)):cc.RedT.inGame.dialog.showSignIn()},openTXCL:function(e,t){cc.RedT.MiniPanel.TaiXiu.openGame(null,t)},openMetaRealSlot:function(){cc.sys.openURL("https://apps.apple.com/us/app/meta-real-slots/id1613067229"),cc.sys.os==cc.sys.OS_IOS?cc.sys.openURL("https://apps.apple.com/us/app/meta-real-slots/id1613067229"):i.Instance.notice.show({title:n.getLang(cc.RedT.language,"taixiu_notice"),text:"The version for your device current unvaiable"})},openMetaFishing:function(){cc.sys.os==cc.sys.OS_IOS?cc.sys.openURL("https://apps.apple.com/uy/app/meta-world-fisher/id1613066911"):i.Instance.notice.show({title:n.getLang(cc.RedT.language,"taixiu_notice"),text:"The version for your device current unvaiable"})}}),cc._RF.pop()},{"../../Helper/Helper":"Helper",UIPopupManager:"UIPopupManager"}],Message:[function(e,t){"use strict";var i;function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}cc._RF.push(t,"e0268JjkIdLKJIvm3DyUhb2","Message");var a=(n(i={TITLE_SUCCESS:"Success",TITLE_FAILED:"Error",TIME_OUT_LOADING:"There was an error in the process, please try again",CONNECT_SFS_ERROR:"Unable to connect to the Server",MISSING_INFO:"Please enter all the information. message ",SUCCESS:"Success",FAILURE:"Failure",VERSION:"Version: {0}",CONTACT:"{0}",OTP_FIRST_ACCOUNT:"Activate secure phone number to protect your account.",OTP_ACTIVE_ACCOUNT:"Please Sms <color=yellow>{0}</color> to <color=yellow>{1}</color> to activate OTP",OTP_FORGET_PASSWORD:"Step 1: Sms <color=yellow>{0}</color> to <color=yellow>{1}</color> to get the authentication code",LOGIN_TITLE:"Login",LOGIN_MISSING_USERNAME:"Missing username",LOGIN_MISSING_PASSWORD:"Missing password",LOGIN_MISSING_CAPTCHA:"Missing Captcha",LOGIN_SECURITY_SMS:"To register your login security please compose sms <color=yellow>{0}</color> to <color=yellow>{1}</color>\nTo unsecure your login please sms <color=yellow>{2}</color> to <color=yellow>{3}</color>",LOGIN_SECURITY_SMS_2:"Compose message <color=yellow>{0}</color> to <color=yellow>{1}</color>  to get the OTP",SECURITY_GAME:"Game Management",TIME_LOGIN:"You fail to login too much  nPlease wait few minutes and try agian",REGISTER_TITLE:"Register",REGISTER_MISSING_USERNAME:"Please fill your username",REGISTER_MISSING_PASSWORD:"Please fill your password",REGISTER_MISSING_REPASSWORD:"Please fill your confirm password",REGISTER_REPASSWORD_NOT_CORRECT:"Enter the password incorrectly. Please try again",REGISTER_NOT_AGREE_TERM:"Please confirm the terms of use",FORGET_PASSWORD_TITLE:"Forgot password",FORGET_PASSWORD_MISSING_USERNAME_EMAIL:"Please enter your full username and email",FORGET_PASSWORD_NOT_SUPPORT_FORGET_PASSWORD_BY_PHONE:"We have not supported the password with the phone number",FORGET_PASSWORD_SUCCESS:" Email was successfully sent. Please check your email to get information about the new password",FORGET_PASSWORD_RE_PASSWORD_NOT_CORRECT:" Password is incorrect ",CHANGE_PASSWORD_TITLE:" Change password ",CHANGE_CORRASSWORD_NRE_POT_CORRECT:"Password confirmed incorrect",CHANGE_PASSWORD_GET_OTP:"Please use OTP App to receive OTP or contact QTV for more information ",SET_NICKNAME_TITLE:"Create character",SET_NICKNAME_NICKNAME_NOT_EMPTY:"The character is not empty",OTP_NOT_EMPTY:"OTP code are not allowed to empty",NICKNAME_DIFFERENT_USERNAME:"Character names must not be identical with the account",OTP_LOGIN_TITLE:"Security log enter ",REGISTER_GIFTCODE_WELCOME:"Hi <color=yellow>{0}</color>",UPDATE_DIAMOND:"You are given DIAMONDS. Watch at the SUPERCAR LAUNCH EVENT",LOGOUT_TITLE:"Logout",UPDATE_INFO:"Update personal information",UPDATE_AVATAR_TITLE:"Change avatars",UPDATE_PASSWORD_TITLE:"Change password",FORMAT_PHONE_NOT_CORRECT:"Incorrect phone number format",FORMAT_DOB_NOT_CORRECT:"Incorrect date of birth format",FORMAT_EMAIL_NOT_CORRECT:"Incorrect Email Format",INFO_DOB:"{0}/{1}/{2}",PLAYER_INFO_TITLE:"Th\xf4ng tin ng\u01b0\u1eddi ch\u01a1i",MAIL_TITLE:"Mail",MAIL_DETAIL_TITLE:"Sender: {0} - Time: {1}",MAIL_NOTIFICATION:"You have a new message",RECHARGE_MONEY_SUCCESS:"You have successfully loaded {0} {1}",RECHARGE_MONEY_TITLE:"Load card",RECHARGE_MONEY_HISTORY_NAME:"Load {0} card",RECHARGE_MONEY_HISTORY_NOTE:"Code: {0} - Serial: {1}",NUMBER_MONEY_LARGER_ZERO:"XO must be> 0",RECHARGE_GOLD_SUCCESS:"Change successful",RECHARGE_GOLD_TITLE:"Change Coin",RECHARGE_GOLD_HISTORY_NAME:"Redeem Coins",RECHARGE_GOLD_HISTORY_NOTE:"Number of Coins received: {0}",RECHARGE_SMS_NOTE:"<color=#A17E1A><i>Recharge {0} recive {1} XO</i></c>",RECHARGE_SMS_MSG:"Compose sms <color=yellow>{0}</color> to <color=green>{1}</color>",RECHARGE_SMS_TENDANGNHAP:"username",RECHARGE_SMS_HISTORY_NAME:"Recharge with sms",RECHARGE_BANKING_TITLE:"Deposit Banking",AWARD_TITLE:"",AWARD_DESCRIBE:"Change {0} card",NUMBER_CARDS_LARGER_ZERO:"Number of cards must be> 0",TRANSFER_TITLE:"Transfer",VALUE_LARGER_ZERO:"The XO must be> 0",RE_NICKNAME_NOT_CORRECT:"Confirmed nickname incorrect",TRANSFER_LOCKED:"Transfer function is temporarily locked",TRANSFER_OTP:"Sms <color=yellow>{0}</color> to <color=yellow>{1}</color>",SAFE_TITLE:"Safe",SAFE_NOT_ACTIVE_PHONE:"Please secure your account by phone number to withdraw money",SAFE_GET_OTP:"Sms: <color = #F0FF40>{0}</color> g\u1eedi <color = #F0FF40>{1}</color> \u0111\u1ec3 l\u1ea5y m\xe3 x\xe1c th\u1ef1c",HISTORY_TITLE:"History",TOP_TITLE:"Ranking",GIFTCODE_TITLE:"Gift Code",GIFTCODE_NOT_ACTIVE:"Please keep it safe to use a Gift Code",CAPCHA_NOT_CORRECT:"Incorrect validation code",CHAT_MESSAGE:"<color=4bcaee><b>{0}: </b></color>{1}",CHAT_VIP_MESSAGE:"<color=4bcaee><b>{0}: </b></color>{1}",CHAT_MESSAGE_FAIL:"<color=red><i>{0}</i></color>",CHAT_GAME_MESSAGE:"<color=fecb6e><b>{0}: </b></color>{1}",CHAT_TAI_XIU_MESSAGE:"<color=04fd4a><b>{0}: </b></color>{1}",CHAT_TAI_XIU_VIP_MESSAGE:"<color=04fd4a><b>{0}: </b></color>{1}",CHAT_SLOT_2_MESSAGE:"<color=#DE9100><b>{0}: </b></color><color=#C3C2C3>{1}</color>",TAIXIU_YOU_ONLE_BET_A_DOOR:"You can only book one door",JOIN_ROOM_TITLE:"Select room",NOT_ENOUGH_MONEY_TO_JOIN_GAME:"You need at least {0} {1} to play the game",NOT_ENOUGH_MONEY_TO_STAY_GAME:"You need {0} {1} to continue playing the game!",JOIN_ROOM_ERROR:"The game room is currently locked",INTIVE_TITLE:"Invite you",NOTIFICATION_TITLE:"Notice",MONEY:"XO",GOLD:"COIN",VIETTEL:"Vietel",MOBIFONE:"Mobifone",VINAPHONE:"Vinaphone",GATE:"Gate",TOP_UP_ITEM_VALUE:"Card {0}",CHARGE_CARD_ITEM_VALUE:"{0}\u0110",TAI_XIU:"Dai Xiu",MINI_POKER:"Mini Poker",MINI_BACAY:"Mini 3 Cay",DIAMOND:"Zombies",BAU_CUA:"Bau cua",LUCK_WHEEL:"Lucky wheel",TREN_DUOI:"High Low",DIAMOND_2:"Jewel",SLOT4:"XO Kingdom",BOM:"Galaxy",INVITE_MESSAGE:"Ng\u01b0\u1eddi ch\u01a1i <color=green>{0}</color> m\u1eddi b\u1ea1n v\xe0o game <color=green>{1}</color>\nM\u1ee9c c\u01b0\u1ee3c: <color=yellow>{2} {3}</color>",GAME_DESCRIBE_TABLE_NAME:"{0} - Table {1} - Session {2}",GAME_DESCRIBE_TABLE_BET:"Stake: {0} {1}",REQUEST_LEFT_ROOM:"Leaving the table successfully registered",IGNORE_REQUEST_LEFT_ROOM:"Cancel successfully left table",BACAY_WIN_ALL:"B\u1eaeT C\u1ea2 L\xc0NG",BACAY_LOSE_ALL:"PH\xc1T L\u01af\u01a0NG",BACAY_BET_PRIVATE_BUTTON:"\u0110\xc1NH BI\xcaN T\u1ea4T C\u1ea2 ({0})",MAU_BINH_BINH_LUNG_NOT_COMPLETE:"Binh l\u1ee7ng kh\xf4ng th\u1ec3 ho\xe0n th\xe0nh",MAU_BINH_KHONG_HOP_LE:"KH\xd4NG H\u1ee2P L\u1ec6",MAU_BINH_THUNG_PHA_SANH_LON:"TH\xd9NG PH\xc1 S\u1ea2NH \u0110\u1ea0I",MAU_BINH_THUNG_PHA_SANH:"TH\xd9NG PH\xc1 S\u1ea2NH",MAU_BINH_TU_QUY:"T\u1ee8 QU\xdd",MAU_BINH_CU_LU:"C\xd9 L\u0168",MAU_BINH_THUNG:"TH\xd9NG",MAU_BINH_SANH_DAI:"S\u1ea2NH \u0110\u1ea0I",MAU_BINH_SANH_NHI:"S\u1ea2NH NH\u1eca",MAU_BINH_SANH_THUONG:"S\u1ea2NH",MAU_BINH_SAM:"S\xc1M",MAU_BINH_THU:"TH\xda",MAU_BINH_DOI:"\u0110\xd4I",MAU_BINH_MAU_THAU:"M\u1eacU TH\u1ea6U",MAU_BINH_COMPLETED:"HO\xc0N TH\xc0NH",MAU_BINH_RONG_CUON:"R\u1ed2NG CU\u1ed0N",MAU_BINH_SANH_RONG:"S\u1ea2NH R\u1ed2NG",MAU_BINH_MUOI_BA_LA_CUNG_MAU:"\u0110\u1ed2NG HOA",MAU_BINH_NAM_DOI_MOT_SAM:"N\u0102M \u0110\xd4I M\u1ed8T S\xc1M",MAU_BINH_LUC_PHE_BON:"L\u1ee4C PH\xc9 B\xd4N",MAU_BINH_BA_THUNG_TAI_BA_CHI:"BA TH\xd9NG BA CHI",MAU_BINH_BA_SANH_TAI_BA_CHI:"BA S\u1ea2NH BA CHI",MAU_BINH_THUNG_PHA_SANH_CHI_DAU:"TH\xd9NG PH\xc1 S\u1ea2NH CHI \u0110\u1ea6U",MAU_BINH_TU_QUY_CHI_DAU:"T\u1ee8 QU\xdd CHI \u0110\u1ea6U",MAU_BINH_THUNG_PHA_SANH_CHI_GIUA:"TH\xd9NG PH\xc1 S\u1ea2NH CHI GI\u1eeeA",MAU_BINH_TU_QUY_CHI_GIUA:"T\u1ee8 QU\xdd CHI GI\u1eeeA",MAU_BINH_CU_LU_CHI_GIUA:"C\xd9 L\u0168 CHI GI\u1eeeA",MAU_BINH_SAM_CHI_CUOI:"S\xc1M CHI CU\u1ed0I",MAU_BINH_BINH_LUNG:"BINH L\u1ee6NG",MAU_BINH_SAP_BA_CHI:"S\u1eacP BA CHI",MAU_BINH_THANG_BA_CHI:"TH\u1eaeNG BA CHI",MAU_BINH_CHI_TYPE:"{0} . {1}",TLMN_IGNORE_TURN:"B\u1ece L\u01af\u1ee2T",TLMN_BA_DOI_THONG:"BA \u0110\xd4I TH\xd4NG",TLMN_BON_DOI_THONG:"B\u1ed0N \u0110\xd4I TH\xd4NG",TLMN_MOT_TU_QUY:"T\u1ee8 QU\xdd",TLMN_CONG:"C\xd3NG",TLMN_THOI_HAI:"TH\u1ed0I HAI",TLMN_THOI_BA_DOI_THONG:"TH\u1ed0I BA \u0110\xd4I TH\xd4NG",TLMN_THOI_TU_QUY:"TH\u1ed0I T\u1ee8 QU\xdd",TLMN_THOI_BON_DOI_THONG:"TH\u1ed0I B\u1ed0N \u0110\xd4I TH\xd4NG",TLMN_SANH_RONG:"S\u1ea2NH R\u1ed2NG",TLMN_SAU_DOI_THONG:"S\xc1U \u0110\xd4I TH\xd4NG",TLMN_BON_BO_BA:"B\u1ed0N B\u1ed8 BA",TLMN_HAI_BO_TU_QUY:"HAI B\u1ed8 T\u1ee8 QU\xdd",TLMN_MUOI_HAI_CON_DONG_CHAT:"\u0110\u1ed2NG HOA",TLMN_NAM_DOI_THONG:"N\u0102M \u0110\xd4I TH\xd4NG",TLMN_TU_HAI:"T\u1ee8 QU\xdd HAI",TLMN_SAU_DOI:"S\xc1U \u0110\xd4I",TLMN_CHAN_KET_BA_BICH:"CH\u1eb6N K\u1ebeT BA B\xcdCH",TLMN_KET_BA_BICH:"K\u1ebeT BA B\xcdCH",SAM_BAO_MOT:"B\xc1O 1",SAM_THANG_BAO_MOT:"TH\u1eaeNG B\xc1O 1",SAM_THUA_BAO_MOT:"THUA B\xc1O 1",SAM_IGNORE_TURN:"B\u1ece L\u01af\u1ee2T",SAM_XIN_SAM:"XIN S\xc2M",SAM_CONG:"C\xd3NG",SAM_THOI_HAI:"TH\u1ed0I HAI",SAM_THUA_SAM:"THUA S\xc2M",SAM_THANG_SAM:"TH\u1eaeNG S\xc2M",POKER_CHECK:"XEM",POKER_FOLD:"B\u1ece B\xc0I",POKER_ALL_IN:"ALL IN",POKER_RAISE:"T\u1ed0",POKER_CALL:"THEO",POKER_THUNG_PHA_SANH_LON:"TH\xd9NG PH\xc1 S\u1ea2NH \u0110\u1ea0I",POKER_THUNG_PHA_SANH:"TH\xd9NG PH\xc1 S\u1ea2NH",POKER_TU_QUY:"T\u1ee8 QU\xdd",POKER_CU_LU:"C\xd9 L\u0168",POKER_THUNG:"TH\xd9NG",POKER_SANH_DAI:"S\u1ea2NH \u0110\u1ea0I",POKER_SANH_NHI:"S\u1ea2NH NH\u1eca",POKER_SANH_THUONG:"S\u1ea2NH",POKER_SAM:"S\xc1M",POKER_THU:"TH\xda",POKER_DOI:"\u0110\xd4I",POKER_BAI_CAO:"B\xc0I CAO",LIENG_CHECK:"XEM",LIENG_FOLD:"B\u1ece B\xc0I",LIENG_ALL_IN:"ALL IN",LIENG_RAISE:"T\u1ed0",LIENG_CALL:"THEO",LIENG_SAP:"S\xc1P",LIENG_LIENG:"LI\xcaNG",LIENG_BO_DOI:"B\u1ed8 \u0110\u1ed8I",LIENG_BET_TEXT:"{0} ({1})",XOC_DIA_REGISTER_FORM_MESSAGE_HOME:"Host",XOC_DIA_REGISTER_FORM_MESSAGE_WAITING:"Waiting",XOC_DIA_REGISTER_FORM_MESSAGE_IGNORE:"Take a break from work",XOC_DIA_START_REGISTER_HOST:"Start host registration",XOC_DIA_WAIT_NEXT_GAME:"Wait to start a new game",XOC_DIA_START_BET:"Please bet",XOC_DIA_BUY_SELL_DOOR:"Time for sale and purchase",XOC_DIA_NOT_TIME_TO_BET:"Not the time to book doors",XOC_DIA_NOT_SELECT_CHIP:"You have not selected the bet",XOC_DIA_BALANCE_DOOR:"Door balance",XOC_DIA_RESULT:"The game is over",XOC_DIA_NOT_BET_NO_HOST:"Can't set this door without the thing",XOC_DIA_HOST_NOT_BET:"Host cannot be set",XOC_DIA_ID:"# {0}",PHOM_SELECT_ONE_CARD:"B\u1ea1n ch\u01b0a ch\u1ecdn b\xe0i",PHOM_PLEASE_BOC_BAI:"B\u1ea1n ch\u01b0a b\u1ed1c b\xe0i",PHOM_PLEASE_SELECT_CARDS_HA:"Vui l\xf2ng ch\u1ecdn ph\u1ecfm c\u1ea7n h\u1ea1",PHOM_AN_CHOT:"\u0102N CH\u1ed0T",PHOM_BI_AN_CHOT:"B\u1eca \u0102N CH\u1ed0T",PHOM_U:"\xd9",PHOM_U_KHAN:"\xd9 KHAN",PHOM_U_TRON:"\xd9 TR\xd2N",PHOM_U_DEN:"\xd9 \u0110\u1ec0N",PHOM_DEN:"\u0110\u1ec0N L\xc0NG",PHOM_NHAT:"NH\u1ea4T",PHOM_NHI:"NH\xcc",PHOM_BA:"BA",PHOM_BET:"B\xc9T",PHOM_MOM:"M\xd3M",PHOM_SCORE:"{0} \u0110I\u1ec2M",XITO_CHECK:"XEM",XITO_FOLD:"B\u1ece B\xc0I",XITO_ALL_IN:"ALL IN",XITO_RAISE:"T\u1ed0",XITO_CALL:"THEO",XITO_THUNG_PHA_SANH:"TH\xd9NG PH\xc1 S\u1ea2NH",XITO_TU_QUY:"T\u1ee8 QU\xdd",XITO_CU_LU:"C\xd9 L\u0168",XITO_THUNG:"TH\xd9NG",XITO_SANH:"S\u1ea2NH",XITO_SAM:"S\xc1M",XITO_THU:"TH\xda",XITO_DOI:"\u0110\xd4I",XITO_BAI_CAO:"B\xc0I CAO",SLOT_NOT_CHANGE_BET:"Current status cannot change the bet",SLOT_NOT_AUTO_SPIN:"Current status cannot be rotated automatically",SLOT_NOT_TEST:"Current status cannot be trialed",SLOT_BONUS_GAME_FINISH:"Congratulations on your receipt <color=yellow>{0} XO </color>",SLOT_CANCEL_BACK:"Please wait for the round to end",SLOT_NOT_CHANGE_SELECT_LINE:"Can not currently select the line in current status",PLAYING_NOT_CHANGE_BET:"Wait all the time to change the door",PLAYING_NOT_CHANGE_MONEY_TYPE:"Wait all the time to change currency",AUTO_SPIN_NOT_CHANGE_BET:"Auto recording cannot change the setting door",AUTO_SPIN_NOT_CHANGE_MONEY_TYPE:"Auto recording cannot be changed currency",SPIN_TOO_FAST:"Spin too fast",GAME_STOP_SPIN:"Please wait for the spin to finish",MINIGAME_ID:"# {0}",TAIXIU_HISTORIES_DETAIL:"Session {0} - {1}",TAIXIU_BALANCE_DOOR:"Pay for the door",TAIXIU_YOU_NOT_BET:"Please enter your stake",TAIXIU_CHAIN_WIN:"Chain wins: {0}",TAIXIU_CHAIN_LOSE:"Chain lost: {0}",TRENDUOI_CLICK_PLAY:"Click PLAY to start playing",TRENDUOI_STOP_SPINING:"Please wait for the spin to finish",TRENDUOI_FINISH:"End",TRENDUOI_LOSE:"You lost. Good luck next time",BAU_CUA_NEXT_TURN:"Next Round",BAU_CUA_BET:"Place a bet",BAU_CUA_TOP_WEEK_TITLE:"Top of the week"},"TAIXIU_CHAIN_WIN","Present: {0}"),n(i,"TAIXIU_CHAIN_LOSE","Present: {0}"),n(i,"TAIXIU_CHAIN","Faint rope race event"),n(i,"TAIXIU_CURRENT_CHAIN_WIN","Longest: {0}"),n(i,"TAIXIU_CURRENT_CHAIN_LOSE","Longest: {0}"),n(i,"DRAGON_TIGER_CHAIN_WIN","Longest: {0}"),n(i,"DRAGON_TIGER_CHAIN_LOSE","Longest: {0}"),n(i,"DRAGON_TIGER_CURRENT_CHAIN_WIN","Present: {0}"),n(i,"DRAGON_TIGER_CURRENT_CHAIN_LOSE","Present: {0}"),n(i,"DRAGON_TIGER_CHAIN","Tiger Rope Race Event"),n(i,"DRAGON_TIGER_NO_BET_SELECTED","Please choose the bet"),n(i,"MINI_GAME_RANK_TITLE","CHART"),n(i,"MINI_GAME_RANK_TITLE_TAI_XIU","FAINTING RANKINGS"),n(i,"MINI_GAME_RANK_TITLE_CHAN_LE","PAR CHART"),n(i,"DIAMOND_NO_LINE_SELECTED","You haven't selected the betting line"),n(i,"PIRATE_NO_LINE_SELECTED","You haven't selected the betting line"),n(i,"LUCKY_WHEEL_IS_SPINING","Please wait for the rotation to end"),n(i,"LUCKY_WHEEL_CONGRATULATION","Congratulations on receiving rewards from the Lucky Spin"),n(i,"FIREFISH_MIN_BET","MIN = {0} {1}"),n(i,"FIREFISH_FISHED","Player <color=#FA3030>{0}</color> both kills <color=#56EA00>{1}</color> receives <color=#FAFF1A>{2}</color> {3}"),n(i,"FORGET_PASSWORD_NOTIFICATION","Please contact BQT via Fanpage or Hotline: for immediate support!"),n(i,"SLOT_NOT_CHANGE_SPIN","Please wait for the round to end"),n(i,"SLOT2_NOT_SELECT_LINE","Please select the betting line."),n(i,"SLOT2_AUTOSPIN_NOT_CHANGE","In auto-rotation mode. You can't do this"),n(i,"SLOT2_RANK_1","Congratulations <color = #F7A200>{0}</color> won Jar <color = #F7A200>{1}</color> XO at {2}"),n(i,"SLOT2_RANK_2","Account <color = #F7A200>{0}</color> win <color = #F7A200>{1}</color> XO {2} previous"),n(i,"SLOT2_HISTORY","You play {0} room and get <color = #F7A200>{1}</color> {2} front"),n(i,"SLOT2_NOT_PLAY","Please wait for the rotation to end"),n(i,"SLOT3_NOT_SELECT_LINE","Please select the betting line."),n(i,"SLOT3_AUTOSPIN_NOT_CHANGE","In auto-rotation mode. You can't do this"),n(i,"SLOT3_RANK_1","Congratulations <color = #F7A200>{0}</color> won the jar <color = #F7A200>{1}</color> XO at {2}"),n(i,"SLOT3_RANK_2","Account <color = #F7A200>{0}</color> win <color = #F7A200>{1}</color> XO {2}"),n(i,"SLOT3_HISTORY","You play {0} room and get <color = #F7A200>{1}</color> {2} front"),n(i,"MESSAGE_FORBIDDEN,",["napXO"]),n(i,"SPLASH_GET_GET_DATA","Loading games ..."),n(i,"SPLASH_GET_CONFIG_FAILED","Get data failed"),n(i,"LOTTERY_NOT_NUMBER","Please select number"),n(i,"LOTTERY_NOT_BET","Please choose the bet"),n(i,"LOTTERY_SELECT_LO","Select any number. You will win when that number is in the result table"),n(i,"LOTTERY_SELECT_DE","Select any number. You will win the bet when the number enters the special prize (last prize)"),n(i,"LOTTERY_SELECT_CHAN","Bet all even numbers. You will win bets when the result is at least 14 even numbers"),n(i,"LOTTERY_SELECT_LE","Bet all odds. You will win bets when the result is at least 14 odd numbers"),n(i,"LOTTERY_SELECT_DAU","Select the sequence of numbers that start with the number you choose. You will win bets when you have results starting with the number you have chosen"),n(i,"LOTTERY_SELECT_DUOI","Select the sequence of numbers that end with the number you choose. You will win bets when there are results that end with the number you have chosen"),n(i,"LOTTERY_SELECT_TRANG","Select all the numbers in the white box. You win when the result is about at least 14 numbers in the white box"),n(i,"LOTTERY_SELECT_DO","Select all the numbers in the red box. You win when the result is about at least 14 numbers in the red box"),n(i,"LOTTERY_SELECT_XIEN_2","Select any 2 numbers. You will win bets when both numbers are in the result group"),n(i,"LOTTERY_SELECT_XIEN_3,","Select any 3 numbers. You will win bets when all three numbers are in the result group"),n(i,"LOTTERY_SELECT_XIEN_4,","Select any 4 numbers. You will win bets when all four numbers are in the result group"),n(i,"LOTTERY_SELECT_HU","Select any 10 numbers. You will win 50% of the jar when the result does not have 10 selected numbers (slide), 10k bet fee"),n(i,"LOTTERY_SELECT_REBETS","Re-bet all your booking information the previous session"),n(i,"LOTTERY_FIRST_BETS_NOT_SELECT","Previous session you did not bet"),n(i,"LOTTERY_BETS_NOT_FORMAT","Number of numbers that are not true to the bet type"),n(i,"LOTTERY_NOT_CHANGE_BET","Please place a during or re-bet"),n(i,"LOTTERY_NOT_START","New rotation has not been started"),n(i,"LOTTERY_SELECT_TYPE","Please choose bet type"),n(i,"LOTTERY_BET_DE","<b>Lo</b>: {0} - ({1})"),n(i,"LOTTERY_BET_LO","<b>De</b>: {0} - ({1})"),n(i,"LOTTERY_BET_XIEN_2","<b>Streak 2</b>: {0} - ({1})"),n(i,"LOTTERY_BET_XIEN_3","<b>Streak 3</b>: {0} - ({1})"),n(i,"LOTTERY_BET_XIEN_4","<b>Streak 4</b>: {0} - ({1})"),n(i,"LOTTERY_BET_CHAN","<b>Even</b>: ({0})"),n(i,"LOTTERY_BET_LE","<b>Odd</b>: ({0})"),n(i,"LOTTERY_BET_DAU","<b>Head</b>: {0} - ({1})"),n(i,"LOTTERY_BET_DUOI","<b>Tail</b>: {0} - ({1})"),n(i,"LOTTERY_BET_DO","<b>Red</b>: ({0})"),n(i,"LOTTERY_BET_TRANG","<b>White</b>: ({0})"),n(i,"LOTTERY_BET_HU","<b>Pot</b>: {0} - ({1})"),n(i,"LOTTERY_BET_DE_2","<b>De</b>: {0} - ({1})"),n(i,"LOTTERY_BET_HU_2","<b>Pot</b>: {0} - ({1})"),n(i,"LOTTERY_CHAT","<color = #FCC63C>Congrate account {0} won {1} ({2})</color>"),i);t.exports=a,cc._RF.pop()},{}],MileStone:[function(e,t){"use strict";cc._RF.push(t,"a9458EFOF1GQKekZIIAxc/y","MileStone");var i=cc.Class({extends:cc.Component,properties:{nodeMileStone:cc.Node,spriteProgress:cc.Sprite},statics:{Instance:null},init:function(){i.Instance=this},calculateTimes:function(){var e=(new Date).setHours(24,0,0,0),t=JSON.parse(localStorage.getItem("MileStoneWatch")),i={first:!1,second:!1,third:!1,fourth:!1};if(null!=t)for(var n=0;n<t.length;n++){if(t[n].username==cc.RedT.user.name){var a=this.resetNextday(t[n]);a.times++,t[n]=a,cc.sys.localStorage.setItem("MileStoneWatch",JSON.stringify(t)),this.checkPrizes(t[n].times,t[n].received);break}t.push({username:cc.RedT.user.name,times:1,received:i,nextday:e}),cc.sys.localStorage.setItem("MileStoneWatch",JSON.stringify(t))}else t=[{username:cc.RedT.user.name,times:1,received:i,nextday:e}],cc.sys.localStorage.setItem("MileStoneWatch",JSON.stringify(t))},checkPrizes:function(e,t){this.nodeMileStone&&this.spriteProgress&&(Promise.all(this.nodeMileStone.children.map(function(i,n){i.name<=e?(i.opacity=255,i.children[2].active=!1,0==t[Object.keys(t)[n]]?(i.children[0].active=!1,i.children[1].active=!0):(i.children[0].active=!0,i.children[1].active=!1)):(i.opacity=155,i.children[0].active=!1,i.children[2].active=!0,i.children[1].active=!0)})),this.spriteProgress.fillRange=e/10)},claimPrize:function(e,t){switch(t){case"first":this.nodeMileStone.children[0].children[0].active=!0,this.nodeMileStone.children[0].children[1].active=!1,cc.RedT.send({user:{refundVideoPoker:!0,amount:1e4,notice:!0}});break;case"second":this.nodeMileStone.children[1].children[0].active=!0,this.nodeMileStone.children[1].children[1].active=!1,cc.RedT.send({user:{refundVideoPoker:!0,amount:1e5,notice:!0}});break;case"third":this.nodeMileStone.children[2].children[0].active=!0,this.nodeMileStone.children[2].children[1].active=!1,cc.RedT.send({user:{refundVideoPoker:!0,amount:3e5,notice:!0}});break;case"fourth":this.nodeMileStone.children[3].children[0].active=!0,this.nodeMileStone.children[3].children[1].active=!1,cc.RedT.send({user:{refundVideoPoker:!0,amount:5e5,notice:!0}})}for(var i=JSON.parse(localStorage.getItem("MileStoneWatch")),n=0;n<i.length;n++)i[n].username==cc.RedT.user.name&&(i[n].received[t]=!0);cc.sys.localStorage.setItem("MileStoneWatch",JSON.stringify(i))},checkReceivedAll:function(){var e=JSON.parse(localStorage.getItem("MileStoneWatch")).find(function(e){return e.username===cc.RedT.user.name});for(var t in e.received)if(0==e.received[t])return!1;return!0},resetNextday:function(e){var t=new Date;return t-e.nextDay<0?(e.nextDay=t.setHours(24,0,0,0),Object.keys(e.received).forEach(function(t){e.received[t]=!1}),e):e},closeMileStone:function(){this.node.active=!1},openMilestone:function(){var e=0,t=JSON.parse(localStorage.getItem("MileStoneWatch"));if(null!=t)for(var i=0;i<t.length;i++)if(t[i].username==cc.RedT.user.name){this.checkPrizes(t[i].times,t[i].received),e=1;break}1!=e&&this.checkPrizes(0,{first:!1,second:!1,third:!1,fourth:!1}),this.node.active=!0}});t.exports=i,cc._RF.pop()},{}],Mini3Cay_history:[function(e,t){"use strict";var i;cc._RF.push(t,"1e051nPL7JFfrzu7siEPQ+Q","Mini3Cay_history");var n=e("Helper"),a=e("UIPopupManager");cc.Class(((i={extends:cc.Component,properties:{background:cc.Node,page:cc.Prefab,content:cc.Node,cointRed:cc.Node,cointXu:cc.Node,red:!0},show:function(){this.setTop()},hide:function(){a.Instance.hideGameMini3Cay_history()},onEnable:function(){this.get_data(),this.background.on(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.background.on(cc.Node.EventType.TOUCH_MOVE,this.eventMove,this),this.background.on(cc.Node.EventType.TOUCH_END,this.eventEnd,this),this.background.on(cc.Node.EventType.TOUCH_CANCEL,this.eventEnd,this)},onDisable:function(){this.background.off(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.background.off(cc.Node.EventType.TOUCH_MOVE,this.eventMove,this),this.background.off(cc.Node.EventType.TOUCH_END,this.eventEnd,this),this.background.off(cc.Node.EventType.TOUCH_CANCEL,this.eventEnd,this)},eventStart:function(e){this.setTop(),this.ttOffset=cc.v2(e.touch.getLocationX()-this.node.position.x,e.touch.getLocationY()-this.node.position.y)},eventMove:function(e){this.node.position=cc.v2(e.touch.getLocationX()-this.ttOffset.x,e.touch.getLocationY()-this.ttOffset.y)},eventEnd:function(){},setTop:function(){this.node.parent.insertChild(this.node)},onLoad:function(){var e=this;this.page=cc.instantiate(this.page),this.page.y=-307,this.node.addChild(this.page),this.page=this.page.getComponent("Pagination"),Promise.all(this.content.children.map(function(e){return e.getComponent("Mini3Cay_ihistory")})).then(function(t){e.content=t}),this.page.init(this)}}).onEnable=function(){this.get_data()},i.get_data=function(e){void 0===e&&(e=1),cc.RedT.send({g:{mini3cay:{logs:{red:this.red,page:e}}}})},i.changerCoint=function(){this.red=!this.red,this.cointRed.active=!this.cointRed.active,this.cointXu.active=!this.cointXu.active,this.get_data()},i.onData=function(e){this.page.onSet(e.page,e.kmess,e.total),Promise.all(this.content.map(function(t,i){var a=e.data[i];void 0!==a?(t.node.active=!0,t.time.string=n.getStringDateByTime(a.time),t.phien.string=a.id,t.cuoc.string=n.numberWithCommas(a.bet),t.win.string=n.numberWithCommas(a.win),Promise.all(t.kq.map(function(e,t){e.spriteFrame=cc.RedT.util.card.getCard(a.kq[t].card,a.kq[t].type)}))):t.node.active=!1}))},i)),cc._RF.pop()},{Helper:"Helper",UIPopupManager:"UIPopupManager"}],Mini3Cay_ihistory:[function(e,t){"use strict";cc._RF.push(t,"d4891jUjldP9bIGVML2EuXS","Mini3Cay_ihistory"),cc.Class({extends:cc.Component,properties:{time:cc.Label,phien:cc.Label,cuoc:cc.Label,kq:{default:[],type:cc.Sprite},win:cc.Label}}),cc._RF.pop()},{}],Mini3Cay_reel:[function(e,t){"use strict";cc._RF.push(t,"8defcIVF4lEJoEox0Os2KJA","Mini3Cay_reel"),cc.Class({extends:cc.Component,init:function(e){var t=this;this.RedT=e,this.card=[];var i=this;Promise.all([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].map(function(){var e=cc.instantiate(i.RedT.cardf);return e.width=73.45,e.height=104.65,i.node.addChild(e),e.getComponent(cc.Sprite)})).then(function(e){t.card=e,t.random(!0)})},random:function(e){void 0===e&&(e=!1),Promise.all(this.card.map(function(t,i){e?t.spriteFrame=cc.RedT.util.card.random(9):0!==i&&20!==i&&(t.spriteFrame=cc.RedT.util.card.random(9))}))},spin:function(e){this.node.stopAllActions();var t=cc.moveTo(this.RedT.speed(),cc.v2(this.node.x,-(this.node.height-104.65))).easing(cc.easeInOut(3)),i=cc.callFunc(function(){this.card[20].spriteFrame=this.card[0].spriteFrame,this.node.y=0},this);if(2===e){cc.callFunc(function(){this.RedT.isAuto?this.RedT.sendSpin():this.RedT.offSpin()},this);var n=cc.callFunc(function(){this.RedT.hieuUng()},this);this.node.runAction(cc.sequence(cc.delayTime(.1*e),t,i,cc.delayTime(.1),n))}else this.node.runAction(cc.sequence(cc.delayTime(.1*e),t,i))},stop:function(){this.node.stopAllActions(),void 0!==this.card&&void 0!==this.card[20]&&void 0!==this.card[20].spriteFrame&&(this.card[20].spriteFrame=this.card[0].spriteFrame),this.node.y=0}}),cc._RF.pop()},{}],Mini3Cay_top:[function(e,t){"use strict";cc._RF.push(t,"2c6da1F/j5K0YtLq6E2eBDu","Mini3Cay_top");var i=e("Helper"),n=e("UIPopupManager");cc.Class({extends:cc.Component,properties:{background:cc.Node,item:cc.Prefab,content:cc.Node,cointRed:cc.Node,cointXu:cc.Node,red:!0},show:function(){this.setTop()},hide:function(){n.Instance.hideGameMini3Cay_top()},onEnable:function(){this.get_data()},onDisable:function(){},eventStart:function(e){this.setTop(),this.ttOffset=cc.v2(e.touch.getLocationX()-this.node.position.x,e.touch.getLocationY()-this.node.position.y)},eventMove:function(e){this.node.position=cc.v2(e.touch.getLocationX()-this.ttOffset.x,e.touch.getLocationY()-this.ttOffset.y)},eventEnd:function(){},setTop:function(){this.node.parent.insertChild(this.node)},get_data:function(e){void 0===e&&(e=1),cc.RedT.send({g:{mini3cay:{tops:this.red}}})},changerCoint:function(){this.red=!this.red,this.cointRed.active=!this.cointRed.active,this.cointXu.active=!this.cointXu.active,this.get_data()},onData:function(e){this.content.removeAllChildren();var t=this;Promise.all(e.map(function(e,n){var a=cc.instantiate(t.item),o=a.getComponent("Mini3Cay_ihistory");o.time.string=i.getStringDateByTime(e.time),o.phien.string=e.name,o.cuoc.string=i.numberWithCommas(e.bet),o.win.string=i.numberWithCommas(e.win),Promise.all(o.kq.map(function(t,i){t.spriteFrame=cc.RedT.util.card.getCard(e.kq[i].card,e.kq[i].type)})),a.children[0].active=!(1&n),t.content.addChild(a)}))}}),cc._RF.pop()},{Helper:"Helper",UIPopupManager:"UIPopupManager"}],Mini3Cay:[function(e,t){"use strict";cc._RF.push(t,"13a60eyHkJAyIXkNqrmxLrv","Mini3Cay");var i=e("Helper"),n=e("Mini3Cay_reel"),a=e("UIPopupManager");cc.Class({extends:cc.Component,properties:{nodeEfect:cc.Node,PrefabNoHu:cc.Prefab,background:cc.Node,buttonCoint:cc.Node,buttonSpin:cc.Node,buttonAuto:cc.Node,txtAuto:cc.Node,buttonSpeed:cc.Node,txtSpeed:cc.Node,buttonStop:cc.Node,buttonAutoDot:cc.Node,buttonSpeedDot:cc.Node,font:{default:null,type:cc.BitmapFont},reels:{default:[],type:n},bet:cc.Node,nodeRed:cc.Node,nodeXu:cc.Node,notice:cc.Node,prefabNotice:cc.Prefab,card:cc.Prefab,cardf:cc.Prefab,cuoc:"",hu:cc.Label,isAuto:!1,isSpeed:!1,isSpin:!1,red:!0},onLoad:function(){cc.RedT.setting.mini3cay=cc.RedT.setting.mini3cay||{},this.card.data.getComponent("Card").config(),localStorage.getItem("mini3cay"),void 0===cc.RedT.util.fontEffect&&(cc.RedT.util.fontEffect=this.font),void 0!==cc.RedT.setting.mini3cay.position&&(this.node.position=cc.RedT.setting.mini3cay.position),void 0!==cc.RedT.setting.mini3cay.bet&&cc.RedT.setting.mini3cay.bet!=this.cuoc&&this.intChangerBet(),void 0!==cc.RedT.setting.mini3cay.red&&this.red!=cc.RedT.setting.mini3cay.red&&this.changerCoint(),void 0!==cc.RedT.setting.mini3cay.isSpeed&&this.isSpeed!=cc.RedT.setting.mini3cay.isSpeed&&this.onClickSpeed(),void 0!==cc.RedT.setting.mini3cay.isAuto&&this.isAuto!=cc.RedT.setting.mini3cay.isAuto&&this.onClickAuto(),this.ttOffset=null;var e=this;Promise.all(this.reels.map(function(t){t.init(e)})),"MainGame"==cc.RedT.inGame.__classname__&&(localStorage.setItem("playing_game","mini3cay"),localStorage.setItem("playing_money",5e4))},onBtnTutorial:function(){a.Instance.showGameHuongDan("Mini3Cay")},onBtnHistory:function(){a.Instance.showGameMini3Cay_history()},onBtnTop:function(){a.Instance.showGameMini3Cay_top()},onEnable:function(){this.onGetHu(),this.background.on(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.background.on(cc.Node.EventType.TOUCH_MOVE,this.eventMove,this),this.background.on(cc.Node.EventType.TOUCH_END,this.eventEnd,this),this.background.on(cc.Node.EventType.TOUCH_CANCEL,this.eventEnd,this),this.background.on(cc.Node.EventType.MOUSE_ENTER,this.setTop,this)},onDisable:function(){this.background.off(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.background.off(cc.Node.EventType.TOUCH_MOVE,this.eventMove,this),this.background.off(cc.Node.EventType.TOUCH_END,this.eventEnd,this),this.background.off(cc.Node.EventType.TOUCH_CANCEL,this.eventEnd,this),this.background.off(cc.Node.EventType.MOUSE_ENTER,this.setTop,this),this.onCloseGame()},eventStart:function(e){this.setTop(),this.ttOffset=cc.v2(e.touch.getLocationX()-this.node.position.x,e.touch.getLocationY()-this.node.position.y)},eventMove:function(e){this.node.position=cc.v2(e.touch.getLocationX()-this.ttOffset.x,e.touch.getLocationY()-this.ttOffset.y)},eventEnd:function(){cc.RedT.setting.mini3cay.position=this.node.position},openGame:function(){this.playClick(),cc.RedT.IS_LOGIN?(this.node.active=!0,localStorage.setItem("mini3cay",!1),this.setTop()):a.Instance.showSignIn()},closeGame:function(){cc.RedT.audio.playUnClick(),this.node.active=!1,localStorage.setItem("mini3cay",!1),a.Instance.hideGameMini3Cay()},setTop:function(){this.node.parent.insertChild(this.node)},changerCoint:function(){this.red=cc.RedT.setting.mini3cay.red=!this.red,this.nodeRed.active=!this.nodeRed.active,this.nodeXu.active=!this.nodeXu.active,this.onGetHu()},intChangerBet:function(){var e=this;Promise.all(this.bet.children.map(function(t){t.name==cc.RedT.setting.mini3cay.bet?(e.cuoc=t.name,t.children[0].active=!0,t.pauseSystemEvents()):(t.children[0].active=!1,t.resumeSystemEvents())}))},changerBet:function(e,t){this.cuoc=cc.RedT.setting.mini3cay.bet=t;var i=e.target;Promise.all(this.bet.children.map(function(e){e==i?(e.children[0].active=!0,e.pauseSystemEvents()):(e.children[0].active=!1,e.resumeSystemEvents())})),this.onGetHu()},playClick:function(){cc.RedT.audio.playClick()},onClickSpeed:function(){this.isSpeed=cc.RedT.setting.mini3cay.isSpeed=!this.isSpeed,this.buttonSpeedDot.active=!this.buttonSpeedDot.active,this.buttonSpeed.color=this.isSpeed?cc.Color.WHITE:this.buttonSpeed.color.fromHEX("#A0A0A0"),this.txtSpeed.color=this.isSpeed?cc.Color.WHITE:this.txtSpeed.color.fromHEX("#A0A0A0")},onClickAuto:function(){this.isAuto=cc.RedT.setting.mini3cay.isAuto=!this.isAuto,this.buttonAutoDot.active=!this.buttonAutoDot.active,this.buttonAuto.color=this.isAuto?cc.Color.WHITE:this.buttonAuto.color.fromHEX("#A0A0A0"),this.txtAuto.color=this.isAuto?cc.Color.WHITE:this.txtAuto.color.fromHEX("#A0A0A0"),this.buttonStop.active=!!this.isSpin&&!!this.isAuto},onClickStop:function(){this.onClickAuto(),this.buttonStop.active=!1},onClickSpin:function(){this.isSpin||(this.isSpin=!0,this.onSpin(),this.sendSpin())},sendSpin:function(){if("mini3cay"!=localStorage.getItem("playing_game")){var e=localStorage.getItem("playing_game"),t=parseInt(localStorage.getItem("playing_money"));cc.RedT.send({g:{mini3cay:{spin:{cuoc:this.cuoc,red:this.red,playing_game:e,playing_money:t}}}})}else cc.RedT.send({g:{mini3cay:{spin:{cuoc:this.cuoc,red:this.red}}}})},random:function(e){void 0===e&&(e=!1),Promise.all(this.reels.map(function(t){t.random(e)}))},autoSpin:function(){this.random(),Promise.all(this.reels.map(function(e,t){e.spin(t)}))},onSpin:function(){this.buttonSpin.pauseSystemEvents(),Promise.all(this.bet.children.map(function(e){e.pauseSystemEvents()}))},offSpin:function(){this.isSpin=this.buttonStop.active=!1,this.buttonSpin.resumeSystemEvents(),Promise.all(this.bet.children.map(function(e){e.children[0].active||e.resumeSystemEvents()}))},addNotice:function(e){"string"==typeof e?a.Instance.notice.show({title:i.getLang(cc.RedT.language,"taixiu_notice"),text:e}):void 0!==e.button?a.Instance.notice.show({title:e.title,text:e.text,button:{text:"notice",type:"watchVideo"}}):a.Instance.notice.show({title:e.title,text:e.text})},onCloseGame:function(){this.isSpin=!1,Promise.all(this.reels.map(function(e){e.stop()})),this.offSpin(),void 0!==this.timeOut&&clearTimeout(this.timeOut)},onData:function(e){var t=this;void 0!==e.status&&(1===e.status?(this.buttonStop.active=!!this.isAuto,void 0!==e.win&&e.win>0?(this.win=e.win,this.winC=e.code,this.winT=e.text):this.win=0,Promise.all(e.card.map(function(e,i){t.reels[i].card[0].spriteFrame=cc.RedT.util.card.getCard(e.card,e.type)})),this.autoSpin()):this.offSpin()),void 0!==e.notice&&this.addNotice(e.notice)},userData:function(e){var t={red:parseInt(cc.RedT.user.red)};t.red+=e,cc.RedT.MainGame.dataUser(t)},hieuUng:function(){if(void 0!==this.win&&this.win>0)if(this.userData(this.win),6==this.winC){this.winC=0,1==this.isAuto&&this.onClickStop();var e=cc.instantiate(a.Instance.PrefabNoHu),t=(e=e.getComponent(cc.Animation)).node.children[6].getComponent(cc.Label);this.RedT.nodeEfect.addChild(e.node),e.on("play",function(){var n=cc.callFunc(function(){cc.RedT.audio.playEf("winHu"),i.numberTo(t,0,this.win,1e3,!0),this.win=0},this);e.node.runAction(cc.sequence(cc.delayTime(.25),n))},this),e.on("finished",function(){e.node.destroy(),this.hieuUng()},this),e.play()}else if(5==this.winC||4==this.winC){var n=cc.instantiate(a.Instance.prefabBigWin);(n=n.getComponent(cc.Animation)).on("finished",function(){n.node.destroy(),this.hieuUng()},this),n.node.bet=this.win,n.node.red=this.red,n.node.position=cc.v2(0,70),this.notice.addChild(n.node),this.win=0==this.winC}else{var o=new cc.Node;o.addComponent(cc.Label),(o=o.getComponent(cc.Label)).string="+"+i.numberWithCommas(this.win),o.font=cc.RedT.util.fontEffect,o.lineHeight=130,o.fontSize=82,o.node.position=cc.v2(0,37),this.notice.addChild(o.node),o.node.runAction(cc.sequence(cc.moveTo(this.isSpeed?2:3.5,cc.v2(0,100)),cc.callFunc(function(){o.node.destroy(),this.hieuUng()},this))),this.addNotice(this.winT),this.win=0}else this.isAuto?this.timeOut=setTimeout(function(){this.sendSpin()}.bind(this),this.isSpeed?250:1e3):this.offSpin()},onGetHu:function(){var e=this;if(void 0!==cc.RedT.setting.topHu&&this.node.active&&void 0!==cc.RedT.setting.topHu.data){var t=this;Promise.all(cc.RedT.setting.topHu.data.mini3cay.filter(function(e){return e.type==t.cuoc&&e.red==t.red})).then(function(t){var n=i.getOnlyNumberInString(e.hu.string),a=t[0].bet;n-a!=0&&i.numberTo(e.hu,n,a,2e3,!0)})}},speed:function(){return this.isSpeed?1.2:2.5}}),cc._RF.pop()},{Helper:"Helper",Mini3Cay_reel:"Mini3Cay_reel",UIPopupManager:"UIPopupManager"}],MiniPoker_LichSu:[function(e,t){"use strict";cc._RF.push(t,"11180TTh8lGeb5xmhj0UW5v","MiniPoker_LichSu");var i=e("Helper"),n=e("UIPopupManager");cc.Class({extends:cc.Component,properties:{background:cc.Node,page:cc.Prefab,content:cc.Node,cointRed:cc.Node,cointXu:cc.Node,red:!0,isLoad:!1},onLoad:function(){var e=this,t=cc.instantiate(this.page);t.y=-275,this.node.addChild(t),this.page=t.getComponent("Pagination"),Promise.all(this.content.children.map(function(e){return Promise.all(e.children.map(function(e,t){return 3===t?Promise.all(e.children.map(function(e){return e.getComponent(cc.Sprite)})):e.getComponent(cc.Label)})).then(function(e){return e})})).then(function(t){e.content2=t}),this.page.init(this)},show:function(){this.setTop()},hide:function(){n.Instance.hideGameMiniPoker_LichSu()},onEnable:function(){!this.isLoad&&this.get_data()},onDisable:function(){},eventStart:function(e){this.setTop(),this.ttOffset=cc.v2(e.touch.getLocationX()-this.node.position.x,e.touch.getLocationY()-this.node.position.y)},eventMove:function(e){this.node.position=cc.v2(e.touch.getLocationX()-this.ttOffset.x,e.touch.getLocationY()-this.ttOffset.y)},eventEnd:function(){},setTop:function(){this.node.parent.insertChild(this.node)},get_data:function(e){void 0===e&&(e=1),this.isLoad=!0,cc.RedT.send({g:{mini_poker:{log:{red:this.red,page:e}}}})},changerCoint:function(){this.red=!this.red,this.cointRed.active=!this.cointRed.active,this.cointXu.active=!this.cointXu.active,this.get_data()},onData:function(e){var t=this;this.page.onSet(e.page,e.kmess,e.total),Promise.all(this.content2.map(function(n,a){var o=e.data[a];void 0!==o?(t.content.children[a].active=!0,n[0].string=i.getStringDateByTime(o.time),n[1].string=o.id,n[2].string=i.numberWithCommas(o.bet),Promise.all(n[3].map(function(e,t){e.spriteFrame=cc.RedT.util.card.getCard(o.kq[t].card,o.kq[t].type)})),n[4].string=i.numberWithCommas(o.win)):t.content.children[a].active=!1}))},reset:function(){this.isLoad=!1,Promise.all(this.content.children.map(function(e){e.active=!1}))}}),cc._RF.pop()},{Helper:"Helper",UIPopupManager:"UIPopupManager"}],MiniPoker_Top:[function(e,t){"use strict";cc._RF.push(t,"2729fL0RJ5L5o6rSn9pZe4F","MiniPoker_Top");var i=e("Helper"),n=e("UIPopupManager");cc.Class({extends:cc.Component,properties:{background:cc.Node,item:cc.Prefab,content:cc.Node,cointRed:cc.Node,cointXu:cc.Node,red:!0},show:function(){this.setTop()},hide:function(){n.Instance.hideGameMiniPoker_Top()},onEnable:function(){this.get_data()},onDisable:function(){},eventStart:function(e){this.setTop(),this.ttOffset=cc.v2(e.touch.getLocationX()-this.node.position.x,e.touch.getLocationY()-this.node.position.y)},eventMove:function(e){this.node.position=cc.v2(e.touch.getLocationX()-this.ttOffset.x,e.touch.getLocationY()-this.ttOffset.y)},eventEnd:function(){},setTop:function(){this.node.parent.insertChild(this.node)},get_data:function(e){void 0===e&&(e=1),cc.RedT.send({g:{mini_poker:{top:this.red}}})},changerCoint:function(){this.red=!this.red,this.cointRed.active=!this.cointRed.active,this.cointXu.active=!this.cointXu.active,this.get_data()},onData:function(e){this.content.removeAllChildren();var t=this;Promise.all(e.map(function(e,n){var a=cc.instantiate(t.item),o=a.getComponent("VQRed_history_item");o.time.string=i.getStringDateByTime(e.time),o.phien.string=e.name,o.cuoc.string=i.numberWithCommas(e.bet),o.line.string=i.numberWithCommas(e.win),o.win.string=9==e.type?"Jackpot":"Big Win",a.children[0].active=!(1&n),t.content.addChild(a)}))}}),cc._RF.pop()},{Helper:"Helper",UIPopupManager:"UIPopupManager"}],MiniPoker_reel:[function(e,t){"use strict";cc._RF.push(t,"f9ba0NyrC1AQYrvVdQqkszP","MiniPoker_reel"),cc.Class({extends:cc.Component,properties:{},init:function(e){var t=this;this.RedT=e,this.card=[];var i=this;Promise.all([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].map(function(){var e=cc.instantiate(i.RedT.cardf);return i.node.addChild(e),e.getComponent(cc.Sprite)})).then(function(e){t.card=e,t.random(!0)})},random:function(e){void 0===e&&(e=!1),Promise.all(this.card.map(function(t,i){e?t.spriteFrame=cc.RedT.util.card.random():0!==i&&25!==i&&(t.spriteFrame=cc.RedT.util.card.random())}))},spin:function(e){this.node.stopAllActions();var t=e,i=cc.moveTo(this.RedT.speed(),cc.v2(this.node.x,-(this.node.height-93.3))).easing(cc.easeInOut(3)),n=cc.callFunc(function(){this.card[25].spriteFrame=this.card[0].spriteFrame,this.node.y=0},this);if(4===t){var a=cc.callFunc(function(){this.RedT.hieuUng()},this);this.node.runAction(cc.sequence(cc.delayTime(.1*t),i,n,a))}else this.node.runAction(cc.sequence(cc.delayTime(.1*t),i,n))},stop:function(){this.node.stopAllActions(),void 0!==this.card&&void 0!==this.card[25]&&void 0!==this.card[25].spriteFrame&&(this.card[25].spriteFrame=this.card[0].spriteFrame),this.node.y=0}}),cc._RF.pop()},{}],MiniPoker:[function(e,t){"use strict";cc._RF.push(t,"ef909PNu9FNDqFtdNzEnAw5","MiniPoker");var i=e("Helper"),n=e("MiniPoker_reel"),a=e("UIPopupManager");cc.Class({extends:cc.Component,properties:{nodeEfect:cc.Node,PrefabNoHu:cc.Prefab,background:cc.Node,buttonSpin:cc.Node,btnSpinAnim:sp.Skeleton,buttonAuto:cc.Node,txtAuto:cc.Node,buttonSpeed:cc.Node,txtSpeed:cc.Node,buttonStop:cc.Node,buttonAutoDot:cc.Node,buttonSpeedDot:cc.Node,reels:{default:[],type:n},buttonCoint:cc.Node,nodeRed:{default:null,type:cc.Node},font:{default:null,type:cc.BitmapFont},nodeXu:{default:null,type:cc.Node},bet:{default:null,type:cc.Node},notice:{default:null,type:cc.Node},card:cc.Prefab,cardf:cc.Prefab,prefabNotice:{default:null,type:cc.Prefab},phien:cc.Label,hu:cc.Label,cuoc:"",isAuto:!1,isSpeed:!1,isSpin:!1,red:!0},onLoad:function(){cc.RedT.setting.minipoker=cc.RedT.setting.minipoker||{},this.card.data.getComponent("Card").config(),"true"==localStorage.getItem("minipoker")&&(this.node.active=!0),void 0===cc.RedT.util.fontEffect&&(cc.RedT.util.fontEffect=this.font),void 0!==cc.RedT.setting.minipoker.position&&(this.node.position=cc.RedT.setting.minipoker.position),void 0!==cc.RedT.setting.minipoker.bet&&cc.RedT.setting.minipoker.bet!=this.cuoc&&this.intChangerBet(),void 0!==cc.RedT.setting.minipoker.red&&this.red!=cc.RedT.setting.minipoker.red&&this.changerCoint(),void 0!==cc.RedT.setting.minipoker.isSpeed&&this.isSpeed!=cc.RedT.setting.minipoker.isSpeed&&this.onClickSpeed(),void 0!==cc.RedT.setting.minipoker.isAuto&&this.isAuto!=cc.RedT.setting.minipoker.isAuto&&this.onClickAuto();var e=this;this.data=null,this.ttOffset=null,Promise.all(this.reels.map(function(t){t.init(e)})),"MainGame"==cc.RedT.inGame.__classname__&&(localStorage.setItem("playing_game","minipoker"),localStorage.setItem("playing_money",5e4))},onBtnTutorial:function(){a.Instance.showGameHuongDan("MiniPoker")},onBtnHistory:function(){a.Instance.showGameMiniPoker_LichSu()},onBtnTop:function(){a.Instance.showGameMiniPoker_Top()},onEnable:function(){this.onGetHu(),this.background.on(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.background.on(cc.Node.EventType.TOUCH_MOVE,this.eventMove,this),this.background.on(cc.Node.EventType.TOUCH_END,this.eventEnd,this),this.background.on(cc.Node.EventType.TOUCH_CANCEL,this.eventEnd,this)},onDisable:function(){this.background.off(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.background.off(cc.Node.EventType.TOUCH_MOVE,this.eventMove,this),this.background.off(cc.Node.EventType.TOUCH_END,this.eventEnd,this),this.background.off(cc.Node.EventType.TOUCH_CANCEL,this.eventEnd,this),this.onCloseGame()},eventStart:function(e){this.setTop(),this.ttOffset=cc.v2(e.touch.getLocationX()-this.node.position.x,e.touch.getLocationY()-this.node.position.y)},eventMove:function(e){this.node.position=cc.v2(e.touch.getLocationX()-this.ttOffset.x,e.touch.getLocationY()-this.ttOffset.y)},eventEnd:function(){cc.RedT.setting.minipoker.position=this.node.position},openGame:function(){cc.RedT.audio.playClick(),cc.RedT.IS_LOGIN?(this.node.active=!0,localStorage.setItem("minipoker",!1),this.setTop()):a.Instance.showSignIn()},closeGame:function(){cc.RedT.audio.playUnClick(),this.node.active=!1,localStorage.setItem("minipoker",!1)},random:function(e){void 0===e&&(e=!1),Promise.all(this.reels.map(function(t){t.random(e)}))},autoSpin:function(){this.random(),Promise.all(this.reels.map(function(e,t){e.spin(t)}))},onSpin:function(){this.buttonSpin.pauseSystemEvents(),Promise.all(this.bet.children.map(function(e){e.pauseSystemEvents()}))},offSpin:function(){this.isSpin=!1,this.buttonStop.active=!!this.isSpin&&!!this.isAuto,this.buttonSpin.resumeSystemEvents(),Promise.all(this.bet.children.map(function(e){e.children[0].active||e.resumeSystemEvents()}))},spin:function(){this.isSpin||(this.isSpin=!0,this.btnSpinAnim.setAnimation(0,"Spine",!1),this.onSpin(),this.onGetSpin())},onClickSpeed:function(){this.isSpeed=cc.RedT.setting.minipoker.isSpeed=!this.isSpeed,this.buttonSpeedDot.active=!this.buttonSpeedDot.active,this.buttonSpeed.color=this.isSpeed?cc.Color.WHITE:cc.color(206,206,206),this.txtSpeed.color=this.isSpeed?cc.Color.WHITE:cc.color(206,206,206)},onClickAuto:function(){this.isAuto=cc.RedT.setting.minipoker.isAuto=!this.isAuto,this.buttonAutoDot.active=!this.buttonAutoDot.active,this.buttonAuto.color=this.isAuto?cc.Color.WHITE:cc.color(206,206,206),this.buttonStop.active=!!this.isSpin&&!!this.isAuto,this.txtAuto.color=this.isSpeed?cc.Color.WHITE:cc.color(206,206,206)},onClickStop:function(){this.onClickAuto(),this.buttonStop.active=!1},changerCoint:function(){this.red=cc.RedT.setting.minipoker.red=!this.red,this.nodeRed.active=!this.nodeRed.active,this.nodeXu.active=!this.nodeXu.active,this.onGetHu()},intChangerBet:function(){var e=this;Promise.all(this.bet.children.map(function(t){t.name==cc.RedT.setting.minipoker.bet?(e.cuoc=t.name,t.children[0].active=!0,t.pauseSystemEvents()):(t.children[0].active=!1,t.resumeSystemEvents())}))},changerBet:function(e,t){this.cuoc=cc.RedT.setting.minipoker.bet=t;var i=e.target;Promise.all(this.bet.children.map(function(e){e==i?(e.children[0].active=!0,e.pauseSystemEvents()):(e.children[0].active=!1,e.resumeSystemEvents())})),this.onGetHu()},speed:function(){return this.isSpeed?1.2:2.5},userData:function(e){var t={red:parseInt(cc.RedT.user.red)};t.red+=e,cc.RedT.MainGame.dataUser(t)},onData:function(e){var t=this;void 0!==e.status&&(1===e.status?(this.buttonStop.active=!!this.isAuto,this.win=e.win,this.winT=e.text,this.winC=e.code,this.winTg=void 0!==e.thuong?e.thuong:0,Promise.all(e.card.map(function(e,i){t.reels[i].card[0].spriteFrame=cc.RedT.util.card.getCard(e.card,e.type)})),this.autoSpin()):this.offSpin()),void 0!==e.phien&&(this.phien.string="#"+e.phien),void 0!==e.notice&&this.addNotice(e.notice)},addNotice:function(e){"string"==typeof e?a.Instance.notice.show({title:i.getLang(cc.RedT.language,"taixiu_notice"),text:e}):void 0!==e.button?a.Instance.notice.show({title:e.title,text:e.text,button:{text:"notice",type:"watchVideo"}}):a.Instance.notice.show({title:e.title,text:e.text})},setTop:function(){this.node.parent.insertChild(this.node)},hieuUng:function(){if(this.winC&&this.winC>0){if(9==this.winC){1==this.isAuto&&this.onClickStop();var e=cc.instantiate(a.Instance.PrefabNoHu),t=(e=e.getComponent(cc.Animation)).node.children[6].getComponent(cc.Label);this.userData(this.win),this.nodeEfect.addChild(e.node),e.on("play",function(){var n=cc.callFunc(function(){cc.RedT.audio.playEf("winHu"),i.numberTo(t,0,this.win,1e3,!0)},this);e.node.runAction(cc.sequence(cc.delayTime(.25),n))},this),e.on("finished",function(){e.node.destroy(),this.hieuUng()},this),e.play()}else if(8==this.winC||7==this.winC){var n=cc.instantiate(a.Instance.prefabBigWin);(n=n.getComponent(cc.Animation)).on("finished",function(){n.node.destroy(),this.hieuUng()},this),n.node.bet=this.win,n.node.red=this.red,n.node.position=cc.v2(0,80),this.userData(this.win),this.notice.addChild(n.node),this.win=0}else{this.userData(this.win);var o=new cc.Node;o.addComponent(cc.Label),(o=o.getComponent(cc.Label)).string="+"+i.numberWithCommas(this.win),o.font=(this.red,cc.RedT.util.fontEffect),o.lineHeight=130,o.fontSize=80,this.notice.addChild(o.node),o.node.runAction(cc.sequence(cc.moveTo(this.isSpeed?2:3.5,cc.v2(0,140)),cc.callFunc(function(){o.node.destroy(),this.hieuUng()},this)))}if(this.winTg>0){this.userData(this.winTg);var s=new cc.Node;s.addComponent(cc.Label),(s=s.getComponent(cc.Label)).string=i.numberWithCommas(this.winTg),s.font=cc.RedT.util.fontEffect,s.lineHeight=130,s.fontSize=80,s.node.position=cc.v2(0,-28),this.notice.addChild(s.node),s.node.runAction(cc.sequence(cc.moveTo(this.isSpeed?2:3.5,cc.v2(0,112)),cc.callFunc(function(){this.node.destroy()},s)))}this.winC=0}else this.isAuto?this.timeOut=setTimeout(function(){this.onGetSpin()}.bind(this),this.isSpeed?250:1e3):this.offSpin()},onGetHu:function(){var e=this;if(void 0!==cc.RedT.setting.topHu&&this.node.active&&void 0!==cc.RedT.setting.topHu.data){var t=this;Promise.all(cc.RedT.setting.topHu.data.mini_poker.filter(function(e){return e.type==t.cuoc&&e.red==t.red})).then(function(t){var n=i.getOnlyNumberInString(e.hu.string),a=t[0].bet;n-a!=0&&i.numberTo(e.hu,n,a,2e3,!0)})}},onGetSpin:function(){if("minipoker"!=localStorage.getItem("playing_game")){var e=localStorage.getItem("playing_game"),t=parseInt(localStorage.getItem("playing_money"));cc.RedT.send({g:{mini_poker:{spin:{cuoc:this.cuoc,red:this.red,playing_game:e,playing_money:t}}}})}else cc.RedT.send({g:{mini_poker:{spin:{cuoc:this.cuoc,red:this.red}}}})},onCloseGame:function(){this.isSpin=!1,Promise.all(this.reels.map(function(e){e.stop()})),this.offSpin(),void 0!==this.timeOut&&clearTimeout(this.timeOut),a.Instance.hideGameMiniPoker()}}),cc._RF.pop()},{Helper:"Helper",MiniPoker_reel:"MiniPoker_reel",UIPopupManager:"UIPopupManager"}],Momo:[function(e,t){"use strict";cc._RF.push(t,"c55e6Wluy5Ny7Da0SXMGcSn","Momo"),cc.Class({extends:cc.Component,properties:{header:cc.Node,nap:cc.Node,rut:cc.Node,rutHeadNode:cc.Node},init:function(){var e=this;this.nap=this.nap.getComponent("momoNap"),this.rut=this.rut.getComponent("momoRut"),this.isLoaded=!1,this.body=[this.nap,this.rut],Promise.all(this.header.children.map(function(e){return e.getComponent("itemContentMenu")})).then(function(t){e.header=t})},onEnable:function(){this.isLoaded||cc.RedT.send({shop:{momo:{momoAccountList:!0}}}),2==cc.RedT.user.showall||4==cc.RedT.user.showall?this.rutHeadNode.active=!1:this.rutHeadNode.active=!0},onSelectHead:function(e,t){Promise.all(this.header.map(function(e){e.node.name==t?e.select():e.unselect()})),Promise.all(this.body.map(function(e){e.node.name==t?e.node.active=!0:e.node.active=!1}))},onData:function(e){e.momoAccountLists&&this.nap.onData(e)},copy:function(e,t){var i=document.createElement("textarea");i.value=t,document.body.appendChild(i),i.select(),document.execCommand("copy"),document.body.removeChild(i)}}),cc._RF.pop()},{}],NapIAP:[function(e,t){"use strict";cc._RF.push(t,"9eefftgKpFOFLm12JOpz1yT","NapIAP");var i=e("UIItemNapIAP");cc.Class({extends:cc.Component,properties:{uiItemArr:{default:[],type:i}},init:function(){},onSelectHead:function(e,t){Promise.all(this.header.map(function(e){e.node.name==t?e.select():e.unselect()})),Promise.all(this.body.children.map(function(e){e.name==t?e.active=!0:e.active=!1}))}}),cc._RF.pop()},{UIItemNapIAP:"UIItemNapIAP"}],NapRed_itemOne:[function(e,t){"use strict";cc._RF.push(t,"3bf1do9lYJMTYqfuawCCr7t","NapRed_itemOne"),cc.Class({extends:cc.Component,properties:{background:{default:null,type:cc.Node},text:{default:null,type:cc.Label}},init:function(e,t,i){this.controll=e,this.local_arg=t,this.local_text=i},onClickChanger:function(){cc.RedT.audio.playClick();var e=this;this.controll[this.local_text].string=this.text.string,Promise.all(this.controll[this.local_arg].map(function(t){t==e?t.onSelect():t.unSelect()})),this.controll.backT&&this.controll.backT(this.data)},onClickChose:function(){cc.RedT.audio.playClick(),this.controll[this.local_text].string=this.text.string,this.unSelect(),this.controll.backT&&this.controll.backT(this.data)},onSelect:function(){this.background.active=!0,this.node.pauseSystemEvents()},unSelect:function(){this.background.active=!1,this.node.resumeSystemEvents()}}),cc._RF.pop()},{}],NapRed_itemTT:[function(e,t){"use strict";cc._RF.push(t,"692acli1tBGMJGB7Xh9IFJc","NapRed_itemTT"),cc.Class({extends:cc.Component,properties:{menhgia:{default:null,type:cc.Label},red:{default:null,type:cc.Label}},init:function(e,t){this.menhgia.string=e,this.red.string=t}}),cc._RF.pop()},{}],NapRed:[function(e,t){"use strict";cc._RF.push(t,"41eebjrhpBCuYVy5G92Kdy9","NapRed");var i=e("BrowserUtil"),n=e("Helper");cc.Class({extends:cc.Component,properties:{header:{default:null,type:cc.Node},body:{default:null,type:cc.Node},NhanhMang:{default:null,type:cc.Label},MenhGia:{default:null,type:cc.Label},SoThe:{default:null,type:cc.EditBox},SoSeri:{default:null,type:cc.EditBox},moreNhaMang:{default:null,type:cc.Node},moreMenhGia:{default:null,type:cc.Node},scrollviewNhaMang:{default:null,type:cc.ScrollView},scrollviewMenhGia:{default:null,type:cc.ScrollView},bangGia:{default:null,type:cc.ScrollView},prefabLeft:{default:null,type:cc.Node},prefabRight:{default:null,type:cc.Prefab},captcha:{default:null,type:cc.EditBox},capchaSprite:cc.Sprite},init:function(){var e=this,t=this;this.isLoaded=!1,this.editboxs=[this.SoThe,this.SoSeri,this.captcha],this.keyHandle=function(e){return e.keyCode===cc.macro.KEY.tab?(t.isTop()&&t.changeNextFocusEditBox(),e.preventDefault&&e.preventDefault(),!1):e.keyCode===cc.macro.KEY.enter?(i.focusGame(),t.onNapClick(),e.preventDefault&&e.preventDefault(),!1):void 0},Promise.all(this.header.children.map(function(e){return e.getComponent("itemContentMenu")})).then(function(t){e.header=t})},onEnable:function(){cc.sys.isBrowser&&this.addEvent(),this.reCaptcha(),this.isLoaded||cc.RedT.send({shop:{info_nap:!0}})},onDisable:function(){this.moreNhaMang.active=this.moreMenhGia.active=!1,cc.sys.isBrowser&&this.removeEvent(),this.clean()},addEvent:function(){for(var e in cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),this.editboxs)i.getHTMLElementByEditBox(this.editboxs[e]).addEventListener("keydown",this.keyHandle,!1)},removeEvent:function(){for(var e in this.editboxs)i.getHTMLElementByEditBox(this.editboxs[e]).removeEventListener("keydown",this.keyHandle,!1);cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},onKeyDown:function(e){switch(e.keyCode){case cc.macro.KEY.tab:this.isTop()&&this.changeNextFocusEditBox();break;case cc.macro.KEY.enter:this.isTop()&&this.onNapClick()}},changeNextFocusEditBox:function(){for(var e=!1,t=0,n=this.editboxs.length;t<n;t++)if(i.checkEditBoxFocus(this.editboxs[t])){i.focusEditBox(this.editboxs[t]),e=!0;break}!e&&0<this.editboxs.length&&i.focusEditBox(this.editboxs[0])},isTop:function(){return!(this.moreNhaMang.active||this.moreMenhGia.active||cc.RedT.inGame.notice.node.active||cc.RedT.inGame.loading.active)},clean:function(){this.SoThe.string=this.SoSeri.string=this.captcha.string=""},onNapClick:function(){if(this.SoThe.string.length<11||this.SoSeri.string.length<11)cc.RedT.inGame.notice.show({title:cc.RedT.language_shop.ndo,text:cc.RedT.language_shop.kohople});else if(n.isEmpty(this.captcha.string))cc.RedT.inGame.notice.show({title:cc.RedT.language_shop.ndo,text:cc.RedT.language_shop.maxn});else{cc.RedT.inGame.bgLoading.onData({active:!0,text:cc.RedT.language_shop.guixn});var e={nhamang:this.NhanhMang.string,menhgia:n.getOnlyNumberInString(this.MenhGia.string),mathe:this.SoThe.string,seri:this.SoSeri.string,captcha:this.captcha.string};cc.RedT.send({shop:{nap_the:e}})}},onSelectHead:function(e,t){Promise.all(this.header.map(function(e){e.node.name==t?e.select():e.unselect()})),Promise.all(this.body.children.map(function(e){e.name==t?e.active=!0:e.active=!1}))},toggleMoreNhaMang:function(){this.moreNhaMang.active=!this.moreNhaMang.active,this.moreMenhGia.active=!1},hideMoreNhaMang:function(){this.moreNhaMang.active=!1,this.moreMenhGia.active=!1},toggleMoreMenhGia:function(){this.moreMenhGia.active=!this.moreMenhGia.active},infoSet:function(e,t,i,a){var o=this;void 0===a&&(a=!1);var s=this;e.length>0&&Promise.all(e.map(function(e,o){var c=cc.instantiate(s.prefabLeft),r=c.getComponent("NapRed_itemOne");if(r.init(s,t,i),a)0==o&&(r.background.active=!0,s.NhanhMang.string=e.name),r.text.string=e.name,s.scrollviewNhaMang.content.addChild(c);else{var l=n.numberWithCommas(e.name),h=n.numberWithCommas(e.values);0==o&&(r.background.active=!0,s.MenhGia.string=l),r.text.string=l,s.scrollviewMenhGia.content.addChild(c);var d=cc.instantiate(s.prefabRight);d.getComponent("NapRed_itemTT").init(l,h),s.bangGia.content.addChild(d)}return r})).then(function(e){o[t]=e})},onData:function(e){if(void 0!==e.info&&!this.isLoaded&&(this.isLoaded=!0,void 0!==e.info.nhamang&&this.infoSet(e.info.nhamang,"nhamangList","NhanhMang",!0),void 0!==e.info.menhgia)){var t=e.info.menhgia.filter(function(e){return 1==e.type});this.infoSet(t,"menhgiaList","MenhGia")}},initCaptcha:function(e){var t=this,i=new Image;i.src=e,i.width=150,i.height=50,setTimeout(function(){var e=new cc.Texture2D;e.initWithElement(i),e.handleLoadedTexture();var n=new cc.SpriteFrame(e);t.capchaSprite.spriteFrame=n},10)},reCaptcha:function(){cc.RedT.send({captcha:"chargeCard"})}}),cc._RF.pop()},{BrowserUtil:"BrowserUtil",Helper:"Helper"}],NewsContents:[function(e,t){"use strict";cc._RF.push(t,"359e3FxWmpPGarLjvZuJIkS","NewsContents");var i=e("Helper");cc.Class({extends:cc.Component,properties:{prefabItem:cc.Prefab},init:function(e){this.RedT=e},update:function(e){this.node.position=cc.v2(this.node.position.x-160*e,0),-this.node.width>this.node.position.x&&this.reset()},setNews:function(){this.node.active=!0,this.node.position=cc.v2(this.RedT.node.width+200,0)},reset:function(){this.node.removeAllChildren(),this.node.active=!1},onData:function(e){void 0!==e.a&&this.NewsAddArray(e.a),void 0!==e.t&&this.NewsAddText(e.t)},NewsAddArray:function(e){var t=this,n=this;Promise.all(e.map(function(e){var t=cc.instantiate(n.prefabItem);return t=t.getComponent("NewsItem"),cc.sys.os!=cc.sys.OS_IOS?(t.users.string=e.users,t.bet.string=i.numberWithCommas(e.bet),t.game.string=e.game,n.node.addChild(t.node),t):"X\xf3c X\xf3c"==e.game||"T\xe0i X\u1ec9u"==e.game||"Ch\u1eb5n L\u1ebb"==e.game||"Cao th\u1ea5p"==e.game||"B\u1ea7u Cua"==e.game?(t.users.string=e.users,t.bet.string=i.numberWithCommas(e.bet),"X\xf3c X\xf3c"==e.game&&(t.game.string="Xoc Dia"),"T\xe0i X\u1ec9u"!=e.game&&"Ch\u1eb5n L\u1ebb"!=e.game||(t.game.string="TAI XIU"),"Cao th\u1ea5p"==e.game&&(t.game.string="HIGH LOW"),"B\u1ea7u Cua"==e.game&&(t.game.string="GOURD CRAB"),n.node.addChild(t.node),t):void 0})).then(function(){t.node.active||t.setNews()})},NewsAddText:function(e){var t=cc.instantiate(this.prefabItem);t=t.getComponent("NewsItem"),e.status&&(t.status.node.active=!0,1==e.status?(t.status.string="(JackPot)",t.win.string="JackPot"):t.status.string="(Big Win)"),cc.sys.os==cc.sys.OS_IOS?"TH\u1ea6N LONG"!=e.game&&"Cao th\u1ea5p"!=e.game||(t.users.string=e.users,t.bet.string=i.numberWithCommas(e.bet),"TH\u1ea6N LONG"==e.game&&(t.game.string="Three Kingdom"),"Cao th\u1ea5p"==e.game&&(t.game.string="HIGH LOW"),this.node.addChild(t.node)):(t.users.string=e.users,t.bet.string=i.numberWithCommas(e.bet),t.game.string=e.game,this.node.addChild(t.node)),this.node.active||this.setNews()}}),cc._RF.pop()},{Helper:"Helper"}],NewsItem:[function(e,t){"use strict";cc._RF.push(t,"ed1c0NxAXlNI4ktSR1Kq45Q","NewsItem"),cc.Class({extends:cc.Component,properties:{status:cc.Label,users:cc.Label,win:cc.Label,bet:cc.Label,game:cc.Label}}),cc._RF.pop()},{}],Notice:[function(e,t){"use strict";cc._RF.push(t,"55b77gHOPlJAY+OiMpR3w95","Notice");var i=e("Helper");e("Admob"),cc.Class({extends:cc.Component,properties:{nodeButton:{default:null,type:cc.Node},title:{default:null,type:cc.Label},text:{default:null,type:cc.RichText},button:{default:null,type:cc.Label},senderName:cc.Label,nodeButtonCancel:cc.Node,nodex2:cc.Node,nodeAddfriend:cc.Node,nodeBgFriend:cc.Node,nodeBgEvent:cc.Node},init:function(e){this.popup=e},onDisable:function(){this.clean()},show:function(e){if(this.data=e,this.node.active=!0,this.nodeBgEvent.active=!1,this.nodeBgFriend.active=!1,this.nodex2.active=!1,void 0!==e.load&&this.popup&&(this.popup.loading.active=!1),void 0!==e.title?this.title.string=e.title:this.title.string=i.getLang(cc.RedT.language,"taixiu_notice"),void 0!==e.text&&(this.text.string=e.text),void 0!==e.addfriend?(this.nodeAddfriend.active=!0,this.text.string="",this.senderUID=e.senderUID,void 0!==e.sendername&&(this.senderName.string=e.sendername),this.nodeBgFriend.active=!0):this.nodeAddfriend.active=!1,void 0!==e.buttoncancel?this.nodeButtonCancel.active=!0:this.nodeButtonCancel.active=!1,void 0!==e.action)this.text.node.y=8,this.type=e.action.type,this.button.string=e.action.text,this.nodeButton.active=!0;else if(void 0!==e.button)if(this.text.node.y=8,this.type=e.button.type,this.button.string=e.button.text,this.nodeButton.active=!0,"closeGolden"==this.type||"closeConnect"==this.type){var t=this.nodeButton.getComponents(cc.Button)[0].node.getComponents(cc.Button)[0].clickEvents[0];this.node.children[0].getComponent(cc.Button).clickEvents[0]=t,this.nodeBgEvent.active=!0,this.nodex2.active=!0}else"watchVideo"==this.type?(this.popup.checkReceived5min()?(this.button.string=i.getLang(cc.RedT.language,"watch_video"),this.nodeButton.active=!0):(this.text.node.y=-14,this.nodeButton.active=!1),this.nodeBgEvent.active=!1):(this.nodeButton.getComponents(cc.Button)[0].node.getComponents(cc.Button)[0].clickEvents[0].handler="onClickButton",this.nodex2.active=!1);else this.nodeBgEvent.active=!1,this.nodex2.active=!1,this.nodeButton.active=!1,this.text.node.y=-14,this.node.children[0].getComponent(cc.Button).clickEvents[0].handler="close";void 0!==e.bonus&&(this.coins=e.bonus.amount,this.nodeBgEvent.active=!0)},close:function(){cc.RedT.audio.playUnClick(),this.node.active=!1},hide:function(){this.popup.closePopupDaily(),this.node.active=!1},hideConnect:function(){this.popup.closeConnectDaily(),this.node.active=!1},onClickButton:function(){if(cc.RedT.audio.playClick(),null!=this.data.action)switch(this.data.action.action){case"OpenOTP":cc.game.isActiveNow=!0;break;default:console.error("not handle this action",this.data.action.action)}switch(this.type){case"sign_out":cc.RedT.inGame.auth({authenticationout:{username:cc.RedT.user.name,logout:!0}}),cc.RedT._socket.close(),this.node.active=!1;break;case"reg_otp":this.node.active=!1,this.popup.showProfile("BaoMat");case"url":try{cc.sys.openURL(null!=this.data.button?this.data.button.url:this.data.action.url)}catch(e){console.error("data error")}break;case"closeGolden":this.hide();break;case"closeConnect":this.hideConnect();break;case"addfriend":cc.RedT.send({friendconnect:{confirmFriend:{UID:this.senderUID}}}),this.close();break;case"bonus_level":cc.RedT.send({user:{refundVideoPoker:!0,amount:this.coins}}),this.node.active=!1;break;case"watchVideo":this.close(),this.popup.showwatchVideo()}},clean:function(){}}),cc._RF.pop()},{Admob:"Admob",Helper:"Helper"}],ObjectChips:[function(e,t){"use strict";cc._RF.push(t,"99481Mr9CtFsJ9iliDn+Xus","ObjectChips"),cc.Class({extends:cc.Component,properties:{prefab:cc.Prefab,amountFirst:0},onLoad:function(){this.init(),this.count=0},init:function(){this.pool=new Array;for(var e=0;e<this.amountFirst;e++)this.CreateObject().active=!1},GiveBackObject:function(e){null!=e&&(e.parent=this.node,e.isPoolUsing=!1,e.active=!1,this.pool.splice(-1))},BorrowObject:function(){for(var e=0;e<this.pool.length;e++){var t=this.pool[e];if(!t.isPoolUsing)return t.active=!0,t.isPoolUsing=!0,t}var i=this.CreateObject();return i.active=!0,i.isPoolUsing=!0,i},GiveBackAll:function(){if(this.pool)for(var e=0;e<this.pool.length;e++){var t=this.pool[e];t.isPoolUsing&&this.GiveBackObject(t)}},CreateObject:function(){var e=cc.instantiate(this.prefab);return e.name=e.name+""+this.count,this.count++,e.parent=this.node,e.isPoolUsing=!1,this.pool.push(e),e}}),cc._RF.pop()},{}],OneSignal:[function(e,t){"use strict";cc._RF.push(t,"65551WJAVFOI4YW177lD5IT","OneSignal");var i=cc.Class({extends:cc.Component,statics:{Instance:null},properties:{},onLoad:function(){i.Instance=this},initPluginOneSignal:function(){if("undefined"!=typeof sdkbox)if(void 0!==sdkbox.PluginOneSignal){this.userId=null;var e=this;sdkbox.PluginOneSignal.setListener({onSendTag:function(){},onGetTags:function(){},onIdsAvailable:function(t){e.userId=t},onPostNotification:function(e){cc.RedT.inGame.notice.show({title:"Notice",text:"onPostNotification:"+e})},onNotification:function(e){cc.RedT.inGame.notice.show({title:"Notice",text:"onNotification:"+e})}}),sdkbox.PluginOneSignal.init(),sdkbox.PluginOneSignal.setSubscription(!0),sdkbox.PluginOneSignal.setEmail(e.userId+"@cyberpoker.club"),sdkbox.PluginOneSignal.sendTag("version","v3.4.0"),sdkbox.PluginOneSignal.getTags(),sdkbox.PluginOneSignal.idsAvailable(),sdkbox.PluginOneSignal.enableInAppAlertNotification(!0),sdkbox.PluginOneSignal.promptLocation()}else cc.RedT.inGame.notice.show({title:"Notice",text:"no PluginOneSignal"});else cc.RedT.inGame.notice.show({title:"Notice",text:"no SDK"})}});t.exports=i,cc._RF.pop()},{}],Pagination_item:[function(e,t){"use strict";cc._RF.push(t,"7edb4K7i4tECqx8snl3/cVz","Pagination_item"),cc.Class({extends:cc.Component,properties:{bg:cc.Node,bg_select:cc.Node,number:cc.Label},start:function(){}}),cc._RF.pop()},{}],Pagination:[function(e,t){"use strict";cc._RF.push(t,"a2298FO/xFF7KY+FwgkX4E6","Pagination"),cc.Class({extends:cc.Component,properties:{nodeFirst:cc.Node,nodePrevious:cc.Node,nodePage1:cc.Node,nodePage2:cc.Node,nodePage3:cc.Node,nodePage4:cc.Node,nodePage5:cc.Node,nodeNext:cc.Node,nodeLast:cc.Node,page:1,kmess:10,totall:0},init:function(e){this.controll=e,this.objSelect=null,this.nodePage1=this.nodePage1.getComponent("Pagination_item"),this.nodePage2=this.nodePage2.getComponent("Pagination_item"),this.nodePage3=this.nodePage3.getComponent("Pagination_item"),this.nodePage4=this.nodePage4.getComponent("Pagination_item"),this.nodePage5=this.nodePage5.getComponent("Pagination_item"),this.arrO=[this.nodePage1,this.nodePage2,this.nodePage3,this.nodePage4,this.nodePage5]},select:function(e){e.number.string=this.page,e.number.node.color=cc.Color.YELLOW,e.bg.active=!1,e.bg_select.active=!0,this.objSelect=e,e.node.pauseSystemEvents()},unSelect:function(e,t){e.number.string=t,e.number.node.color=cc.Color.WHITE,e.bg.active=!0,e.bg_select.active=!1,e.node.page=t,e.node.resumeSystemEvents()},onSet:function(e,t,i){var n=this,a=this;this.page=e,this.kmess=t,this.totall=i,this.totalPage=Math.ceil(this.totall/this.kmess),this.pageRed=this.totalPage-this.page,i>0?(this.node.active=!0,Promise.all(this.arrO.map(function(e,t){return a.totalPage>4?e.node.active=!0:t<a.totalPage?e.node.active=!0:e.node.active=!1,a.page>2?a.nodeFirst.active=!0:a.nodeFirst.active=!1,a.pageRed>1?a.nodeLast.active=!0:a.nodeLast.active=!1,a.page>1?a.nodePrevious.active=!0:a.nodePrevious.active=!1,a.pageRed>0?a.nodeNext.active=!0:a.nodeNext.active=!1,0==t&&1==a.page?a.select(e):1==t&&2==a.page?a.select(e):2==t&&(3==a.page||a.totalPage>5&&1!==a.page&&2!==a.page&&a.totalPage-2>=a.page)?a.select(e):3==t&&(4==a.totalPage&&4==a.page||a.totalPage>4&&a.totalPage-1==a.page)?a.select(e):4==t&&a.totalPage>4&&a.page==a.totalPage?a.select(e):void 0})).then(function(){Promise.all(n.arrO.map(function(e,t){e!==a.objSelect&&(0==t?"page2"==a.objSelect.node.name?a.unSelect(e,a.objSelect.number.string-1):"page3"==a.objSelect.node.name?a.unSelect(e,a.objSelect.number.string-2):"page4"==a.objSelect.node.name?a.unSelect(e,a.objSelect.number.string-3):"page5"==a.objSelect.node.name&&a.unSelect(e,a.objSelect.number.string-4):1==t?"page1"==a.objSelect.node.name?a.unSelect(e,1*a.objSelect.number.string+1):"page3"==a.objSelect.node.name?a.unSelect(e,a.objSelect.number.string-1):"page4"==a.objSelect.node.name?a.unSelect(e,a.objSelect.number.string-2):"page5"==a.objSelect.node.name&&a.unSelect(e,a.objSelect.number.string-3):2==t?"page1"==a.objSelect.node.name?a.unSelect(e,1*a.objSelect.number.string+2):"page2"==a.objSelect.node.name?a.unSelect(e,1*a.objSelect.number.string+1):"page4"==a.objSelect.node.name?a.unSelect(e,a.objSelect.number.string-1):"page5"==a.objSelect.node.name&&a.unSelect(e,a.objSelect.number.string-2):3==t?"page1"==a.objSelect.node.name?a.unSelect(e,1*a.objSelect.number.string+3):"page2"==a.objSelect.node.name?a.unSelect(e,1*a.objSelect.number.string+2):"page3"==a.objSelect.node.name?a.unSelect(e,1*a.objSelect.number.string+1):"page5"==a.objSelect.node.name&&a.unSelect(e,a.objSelect.number.string-1):4==t&&("page1"==a.objSelect.node.name?a.unSelect(e,1*a.objSelect.number.string+4):"page2"==a.objSelect.node.name?a.unSelect(e,1*a.objSelect.number.string+3):"page3"==a.objSelect.node.name?a.unSelect(e,1*a.objSelect.number.string+2):"page4"==a.objSelect.node.name&&a.unSelect(e,1*a.objSelect.number.string+1)))}))})):this.node.active=!1},onClickFirst:function(){this.controll.get_data(),cc.RedT.audio.playClick()},onClickPrevious:function(){var e=this.objSelect.number.string-1;e>0&&this.controll.get_data(e),cc.RedT.audio.playClick()},onClickPage:function(e){this.controll.get_data(e.target.page),cc.RedT.audio.playClick()},onClickNext:function(){var e=1*this.objSelect.number.string+1;e<=Math.ceil(this.totall/this.kmess)&&this.controll.get_data(e),cc.RedT.audio.playClick()},onClickLast:function(){this.controll.get_data(Math.ceil(this.totall/this.kmess)),cc.RedT.audio.playClick()}}),cc._RF.pop()},{}],PanelMiniGame:[function(e,t){"use strict";cc._RF.push(t,"42157Aha6ZCA7I/12wbcsDW","PanelMiniGame");var i=e("UIPopupManager");cc.Class({extends:cc.Component,properties:{panel:cc.Node},openMiniGame:function(e,t){i.Instance.showGame(""+t)}}),cc._RF.pop()},{UIPopupManager:"UIPopupManager"}],PokerChat:[function(e,t){"use strict";cc._RF.push(t,"76701EwuSJJppEiV9VRelYB","PokerChat");var i=e("Helper"),n=e("BrowserUtil");cc.Class({extends:cc.Component,properties:{content:{default:null,type:cc.ScrollView},item:{default:null,type:cc.Prefab},input:{default:null,type:cc.EditBox},layout:{default:null,type:cc.Layout},isLoad:!1,pokerHongKong:!1,isLieng:!1},init:function(e){this.tableId=e,this.getData()},onLoad:function(){var e=this;this.keyHandle=function(t){return t.keyCode===cc.macro.KEY.tab?(t.preventDefault&&t.preventDefault(),!1):t.keyCode===cc.macro.KEY.enter?(n.focusGame(),e.onChatClick(),t.preventDefault&&t.preventDefault(),!1):void 0}},onEnable:function(){cc.sys.isBrowser&&this.addEvent(),this.isLoad},onDisable:function(){cc.sys.isBrowser&&this.removeEvent(),this.clean()},addEvent:function(){n.getHTMLElementByEditBox(this.input).addEventListener("keydown",this.keyHandle,!1)},removeEvent:function(){n.getHTMLElementByEditBox(this.input).removeEventListener("keydown",this.keyHandle,!1)},getData:function(){this.isLoad=!0,this.pokerHongKong?cc.RedT.send({g:{poker_hongkong:{getLogChatTable:{tid:this.tableId}}}}):this.isLieng?cc.RedT.send({g:{lieng:{getLogChatTable:{tid:this.tableId}}}}):cc.RedT.send({g:{poker:{getLogChatTable:{tid:this.tableId}}}})},message:function(e,t){void 0===t&&(t=!1);var i=cc.instantiate(this.item);i.getComponent(cc.RichText).string=e.user+": "+e.value;var n=i.children[0],a=n.getComponent(cc.Label);null!=e.type&&1==e.type?(n.color=new cc.Color(252,94,72,255),this.tweenSystemChat()):n.color=new cc.Color(72,252,79,255),a.string=e.user,this.content.content.addChild(i),t&&setTimeout(function(){this.content.scrollToBottom(.1)}.bind(this),100)},chatButtonTopClick:function(){this.node.active=!this.node.active,this.node.x=-94},tweenSystemChat:function(){if(1!=this.node.active){this.node.x=270,this.node.active=!0,cc.tween(this.node).to(.4,{position:cc.v2(-94,-251.14)}).start();var e=this;setTimeout(function(){cc.tween(e.node).to(.6,{position:cc.v2(270,-251.14)}).call(function(){e.node.active=!1}).start()},3500)}},logs:function(e){var t=this;if(e.length){var i=this;Promise.all(e.map(function(e){return i.message(e)})).then(function(){setTimeout(function(){this.content.scrollToBottom(.1)}.bind(t),100)})}},onData:function(e){void 0!==e.message&&this.message(e.message,!0),void 0!==e.logs&&this.logs(e.logs)},onChatClick:function(){i.isEmpty(this.input.string)||(this.pokerHongKong&&cc.RedT.send({g:{poker_hongkong:{chatTable:{str:this.input.string,tid:this.tableId}}}}),this.isLieng?cc.RedT.send({g:{lieng:{chatTable:{str:this.input.string,tid:this.tableId}}}}):cc.RedT.send({g:{poker:{chatTable:{str:this.input.string,tid:this.tableId}}}}),this.clean())},toggle:function(){this.RedT.setTop(),cc.RedT.audio.playClick(),this.node.active=cc.RedT.setting.threecards.chat_active=!this.node.active},clean:function(){this.input.string=""},reset:function(){this.content.content.destroyAllChildren(),this.node.active=!1}}),cc._RF.pop()},{BrowserUtil:"BrowserUtil",Helper:"Helper"}],PokerGamePlay:[function(e,t){"use strict";var i;cc._RF.push(t,"af493o4nYxNp7gptgX0dj0F","PokerGamePlay");var n=e("../../Script/Helper/Helper"),a=e("HandRank"),o=e("PokerWinningResult"),s=e("ObjectChips"),c=e("Admob");cc.Class(((i={extends:cc.Component,properties:{labelRoomInfo:cc.Label,labelRoomBet:cc.Label,labelPot:cc.Label,handRank:a,pokerWinResult:o,chatBox:cc.Node,pkDialog:cc.Node,boardCards:{default:[],type:cc.Sprite},cardsSpriteH:{default:[],type:cc.SpriteFrame},cardsSpriteD:{default:[],type:cc.SpriteFrame},cardsSpriteC:{default:[],type:cc.SpriteFrame},cardsSpriteS:{default:[],type:cc.SpriteFrame},cardHide:cc.SpriteFrame,acGroup:cc.Node,acBet:cc.Node,acFold:cc.Node,acCheck:cc.Node,acAllin:cc.Node,acCall:cc.Node,sliderPrice:cc.Slider,sliderLabel:cc.Label,halfBetLabel:cc.Label,thirdBetLabel:cc.Label,betTab:cc.Node,fullpotButton:cc.Node,halfpotButton:cc.Node,objSetting:cc.Node,objDropdownSetting:cc.Node,objchips:s,audioBG:cc.AudioSource,audioIcons:{default:[],type:cc.SpriteFrame},audioIcon:cc.Sprite},onLoad:function(){this.acGroup.active=!1,this.isShowBoxUI=!1,this.pkDialog=this.pkDialog.getComponent("Poker_dialog"),localStorage.setItem("playing_game","poker"),localStorage.setItem("playing_money",this.data.bigBlind)},exitConfirmPopup:function(){if(null==this.data||null==this.data.players)this.backGame();else{for(var e in this.data.players)if(this.data.players[e].UID==cc.RedT.user.UID)return void this.pkDialog.showBackGameConfirm();this.backGame()}},show:function(e,t){this.data=t,this.manager=e,this.node.active=!0,this.playersUI=e.player;for(var i=0;i<this.boardCards.length;i++)this.boardCards[i].node.active=!1;t.isDistributeCard=!0,t.isEndOfBettingRound=!1,this.handleUpdatePlayer(t),this.updateRoomState(),this.pokerChat=this.chatBox.getComponent("PokerChat"),this.pokerChat.init(t.tid),this.pokerWinResult.background.active=!1,this.handleTableEvent(t)},handleStartgame:function(e){this.data=e,this.updateRoomState(),this.newSession()},handleUpdatePlayer:function(e){var t=[].concat(e.players);for(var i in e.playersToAdd){var n=!0;for(var a in e.playersToAdd[i].isPlayerToAdd=!0,e.players)e.playersToAdd[i].UID==e.players[a].UID&&(n=!1);n&&t.push(e.playersToAdd[i])}this.initPlayers(t)},sendData:function(e){this.manager.sendData(e)},cleartime:function(){this.pokerWinResult.stopWinningAction()},newSession:function(){for(var e=0;e<this.playersUI.length;e++)this.playersUI[e].newSession();this.labelPot.node.active=!1,this.pot=0},onChat:function(e){if(this.pokerChat.onData(e),null!=e.message)for(var t=e.message.user,i=0;i<this.playersUI.length;i++)if(this.playersUI[i].nickname.string==t){this.playersUI[i].Chat(e.message.value);break}},countDownStartGame:function(){this.timerStartGame-=1,this.timerStartGame<0&&null!=this.timeCountDownStart&&(clearInterval(this.timeCountDownStart),this.timeCountDownStart=null)},updateRoomState:function(){if(null!=this.data&&(null!=this.data.session&&null!=this.data.tid&&null!=this.labelRoomInfo&&(this.labelRoomInfo.string=this.data.tid+(0==this.data.session?"":" - "+this.data.session)),null!=this.data.bigBlind&&null!=this.labelRoomBet&&(this.labelRoomBet.string=n.numberWithCommas(Math.floor(this.data.bigBlind)))),"JOIN"==this.data.state)this.pokerWinResult.stopWinningAction(),this.lastActionIndex=-1,cc.RedT.user.UID==this.data.creator?this.data.timerStartGame<=0?null!=this.timeCountDownStart&&(clearInterval(this.timeCountDownStart),this.timeCountDownStart=null):null==this.timeCountDownStart&&(this.timerStartGame=this.data.timerStartGame,null!=this.timeCountDownStart&&clearInterval(this.timeCountDownStart),this.timeCountDownStart=setInterval(this.countDownStartGame.bind(this),1e3)):null!=this.timeCountDownStart&&(clearInterval(this.timeCountDownStart),this.timeCountDownStart=null);else if(null!=this.timeCountDownStart&&clearInterval(this.timeCountDownStart),null!=this.playersUI)for(var e=0;e<this.playersUI.length;e++)1==this.playersUI[e].node.active&&this.playersUI[e].showRoomMaster(!1)},handleTableEvent:function(e){if(this.data=e,this.updateRoomState(),this.getMyIndex(this.data.players),"IN_PROGRESS"==e.state){if(this.handleUpdatePlayer(e),this.updatePot(),e.isEndOfBettingRound&&1==e.isEndOfBettingRound){for(var t in this.acGroup.active=!1,this.betTab.active=!1,this.stopAllTimer(),e.players)if(null!=e.game&&null!=e.game.roundBets&&t<e.game.roundBets.length&&null!=this.lastRoundBet){if(this.lastRoundBet[t]==e.game.roundBets[t])continue;null!=(a=this.getUIWithName(e.players[t].playerName))&&1==a.node.active&&a.moveCoinToPot(this.labelPot.node)}}else if(e.isDistributeCard){this.betted=0,this.firstround=-1;var i=this,n=!1;if(null!=e.gameWinners&&e.gameWinners.length>0){for(var t in e.players)if(null!=e.game&&null!=e.game.roundBets&&t<e.game.roundBets.length&&null!=this.lastRoundBet){if(this.lastRoundBet[t]==e.game.roundBets[t])continue;var a;null!=(a=this.getUIWithName(e.players[t].playerName))&&1==a.node.active&&a.moveCoinToPot(this.labelPot.node)}n=!0,this.timeOutDelay=setTimeout(function(){i.handleWinResult()},2e3)}if(n?this.timeOutDelay=setTimeout(function(){i.cancelAllActionUI(),i.renderCard(n)},2e3):(i.cancelAllActionUI(),i.renderCard(n)),i.handRank.calculateMyRank(this.data.board.concat(this.mycards)),(null==this.data.board||this.data.board.length<=0)&&null!=this.data.game&&null!=this.data.game.blinds){this.firstround=1,0==n&&this.pokerWinResult.stopWinningAction(),this.lastActionIndex=-1;var o=this.getUIClientIndex(this.data.game.blinds[0],this.myIndex),s=this.playersUI[o];s.doAction({action:"Small Blind",amount:this.data.smallBlind});var c=this.getUIClientIndex(this.data.game.blinds[1],this.myIndex),r=this.playersUI[c];if(r.doAction({action:"Big Blind",amount:this.data.bigBlind}),s.isMainPlayer?this.betted=this.data.smallBlind:r.isMainPlayer&&(this.betted=this.data.bigBlind),null!=this.data.dealer){var l=this.getUIClientIndex(this.data.dealer,this.myIndex),h=this.playersUI[l];if(null!=h)for(h.showDealer(),t=0;t<this.playersUI.length;t++)h!=this.playersUI[t]&&this.playersUI[t].hideDealer()}}}else this.checkAction();null!=e.game&&null!=e.game.roundBets&&(this.lastRoundBet=[].concat(e.game.roundBets)),this.showLastAction()}else this.lastActionIndex=-1,this.handleUpdatePlayer(e),this.newSession(),this.handRank.reset(),this.closeBetTab()},getUIClientIndex:function(e,t){return 0==t?e:e>=t?e-t:this.playersUI.length-(t-e)},handleWinResult:function(){this.pokerWinResult.handleWinResult(this);for(var e=this.data,t=0;t<e.gameWinners.length;t++){var i=e.gameWinners[t],n=this.getUIWithName(i.playerName);n&&n.doAction({action:"WIN +",amount:i.amount},!0)}},updatePot:function(){var e=this,t=0;try{var i=this.data;if(null!=i.game){void 0===this.pot&&(this.pot=0),i.game&&i.game.pot&&(t=i.game.pot);var a={a:this.pot};this.labelPot.node.active=!0,cc.tween(a).to(1,{a:t},{progress:function(t,i,o,s){return null==e||null==e.labelPot?cc.Tween.stopAllByTarget(a):e.labelPot.string=n.numberWithCommas(Math.floor(t+(i-t)*s)),t+(i-t)*s}}).start().call(function(){e.labelPot.string=n.numberWithCommas(Math.floor(t))}),this.pot=t}}catch(o){console.trace(o),e.labelPot.string=n.numberWithCommas(Math.floor(t))}},renderCard:function(e){for(var t=0;t<this.data.players.length;t++){var i=this.data.players[t],n=this.getUIClientIndex(t,this.myIndex),a=this.playersUI[n];null==a?console.error("ERROR: cannot find UI "+i.UID):a.setCard(i.cards,i,e)}for(t=0;t<this.boardCards.length;t++)null==this.data.board||this.data.board.length<=t?this.boardCards[t].node.active=!1:0==this.boardCards[t].node.active&&(this.boardCards[t].node.scale=cc.v2(.8,.8),this.boardCards[t].node.active=!0,this.boardCards[t].spriteFrame=this.getCardImage(this.data.board[t]),cc.tween(this.boardCards[t].node).to(.5,{scale:1}).start())},call:function(){this.sendData({performAction:{tid:this.data.tid,action:"Call"}})},bet:function(){var e=this.data.players[this.myIndex].chips+this.data.game.bets[this.myIndex],t=Math.max(this.minRaise,parseInt(this.sliderPrice.progress*e));t=1e3*Math.round(t/1e3),t-=this.data.game.bets[this.myIndex],this.sendData({performAction:{tid:this.data.tid,action:"Bet",amt:t}}),this.acGroup.active=!1,this.betTab.active=!1},slide:function(e){this.minRaise=this.getMinRaise(this.data);var t=this.data.players[this.myIndex].chips+this.data.game.bets[this.myIndex],i=this.minRaise/t;i>1&&(i=1),i>this.sliderPrice.progress&&i<1?this.sliderPrice.progress=i:i>=1&&(this.sliderPrice.progress=1);var a=this.sliderPrice.progress*t;e&&Number.isInteger(e)&&(a+=e,this.sliderPrice.progress=a/t),a=1e3*Math.round(a/1e3),this.objchips.GiveBackAll(),this.objchips.node.removeAllChildren(),this.sliderLabel.string=n.numberWithCommas(a);for(var o=parseInt(this.sliderPrice.node.height/20),s=parseInt(a/t*o),c=0;c<s;c++){var r=this.objchips.BorrowObject("chip");r.parent=this.objchips.node,r.position=new cc.v2(0,0)}},plusButton:function(){this.slide(1e3)},minusButton:function(){this.slide(-1e3)},fold:function(){this.sendData({performAction:{tid:this.data.tid,action:"Fold"}})},check:function(){this.sendData({performAction:{tid:this.data.tid,action:"Check"}})},raise:function(){if(this.betTab.active=!0,this.data.players[this.myIndex]){var e=this.data.players[this.myIndex].chips+this.data.game.bets[this.myIndex];this.halfBetLabel.string=n.ToKMB(Math.round(e/2/1e3*1e3)),this.thirdBetLabel.string=n.ToKMB(Math.round(e/4*3/1e3*1e3))}this.slide(),this.pot/2<this.minRaise&&this.pot<this.minRaise?(this.fullpotButton.active=!1,this.halfpotButton.active=!1):this.pot>=this.minRaise&&this.pot/2<this.minRaise?(this.fullpotButton.active=!0,this.halfpotButton.active=!1):(this.fullpotButton.active=!0,this.halfpotButton.active=!0)},closeBetTab:function(){this.betTab.active=!1},halfpotBet:function(){var e=this.pot/2,t=1e3*Math.round(e/1e3);this.sendData({performAction:{tid:this.data.tid,action:"Bet",amt:t}}),this.acGroup.active=!1,this.betTab.active=!1},fullpotBet:function(){var e=this.pot,t=1e3*Math.round(e/1e3);this.sendData({performAction:{tid:this.data.tid,action:"Bet",amt:t}}),this.acGroup.active=!1,this.betTab.active=!1},allin:function(){this.sendData({performAction:{tid:this.data.tid,action:"Allin"}}),this.betTab.active=!1,this.acGroup.active=!1},getMinRaise:function(e){var t=e.bigBlind,i=Math.max(t,1e3),n=e.game.betList;return"Deal"==e.game.roundName&&(i=2*t),1==n.length?i=2*n[0]:n.length>1&&(i=n[n.length-1]+(n[n.length-1]-n[n.length-2])),i},backGame:function(){this.cleartime(),this.sendData({leaveTable:{tid:this.data.tid}}),null!=this.timeOutDelay&&(clearTimeout(this.timeOutDelay),this.timeOutDelay=null),void 0!==this.timeOut&&clearTimeout(this.timeOut),cc.RedT.send({g:{poker:{listActiveTables:!0}}}),localStorage.setItem("playing_game",""),localStorage.setItem("playing_money",0)},playMusic:function(){null!=this&&null!=this.audioBG&&this.audioBG.play()},pauseMusic:function(){null!=this&&null!=this.audioBG&&this.audioBG.stop()},onSetAudio:function(){this.audioIcon.spriteFrame==this.audioIcons[1]?(this.pauseMusic(),this.audioIcon.spriteFrame=this.audioIcons[0]):(this.playMusic(),this.audioIcon.spriteFrame=this.audioIcons[1])},checkAction:function(){for(var e=this.data.currentPlayer,t=this.myIndex==this.data.currentPlayer,i=this.getUIClientIndex(e,this.myIndex),n=0;n<this.playersUI.length;n++)1==this.playersUI[n].node.active&&(n==i?this.playersUI[n].startTimer(this.data.gameMode):this.playersUI[n].stopTimer());if(this.acGroup.active=t,0!=t){var a=this.isCanCheck();this.acCheck.active=a;var o;o=!a&&this.isCanCall(),this.sliderPrice.progress=.1,this.acCall.active=o,this.acAllin.active=!o&&!a,o||a?this.acBet.active=!0:(this.acAllin.active=!0,this.acBet.active=!1)}},cancelAllActionUI:function(){for(var e=0;e<this.playersUI.length;e++)1==this.playersUI[0].node.active&&(this.playersUI[e].stopTimer(),this.playersUI[e].stopAction());this.acGroup.active=!1,this.betTab.active=!1},stopAllTimer:function(){for(var e=0;e<this.playersUI.length;e++)1==this.playersUI[0].node.active&&this.playersUI[e].stopTimer()},showLastAction:function(){if(0!=this.data.actions.length&&this.lastActionIndex!=this.data.actions.length-1){this.lastActionIndex=this.data.actions.length-1;var e=this.data.actions[this.data.actions.length-1],t=this.getUIWithName(e.playerName);null!=t?t.doAction(e):console.error("cannot find user with name: "+e.playerName)}},getUIWithName:function(e){for(var t=0;t<this.playersUI.length;t++)if(1==this.playersUI[t].node.active&&this.playersUI[t].nickname.string==e)return this.playersUI[t];return null},isCanCheck:function(){var e,t;e=!0;var i=this.data.game;if(void 0===i.bets)return!1;for(t=0;t<i.bets.length;t+=1)0!==i.bets[t]&&(e=!1);return e},getMaxBet:function(e){var t,i;for(t=0,i=0;i<e.length;i+=1)e[i]>t&&(t=e[i]);return t},isCanCall:function(){var e,t=this.data.game;return e=this.getMaxBet(t.bets),null!=this.data.players[this.myIndex]&&this.data.players[this.myIndex].chips>e}}).getMaxBet=function(e){var t,i;for(t=0,i=0;i<e.length;i+=1)e[i]>t&&(t=e[i]);return t},i.activeAction=function(e){this.acBet.active=e,this.acFold.active=e,this.acAllin.active=e,this.acCheck.active=e},i.getMyIndex=function(e){this.myIndex=0,this.mycards=[];for(var t=0;t<e.length;t++){var i=e[t];if(i.UID==cc.RedT.user.UID)return this.myIndex=t,void(this.mycards=i.cards)}},i.sendStartGame=function(){this.sendData({StartGame:{room:this.data.tid}}),null!=this.timeCountDownStart&&(clearInterval(this.timeCountDownStart),this.timeCountDownStart=null)},i.hide=function(){this.node.active=!1},i.initPlayers=function(e){this.getMyIndex(e);for(var t=this.myIndex,i=new Array,n=0;n<e.length;n++){var a=this.getUIClientIndex(n,t);if(a>=this.playersUI.length)return void console.error("Players in this table more than UI of client");i.push(a),this.playersUI[a].node.active=!0,this.playersUI[a].showRoomMaster(null!=this.data&&e[n].UID==this.data.creator);var o=0;null!=this.data&&null!=this.data.game&&null!=this.data.game.bets&&n<this.data.game.bets.length&&(o=this.data.game.bets[n]),this.playersUI[a].setInfo(e[n],this,o)}for(n=0;n<this.playersUI.length;n++)0==i.includes(n)&&(this.playersUI[n].node.active=!1)},i.getCardImage=function(e){if(null==e||-1==e)return this.cardHide;var t=e[0],i=0;if(t>="0"&&t<="9")i=parseInt(t);else switch(t){case"J":i=11;break;case"Q":i=12;break;case"K":i=13;break;case"A":i=1;break;case"T":i=10}switch(e[1]){case"H":return this.cardsSpriteH[i];case"D":return this.cardsSpriteD[i];case"C":return this.cardsSpriteC[i];case"S":return this.cardsSpriteS[i]}return this.cardHide},i.chatButtonTopClick=function(){this.chatBox.active=!this.chatBox.active},i.showSettingDropdown=function(){this.objDropdownSetting.active=!this.objDropdownSetting.active},i.hideSettingDropdown=function(){this.objSetting.active=!0,this.objDropdownSetting.active=!1},i.showPopupReward=function(){this.firstround>0&&this.betted>0?this.pkDialog.showPopupReward():(this.backGame(),this.pkDialog.hideBackGameConfirm())},i.showRewardVideo=function(){c.Instance.showRewarded(),cc.RedT.send({user:{refundVideoPoker:!0,amount:this.betted}})},i)),cc._RF.pop()},{"../../Script/Helper/Helper":"Helper",Admob:"Admob",HandRank:"HandRank",ObjectChips:"ObjectChips",PokerWinningResult:"PokerWinningResult"}],PokerHistoryItem:[function(e,t){"use strict";cc._RF.push(t,"f83efI/7PlB8aF4NodKKbc2","PokerHistoryItem");var i=e("PokerGamePlay");cc.Class({extends:cc.Component,properties:{gamePlay:i,time:cc.Label,round:cc.Label,myCard:{default:[],type:cc.Sprite},board:{default:[],type:cc.Sprite},bet:cc.Label,win:cc.Label},init:function(){}}),cc._RF.pop()},{PokerGamePlay:"PokerGamePlay"}],PokerHistory:[function(e,t){"use strict";cc._RF.push(t,"5ad8fUnGV1H1KECUspvE7sO","PokerHistory");var i=e("Helper"),n=e("PokerGamePlay"),a=e("Poker_HongkongGamePlay"),o=e("LiengGamePlay");cc.Class({extends:cc.Component,properties:{gameplay:n,gameplay2:a,gameplay3:o,page:cc.Prefab,content:cc.Node,red:!0,isPokerHongKong:!1,isLieng:!1},onLoad:function(){var e=this;this.page=cc.instantiate(this.page),this.page.y=-307,this.node.addChild(this.page),this.page=this.page.getComponent("Pagination"),Promise.all(this.content.children.map(function(e){return e.getComponent("PokerHistoryItem")})).then(function(t){e.content=t}),this.page.init(this),null==this.gameplay&&null==this.gameplay3&&(this.gameplay=this.gameplay2),null==this.gameplay&&null==this.gameplay2&&(this.gameplay=this.gameplay3)},onEnable:function(){this.get_data()},get_data:function(e){void 0===e&&(e=1),this.isPokerHongKong?cc.RedT.send({g:{poker_hongkong:{history:{page:e}}}}):this.isLieng?cc.RedT.send({g:{lieng:{history:{page:e}}}}):cc.RedT.send({g:{poker:{history:{page:e}}}})},changerCoint:function(){this.red=!this.red,this.get_data()},getMyIndex:function(e){for(var t=0;t<e.length;t++)if(e[t].UID==cc.RedT.user.UID)return t;return-1},onData:function(e){var t=this;this.page.onSet(e.page,e.kmess,e.total),Promise.all(this.content.map(function(n,a){var o=e.data[a];if(null!=o){var s=t.getMyIndex(o.players),c=o.players[s].playerName;n.node.active=!0,n.time.string=i.getStringDateByTime(o.time),n.round.string=o.sessionId;for(var r=0;r<o.players[s].cards.length;r++)n.myCard[r].spriteFrame=t.gameplay.getCardImage(o.players[s].cards[r]);for(r=0;r<o.board.length;r++)null!=o.board&&o.board.length>r?n.board[r].spriteFrame=t.gameplay.getCardImage(o.board[r]):n.board[r].spriteFrame=t.gameplay.getCardImage(null);var l=0;null!=o.blinds&&(o.blinds[0]==s&&(l+=o.smallBlind),o.blinds[1]==s&&(l+=o.bigBlind));for(var h=0;h<o.actions.length;h++){var d=o.actions[h];d.playerName==c&&null!=d.amount&&(l+=d.amount)}var u=0;for(h=0;h<o.gameWinners.length;h++){var p=o.gameWinners[h];p.playerName==c&&(u+=p.amount)}n.bet.string=i.numberWithCommas(l),n.win.string=i.numberWithCommas(u)}else n.node.active=!1}))}}),cc._RF.pop()},{Helper:"Helper",LiengGamePlay:"LiengGamePlay",PokerGamePlay:"PokerGamePlay",Poker_HongkongGamePlay:"Poker_HongkongGamePlay"}],PokerHongKong:[function(e,t){"use strict";cc._RF.push(t,"56cf3PSB/ZLfIVgfCrruz0L","PokerHongKong");var i,n=(i=e("UIPopupManager"))&&i.__esModule?i:{default:i},a=e("Helper"),o=(e("Notice"),e("Poker_Player")),s=e("Poker_dialog"),c=e("PokerLobby"),r=e("Poker_HongkongGamePlay"),l=e("Admob");cc.Class({extends:cc.Component,properties:{audioBG:cc.AudioSource,lobby:c,gameplay:r,nodeNotice:cc.Node,prefabNotice:{default:null,type:cc.Prefab},loading:cc.Node,notice:cc.Node,dialog:s,player:{default:[],type:o},labelRoom:cc.Label,labelBet:cc.Label,roomCard:cc.Node,boxWatchVideo:cc.Node,Progress:cc.Sprite,time:cc.Label,audioCardFlip:cc.AudioSource,audioChipPot:cc.AudioSource,audioWin:cc.AudioSource,audioTurn:cc.AudioSource,audioClick:cc.AudioSource},onLoad:function(){cc.RedT.inGame=this,this.lobby.node.active=!0,this.gameplay.node.active=!1,this.isShowBoxUI=!1,this.sendData({view:!0}),this.sendData({listActiveTables:!0})},playMusic:function(){null!=this&&null!=this.audioBG&&this.audioBG.play()},pauseMusic:function(){null!=this&&null!=this.audioBG&&this.audioBG.stop()},click_audio:function(){cc.RedT.isSoundGame()&&this.audioClick.play()},distributeCard_audio:function(){cc.RedT.isSoundGame()&&this.audioCardFlip.play()},updatePot_audio:function(){cc.RedT.isSoundGame()&&0==this.audioChipPot.isPlaying&&this.audioChipPot.play()},winAudio:function(){cc.RedT.isSoundGame()&&this.audioWin.play()},turn_audio:function(){cc.RedT.isSoundGame()&&this.audioTurn.play()},sendData:function(e){cc.RedT.send({scene:"poker",g:{poker_hongkong:e}})},showHistory:function(){this.dialog.showHistory()},onData:function(e){if(e.meMap&&(this.meMap=e.meMap),null!=e.notice&&(e.notice.addfriend?n.default.Instance.notice.show(e.notice):this.addNotice(e.notice)),void 0!==e.user&&(e.user.newLevel&&e.user.oldLevel&&e.user.bonus&&e.user.newLevel>e.user.oldLevel&&(n.default.Instance.noticeBonusLvl(e),cc.RedT.user.systemLevel=e.newLevel),e.user.systemLevel&&cc.RedT.user.systemLevel<e.user.systemLevel&&(n.default.Instance.noticeBonusLvl(e),cc.RedT.user.systemLevel=e.user.systemLevel),cc.RedT.userData(e.user)),e.friend&&(e.friend.addFriend?1==e.friend.addFriend.success?n.default.Instance.notice.show({title:a.getLang(cc.RedT.language,"taixiu_notice"),text:a.getLang(cc.RedT.language,"add_fr_success")}):n.default.Instance.notice.show({title:a.getLang(cc.RedT.language,"taixiu_notice"),text:a.getLang(cc.RedT.language,"already_fr")}):e.friend.confirmFriend&&(1==e.friend.confirmFriend.success?n.default.Instance.notice.show({title:a.getLang(cc.RedT.language,"taixiu_notice"),text:a.getLang(cc.RedT.language,"add_fr_success")}):n.default.Instance.notice.show({title:a.getLang(cc.RedT.language,"taixiu_notice"),text:a.getLang(cc.RedT.language,"already_fr")}))),void 0!==e.loading&&null!=e.loading.active&&(cc.RedT.inGame.loading.active=e.loading.active),null!=e.poker_hongkong){if(null!=(e=e.poker_hongkong).maintenance)return this.backGame(),void setTimeout(function(){try{cc.RedT.inGame.onData({notice:{text:e.maintenance.text,title:e.maintenance.title}})}catch(t){console.log(t)}},800);null!=e.tabletypes&&this.onConfigTable(e),null!=e.roomInfo&&this.onListActiveTable(e.roomInfo),null!=e.playerJoin&&this.handleJoinTable(e),null!=e.bank_rupt&&this.handleBankrupt(e.bank_rupt),null!=e.StartGame&&this.handleStartGame(e.StartGame),null!=e.updatePlayer&&this.handleUpdatePlayer(e.updatePlayer),null!=e.onTableEvent&&this.handleTableEvent(e.onTableEvent),null!=e.history&&this.dialog.onData(e),null!=e.chat&&this.gameplay.onChat(e.chat),e.infoGhe&&this.infoGhe(e.infoGhe),e.infoRoom&&this.infoRoom(e.infoRoom),e.ingame&&this.ingame(e.ingame),e.outgame&&this.outgame(e.outgame),e.game&&this.game(e.game)}},addNotice:function(e){cc.RedT.inGame.loading.active=!1,"string"==typeof e?n.default.Instance.notice.show({title:a.getLang(cc.RedT.language,"taixiu_notice"),text:e}):void 0!==e.button?n.default.Instance.notice.show({title:e.title,text:e.text,button:{text:"notice",type:"watchVideo"}}):n.default.Instance.notice.show({title:e.title,text:e.text})},onConfigTable:function(e){this.room_config=e,this.lobby.show(e)},onListActiveTable:function(e){this.lobby.node.active=!0,this.gameplay.node.active=!1,this.lobby.showTable(e)},handleJoinTable:function(e){1==e.playerJoin.success&&(this.lobby.hide(),this.gameplay.show(this,e.table_info)),cc.RedT.inGame.loading.active=!1},handleBankrupt:function(e){this.gameplay.backGame(),this.addNotice(e.message)},handleStartGame:function(e){this.gameplay.handleStartgame(e)},handleUpdatePlayer:function(e){this.gameplay.handleUpdatePlayer(e)},handleTableEvent:function(e){if(this.gameplay.handleTableEvent(e),"IN_PROGRESS"==e.state);else{for(var t=e.playersToAdd,i=!1,n=0;n<t.length;n++)if(t[n].UID==cc.RedT.user.UID){i=!0;break}i||(this.lobby.show(),this.gameplay.hide())}},handleWinResult:function(e){this.gameplay.handleWinResult(e)},handleTimeout:function(){var e=this;"JOIN"==e.gameSession.state&&e.resetCountDown(),"IN_PROGRESS"!=e.gameSession.state||e.timeout.gid===e.gameSession.id&&e.timeout.tid===e.gameSession.tid&&e.timeout.player===e.gameSession.currentPlayer||(e.resetCountDown(),e.timeout={player:e.gameSession.currentPlayer,gid:e.gameSession.id,tid:e.gameSession.tid,count:"normal"==e.gameSession.gameMode?30:15,ref:e.initCountdown()})},gameStart:function(e){var t=this;Promise.all(e.map(function(e){t.player[e.ghe].setInfo(e.data)}))},game:function(e){e.start&&this.gameStart(e.start)},infoGhe:function(e){var t=this,i=this,n={},a=[];if(1!=this.meMap){var o=this.meMap-1;a=[].concat(e.slice(o),e.slice(0,o))}else a=e;Promise.all(a.map(function(e,t){var a=i.player[t];n[e.ghe]=a,a.setInfo(e.data)})).then(function(){t.player=n})},infoRoom:function(e){this.labelRoom.string=e.id,this.labelBet.string=a.numberWithCommas(e.game)+(e.red?" XO":" XU")},ingame:function(e){this.player[e.ghe].setInfo(e.data)},outgame:function(e){this.player[e].setInfo(null)},backGame:function(){cc.RedT.send({g:{poker_hongkong:{outgame:!0}}}),this.loading.active=!0,void 0!==this.timeOut&&clearTimeout(this.timeOut),cc.director.loadScene("MainGame")},signOut:function(){this.pauseMusic(),cc.director.loadScene("MainGame",function(){cc.RedT.inGame.signOut()})},addFriendPopup:function(e,t){n.default.Instance.showAddFriend(this.player[t])},onBtnToggleBoxWatchVideo:function(){var e=this;cc.Tween.stopAllByTarget(this.boxWatchVideo),0==this.isShowboxWatchVideo?(this.isShowboxWatchVideo=!0,this.boxWatchVideo.position=cc.v2(-250,0),this.boxWatchVideo.active=!0,cc.tween(this.boxWatchVideo).to(.25,{position:cc.v2(-20,0)}).start()):(this.isShowboxWatchVideo=!1,cc.tween(this.boxWatchVideo).to(.25,{position:cc.v2(-250,0)}).call(function(){e.boxWatchVideo.active=!0}).start())},onEnable:function(){this.intervalCountDown&&(clearInterval(this.intervalCountDown),this.intervalCountDown=null),this.check5minsWatchEvent()?(this.Progress.fillRange=0,this.time.node.active=!1):this.startCountDown()},onDisable:function(){this.hideCountDown()},hideCountDown:function(){this.intervalCountDown&&(clearInterval(this.intervalCountDown),this.intervalCountDown=null,this.time.node.active=!1)},startCountDown:function(){this.Progress.fillRange=1,this.time.node.active=!0;var e=JSON.parse(localStorage.getItem("timeEventWatch")),t=0;if(e)for(var i=0;i<e.length;i++)if(e[i].username==cc.RedT.user.name){t=e[i].time;break}var n=(t+3e5-Date.now())/1e3;void 0!==this.timeInterval&&clearInterval(this.timeInterval),this.intervalCountDown=setInterval(function(){this.time.string=this.secondsToHms(n),(n-=1)<=0&&(this.Progress.fillRange=0,this.hideCountDown())}.bind(this),1e3)},onClickEventWatchVideo:function(){if(this.check5minsWatchEvent()){n.default.Instance.coinsEventWatch();var e=(new Date).getTime(),t=JSON.parse(localStorage.getItem("timeEventWatch"));if(null!=t){for(var i=0,a=0;a<t.length;a++)if(t[a].username==cc.RedT.user.name){t[a].time=e,i=1;break}1==i?cc.sys.localStorage.setItem("timeEventWatch",JSON.stringify(t)):(t.push({username:cc.RedT.user.name,time:e}),cc.sys.localStorage.setItem("timeEventWatch",JSON.stringify(t)))}else t=[{username:cc.RedT.user.name,time:e}],cc.sys.localStorage.setItem("timeEventWatch",JSON.stringify(t));l.Instance.showRewarded(),this.startCountDown()}},check5minsWatchEvent:function(){var e=(new Date).getTime(),t=JSON.parse(localStorage.getItem("timeEventWatch")),i=null;if(null!=t&&"null"!==t)for(var n=0;n<t.length;n++)t[n].username==cc.RedT.user.name&&(i=t[n].time);return!i||e-(i=parseInt(i))>3e5},secondsToHms:function(e){e=Number(e);var t=Math.floor(e/3600),i=Math.floor(e%3600/60),n=Math.floor(e%3600%60);return(t>0?t+":":"")+(i>0?i+":":"0:")+(n>0?n+"":"0")}}),cc._RF.pop()},{Admob:"Admob",Helper:"Helper",Notice:"Notice",PokerLobby:"PokerLobby",Poker_HongkongGamePlay:"Poker_HongkongGamePlay",Poker_Player:"Poker_Player",Poker_dialog:"Poker_dialog",UIPopupManager:"UIPopupManager"}],PokerLobby:[function(e,t){"use strict";cc._RF.push(t,"c199fsTOl1ONohuVgoXROw4","PokerLobby"),e("PokerMenuRoom");var i=e("PokerNap"),n=e("Helper"),a=e("../../Script/ResourceManager");cc.Class({extends:cc.Component,properties:{prefabItem:cc.Node,username:cc.Label,usercoin:cc.Label,avatar:cc.Sprite,contentItem:cc.Node,pokerNap:i,pokerHongKong:!1,lieng:!1,frame:cc.Sprite},show:function(e){null!=e&&(this.data=e),this.node.active=!0},callGetInfo:function(){this.pokerHongKong?cc.RedT.send({g:{poker_hongkong:{listActiveTables:!0}}}):this.lieng?cc.RedT.send({g:{lieng:{listActiveTables:!0}}}):cc.RedT.send({g:{poker:{listActiveTables:!0}}})},playNow:function(){this.pokerHongKong?cc.RedT.send({g:{poker_hongkong:{playNow:!0}}}):this.lieng?cc.RedT.send({g:{lieng:{playNow:!0}}}):cc.RedT.send({g:{poker:{playNow:!0}}})},onDisable:function(){null!=this.intervalUpdate&&(clearInterval(this.intervalUpdate),this.intervalUpdate=null)},onDestroy:function(){null!=this.intervalUpdate&&(clearInterval(this.intervalUpdate),this.intervalUpdate=null)},showTable:function(e){e=e.tables;var t=this;this.pokerNap.node.active=!1,t.username.string=cc.RedT.user.name,t.usercoin.string=n.numberWithCommas(cc.RedT.user.red);var i=a.Instance.avatars[cc.RedT.user.avatar];this.frame&&cc.RedT.MainGame.updateFrame(Math.floor(cc.RedT.user.systemLevel/5)-1,this.frame),null!=i&&(t.avatar.spriteFrame=i),null==t.uiItemRoomArr&&(t.uiItemRoomArr=[]),null!=t.intervalUpdate&&(clearInterval(t.intervalUpdate),t.intervalUpdate=null),t.intervalUpdate=setInterval(function(){null!=t.node&&0!=t.node.active?t.callGetInfo():clearInterval(t.intervalUpdate)},6e4),t.node.active=!0;for(var o=0;o<t.uiItemRoomArr.length;o++)t.uiItemRoomArr[o].node.destroy();t.uiItemRoomArr=[],t.createItemsRoom(e)},createItemsRoom:function(e){for(var t=0;t<e.length;t++){var i=cc.instantiate(this.prefabItem);i.parent=this.contentItem;var n=i.getComponent("Poker_UIChooseRoom");n.init(this,e[t]),this.uiItemRoomArr.push(n)}},destroyItemsRoom:function(){this.contentItem.removeAllChildren()},hide:function(){this.node.active=!1,this.pokerNap.node.active=!1},getHistoryClick:function(){this.pokerHongKong?cc.RedT.send({g:{poker_hongkong:{history:!0}}}):this.lieng?cc.RedT.send({g:{lieng:{history:!0}}}):cc.RedT.send({g:{poker:{history:!0}}})}}),cc._RF.pop()},{"../../Script/ResourceManager":"ResourceManager",Helper:"Helper",PokerMenuRoom:"PokerMenuRoom",PokerNap:"PokerNap"}],PokerMenuRoom:[function(e,t){"use strict";cc._RF.push(t,"c919appq4lNZb+ag005xTtW","PokerMenuRoom");var i=e("PokerNap");cc.Class({extends:cc.Component,properties:{pokerNap:i,rootRoom:cc.Node,rooms:{default:[],type:cc.Sprite},table1:{default:[],type:cc.SpriteFrame},table2:{default:[],type:cc.SpriteFrame},title:cc.Label,red:!0},show:function(e){this.config=e,this.node.active=!0;var t=e.tabletypes,i=this.rootRoom.children,n=[];this.pokerNap.node.active=!1,Object.entries(t).forEach(function(e){return n.push({key:e[0],value:e[1]})}),n=n.filter(function(e){return 1==e.value.status});for(var a=0;a<i.length;a++)a>=n.length?i[a].active=!1:(i[a].active=!0,i[a].name=n[a].key,i[a].children[0].getComponent("cc.Label").string=n[a].key)},hide:function(){this.pokerNap.node.active=!1,this.node.active=!1},onClickRoom:function(e){this.bet=e.target.name,this.pokerNap.init(this),this.pokerNap.node.active=!0,cc.RedT.audio.playClick()}}),cc._RF.pop()},{PokerNap:"PokerNap"}],PokerNap:[function(e,t){"use strict";cc._RF.push(t,"24228zvZANA9qgncMTCgU85","PokerNap");var i=e("Helper");cc.Class({extends:cc.Component,properties:{touch:cc.Node,mask:cc.Node,toggle:cc.Toggle,labelBet:cc.Label,labelMin:cc.Label,labelMax:cc.Label,min:"",max:"",pokerHongKong:!1,lieng:!1},init:function(e){this.RedT=e,this.betMin=e.minBuyIn,this.betMax=e.maxBuyIn,this.h=this.betMin<1e6?1e3:1e6,this.labelMin.string=this.labelBet.string=i.numberWithCommas(this.betMin),this.labelMax.string=i.numberWithCommas(this.betMax),this.betMin=this.betMin/this.h,this.betMax=this.betMax/this.h,this.toggle.isChecked=!0},onEnable:function(){this.touch.on(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.touch.on(cc.Node.EventType.TOUCH_MOVE,this.eventMove,this),this.touch.on(cc.Node.EventType.TOUCH_END,this.eventEnd,this),this.touch.on(cc.Node.EventType.TOUCH_CANCEL,this.eventEnd,this)},onDisable:function(){this.touch.off(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.touch.off(cc.Node.EventType.TOUCH_MOVE,this.eventMove,this),this.touch.off(cc.Node.EventType.TOUCH_END,this.eventEnd,this),this.touch.off(cc.Node.EventType.TOUCH_CANCEL,this.eventEnd,this),this.mask.width=0,this.touch.position=cc.v2(0,0)},eventStart:function(e){this.touch.runAction(cc.scaleTo(.1,1)),this.offsetX={localX:e.touch.getLocationX(),x:this.touch.position.x}},eventMove:function(e){var t=e.touch.getLocationX()-this.offsetX.localX+this.offsetX.x;t<0?t=0:t>401&&(t=401),this.mask.width=t,this.touch.position=cc.v2(t,0);var n=t/401*(this.betMax-this.betMin)+this.betMin>>0;this.labelBet.string=i.numberWithCommas(n*this.h)},eventEnd:function(){this.touch.runAction(cc.scaleTo(.1,1))},onOkClick:function(){cc.RedT.inGame.loading.active=!0,this.pokerHongKong?cc.RedT.send({g:{poker_hongkong:{seatin:{id:this.RedT.id,buyin:i.getOnlyNumberInString(this.labelBet.string),auto:this.toggle.isChecked}}}}):this.lieng?cc.RedT.send({g:{lieng:{seatin:{id:this.RedT.id,buyin:i.getOnlyNumberInString(this.labelBet.string),auto:this.toggle.isChecked}}}}):cc.RedT.send({g:{poker:{seatin:{id:this.RedT.id,buyin:i.getOnlyNumberInString(this.labelBet.string),auto:this.toggle.isChecked}}}})},onCancelClick:function(){this.node.active=!1}}),cc._RF.pop()},{Helper:"Helper"}],PokerWinningResult:[function(e,t){"use strict";cc._RF.push(t,"2398aVcM7xFMK5eBByPf4ep","PokerWinningResult");var i=e("Helper");cc.Class({extends:cc.Component,properties:{canvasNode:cc.Node,playerRoot:cc.Node,background:cc.Node,coin:cc.Node,animTime:{default:.7,type:cc.Float},startScale:{default:.3,type:cc.Float},endScale:{default:.8,type:cc.Float},delayTime:{default:.1,type:cc.Float},countDownStartGame:cc.Label},start:function(){this.coinRoot=this.coin;var e=[];for(var t in this.coin.children)e.push(this.coin.children[t]);this.coin=e},stopWinningAction:function(){this.countDownStartGame.node.parent.active=!1,null!=this.intervalStartGame&&clearInterval(this.intervalStartGame),clearTimeout(this.timeoutShowWinner),this.background&&(this.background.active=!1)},onDestroy:function(){null!=this.intervalStartGame&&clearInterval(this.intervalStartGame)},startGameTimmer:function(e,t,n){null!=this.intervalStartGame&&clearInterval(this.intervalStartGame),null==t&&(t=Date.now()),null==n&&(n=Date.now());var a=Math.floor(e-(n-t)/1e3)-2,o=this;o.countDownStartGame.node.parent.active=!0,o.countDownStartGame.node.active=!0,o.countDownStartGame.string=i.getLang(cc.RedT.language,"new_game_start_in").replace("00",a<10?"0"+a:a),a-=1,this.intervalStartGame=setInterval(function(){o.countDownStartGame.string=i.getLang(cc.RedT.language,"new_game_start_in").replace("00",a<10?"0"+a:a),a<=0&&(clearInterval(o.intervalStartGame),o.countDownStartGame.node.parent.active=!1),a-=1},1e3)},handleWinResult:function(e){var t=e.data;if(0!==t.players.length){this.startGameTimmer(t.idleTime,t.idleServerTime,t.serverTime);var n=t.gameWinners.length-1,a=this;(function o(){if(n<0);else{var s=t.gameWinners[n],c=e.getUIWithName(s.playerName);if(s.isReturn&&1==s.isReturn)return c.doAction({action:i.getLang(cc.RedT.language,"repay"),amount:s.amount},!0),n--,void o();if(null==c)return console.error("UI null"),n--,void o();var r=[],l=[];c.node.setSiblingIndex(a.playerRoot.childrenCount-1),a.background.active=!0,a.background.setSiblingIndex(a.playerRoot.childrenCount-2);var h={a:0};cc.tween(h).to(.1,{a:25},{progress:function(e,t,i,n){if(null==a||null==a.playerRoot)cc.Tween.stopAllByTarget(h);else for(var o in r)r[o].node.y=(void 0)[o]+i;return e+(t-e)*n}}).call(function(){a.coinRoot.active=!0,null==s.baseAmount&&(s.baseAmount=Math.floor(100*s.amount/98)),e.data.game.pot-=s.baseAmount,e.updatePot(),a.tweenCoin(cc.v2(c.targetTweenCoinNode.x,c.targetTweenCoinNode.y),0,0,function(){c.doAction({action:i.getLang(cc.RedT.language,"win_allcap")+" +",amount:s.amount},!0),c.showWin(),a.timeoutShowWinner=setTimeout(function(){for(var e in r)r[e].node.y=(void 0)[e];for(var e in a&&a.background&&(a.background.active=!1),l)l[e].node.children[0].active=!1;n--,o()},2500)})}).start()}})()}},tweenCoin:function(e,t,i,n){for(var a=this.endScale,o=this.animTime,s=this.delayTime,c=[],r=0;r<this.coin.length;r++){var l=this.coin[r];l.x=t,l.y=i,l.scale=this.startScale,l.active=!0;var h=new Promise(function(t){cc.tween(l).delay(r*s).to(o,{position:e,scale:a},{easing:"sineInOut"}).to(0,{scale:0}).call(t).start()});c.push(h)}Promise.all(c).then(function(){n()})},getWinCard:function(e){var t=e.message,i=t.indexOf("(")+1,n=t.substr(i,t.indexOf(")")-i),a=n.split(" "),o=[],s=[].concat(e.cards),c=this;if(s.sort(function(e,t){return c.getCardValue(e[0])-c.getCardValue(t[0])}),2==s.length)return s;for(var r={C:0,D:0,H:0,S:0},l=s.length-1;l>=0;l--)r[s[l][1]]+=1;var h=null;if(r.C>=5&&(h="C"),r.D>=5&&(h="D"),r.H>=5&&(h="H"),r.S>=5&&(h="S"),t.startsWith("Four of a kind ")){for(l=s.length-1;l>=0;l--)s[l][0]==n&&(o.push(s[l]),s.splice(l,1));this.getMoreHighCard(s,o,1)}else if(t.startsWith("Full House "))for(l=s.length-1;l>=0;l--)s[l][0]!=a[0]&&s[l][0]!=a[1]||(o.push(s[l]),s.splice(l,1));else if(t.startsWith("Royal Flush "))this.getStraight(s,o,h,"A");else if(t.startsWith("Straight Flush "))this.getStraight(s,o,h,n);else if(t.startsWith("Flush"))for(l=s.length-1;o.length<5&&l>=0;l--)s[l][1]==h&&(o.push(s[l]),s.splice(l,1));else if(t.startsWith("Straight "))this.getStraight(s,o,h,n);else if(t.startsWith("Three of a Kind ")){for(l=s.length-1;l>=0;l--)s[l][0]==a[0]&&(o.push(s[l]),s.splice(l,1));this.getMoreHighCard(s,o,2)}else if(t.startsWith("Two Pair ")){for(l=s.length-1;l>=0;l--)s[l][0]!=a[0]&&s[l][0]!=a[1]||(o.push(s[l]),s.splice(l,1));this.getMoreHighCard(s,o,1)}else if(t.startsWith("One Pair ")){for(l=s.length-1;l>=0;l--)s[l][0]==a[0]&&(o.push(s[l]),s.splice(l,1));this.getMoreHighCard(s,o,3)}else t.startsWith("High Card ")&&this.getMoreHighCard(s,o,5);return o},getCardValue:function(e){var t=parseInt(e[0]);return 0==isNaN(t)?t:"T"==e[0]?10:"J"==e[0]?11:"Q"==e[0]?12:"K"==e[0]?13:"A"==e[0]?14:void 0},getMoreHighCard:function(e,t,i){for(var n=0,a=e.length-1;n<i;n++,a--)t.push(e[a])},getStraight:function(e,t,i,n){for(var a=this.getCardValue(n),o=e.length-1;o>=0;o--)if(null==i||e[o][1]==i){var s=this.getCardValue(e[o][0]);if(t.length>0&&this.getCardValue(t[t.length-1][0])==s)continue;s==a||a-s>=4?t.push(e[o]):5==a&&14==s&&t.push(e[o])}}}),cc._RF.pop()},{Helper:"Helper"}],Poker_HongkongGamePlay:[function(e,t){"use strict";var i;cc._RF.push(t,"34559YqA9tAOor1J8snHjp2","Poker_HongkongGamePlay");var n=e("Helper"),a=e("HandRank"),o=e("PokerWinningResult"),s=e("../../Poker/Scripts/ObjectChips");cc.Class({extends:cc.Component,properties:(i={labelRoomInfo:cc.Label,labelRoomBet:cc.Label,labelPot:cc.Label,handRank:a,pokerWinResult:o,chatBox:cc.Node,pkDialog:cc.Node,boardCards:{default:[],type:cc.Sprite},cardsSpriteH:{default:[],type:cc.SpriteFrame},cardsSpriteD:{default:[],type:cc.SpriteFrame},cardsSpriteC:{default:[],type:cc.SpriteFrame},cardsSpriteS:{default:[],type:cc.SpriteFrame},cardHide:cc.SpriteFrame,acGroup:cc.Node,acFold:cc.Node,acCheck:cc.Node,acAllin:cc.Node,acCall:cc.Node,acRaise:cc.Node,sliderPrice:cc.Slider,sliderLabel:cc.Label,callValue:cc.Label},i.sliderPrice=cc.Slider,i.sliderLabel=cc.Label,i.halfBetLabel=cc.Label,i.thirdBetLabel=cc.Label,i.betTab=cc.Node,i.fullpotButton=cc.Node,i.halfpotButton=cc.Node,i.objchips=s,i.objDropdownSetting=cc.Node,i.audioIcons={default:[],type:cc.SpriteFrame},i.audioIcon=cc.Sprite,i),onLoad:function(){this.acGroup.active=!1,this.pkDialog=this.pkDialog.getComponent("Poker_dialog")},exitConfirmPopup:function(){if(null==this.data||null==this.data.players)this.backGame();else{for(var e in this.data.players)if(this.data.players[e].UID==cc.RedT.user.UID)return void this.pkDialog.showBackGameConfirm();this.backGame()}},show:function(e,t){this.data=t,this.manager=e,this.node.active=!0,this.playersUI=e.player;for(var i=0;i<this.boardCards.length;i++)this.boardCards[i].node.active=!1;t.isDistributeCard=!0,t.isEndOfBettingRound=!1,this.handleTableEvent(t),this.pokerWinResult.background.active=!1,this.pokerChat=this.chatBox.getComponent("PokerChat"),this.pokerChat.init(t.tid)},handleStartgame:function(e){this.data=e,this.updateRoomState(),this.newSession()},handleUpdatePlayer:function(e){var t=[].concat(e.players);for(var i in e.playersToAdd){var n=!0;for(var a in e.playersToAdd[i].isPlayerToAdd=!0,e.players)e.playersToAdd[i].UID==e.players[a].UID&&(n=!1);n&&t.push(e.playersToAdd[i])}this.initPlayers(t)},sendData:function(e){this.manager.sendData(e)},cleartime:function(){this.pokerWinResult.stopWinningAction()},newSession:function(){for(var e=0;e<this.playersUI.length;e++)this.playersUI[e].newSession();this.labelPot.node.active=!1,this.pot=0},onDestroy:function(){this.timeCountDownStart&&clearInterval(this.timeCountDownStart)},onChat:function(e){if(this.pokerChat.onData(e),null!=e.message)for(var t=e.message.user,i=0;i<this.playersUI.length;i++)if(this.playersUI[i].nickname.string==t){this.playersUI[i].Chat(e.message.value);break}},countDownStartGame:function(){this.timerStartGame-=1,this.timerStartGame<0&&null!=this.timeCountDownStart&&(clearInterval(this.timeCountDownStart),this.timeCountDownStart=null)},updateRoomState:function(){if(null!=this.data&&(null!=this.data.session&&null!=this.data.tid&&null!=this.labelRoomInfo&&(this.labelRoomInfo.string=this.data.tid+(0==this.data.session?"":" - "+this.data.session)),null!=this.data.bigBlind&&null!=this.labelRoomBet&&(this.labelRoomBet.string=n.numberWithCommas(Math.floor(this.data.bigBlind)))),"JOIN"==this.data.state)this.pokerWinResult.stopWinningAction(),this.lastActionIndex=-1,cc.RedT.user.UID==this.data.creator?this.data.timerStartGame<=0?null!=this.timeCountDownStart&&(clearInterval(this.timeCountDownStart),this.timeCountDownStart=null):null==this.timeCountDownStart&&(this.timerStartGame=this.data.timerStartGame,null!=this.timeCountDownStart&&clearInterval(this.timeCountDownStart),this.timeCountDownStart=setInterval(this.countDownStartGame.bind(this),1e3)):null!=this.timeCountDownStart&&(clearInterval(this.timeCountDownStart),this.timeCountDownStart=null);else if(null!=this.timeCountDownStart&&clearInterval(this.timeCountDownStart),null!=this.playersUI)for(var e=0;e<this.playersUI.length;e++)1==this.playersUI[e].node.active&&this.playersUI[e].showRoomMaster(!1)},handleTableEvent:function(e){if(this.data=e,this.updateRoomState(),this.getMyIndex(this.data.players),"IN_PROGRESS"==e.state){if(this.handleUpdatePlayer(e),this.updatePot(),e.isEndOfBettingRound&&1==e.isEndOfBettingRound){for(var t in this.acGroup.active=!1,this.stopAllTimer(),e.players)if(null!=e.game&&null!=e.game.roundBets&&t<e.game.roundBets.length&&null!=this.lastRoundBet){if(this.lastRoundBet[t]==e.game.roundBets[t])continue;null!=(a=this.getUIWithName(e.players[t].playerName))&&1==a.node.active&&a.moveCoinToPot(this.labelPot.node)}}else if(e.isDistributeCard){var i=this,n=!1;if(null!=e.gameWinners&&e.gameWinners.length>0){for(var t in e.players)if(null!=e.game&&null!=e.game.roundBets&&t<e.game.roundBets.length&&null!=this.lastRoundBet){if(this.lastRoundBet[t]==e.game.roundBets[t])continue;var a;null!=(a=this.getUIWithName(e.players[t].playerName))&&1==a.node.active&&a.moveCoinToPot(this.labelPot.node)}n=!0,this.timeOutDelay=setTimeout(function(){i.handleWinResult()},2e3)}else this.manager.distributeCard_audio();if(n?this.timeOutDelay=setTimeout(function(){i.cancelAllActionUI(),i.renderCard(n)},2e3):(i.cancelAllActionUI(),i.renderCard(n)),this.handRank.calculateMyRank(this.data.board.concat(this.mycards)),(null==this.data.board||this.data.board.length<=0)&&null!=this.data.game&&null!=this.data.game.blinds){0==n&&this.pokerWinResult.stopWinningAction(),this.lastActionIndex=-1;var o=this.getUIClientIndex(this.data.game.blinds[0],this.myIndex),s=(this.playersUI[o],this.getUIClientIndex(this.data.game.blinds[1],this.myIndex));if(this.playersUI[s],null!=this.data.dealer){var c=this.getUIClientIndex(this.data.dealer,this.myIndex),r=this.playersUI[c];if(null!=r)for(r.showDealer(),t=0;t<this.playersUI.length;t++)r!=this.playersUI[t]&&this.playersUI[t].hideDealer()}}}else this.checkAction();null!=e.game&&null!=e.game.roundBets&&(this.lastRoundBet=[].concat(e.game.roundBets)),this.showLastAction()}else this.handleUpdatePlayer(e),this.newSession(),this.handRank.reset(),this.lastActionIndex=-1,this.closeBetTab()},getUIClientIndex:function(e,t){return 0==t?e:e>=t?e-t:this.playersUI.length-(t-e)},handleWinResult:function(){this.pokerWinResult.handleWinResult(this);var e=this.data;if(0!==e.players.length)for(var t=0;t<e.gameWinners.length;t++){var i=e.gameWinners[t];this.getUIWithName(i.playerName),i.playerName==cc.RedT.user.name&&this.manager.winAudio()}},updatePot:function(){var e=this,t=0;try{var i=this.data;if(null!=i.game){void 0===this.pot&&(this.pot=0),i.game&&i.game.pot&&(t=i.game.pot);var a={a:this.pot};this.labelPot.node.active=!0,t>this.pot&&this.manager.updatePot_audio(),cc.tween(a).to(1,{a:t},{progress:function(t,i,o,s){return null==e||null==e.labelPot?cc.Tween.stopAllByTarget(a):e.labelPot.string=n.numberWithCommas(Math.floor(o)),t+(i-t)*s}}).call(function(){e.labelPot.string=n.numberWithCommas(Math.floor(t))}).start(),this.pot=t}}catch(o){console.trace(o),e.labelPot.string=n.numberWithCommas(Math.floor(t))}},renderCard:function(e){for(var t=0;t<this.data.players.length;t++){var i=this.data.players[t],n=this.getUIClientIndex(t,this.myIndex),a=this.playersUI[n];null==a?console.error("ERROR: cannot find UI "+i.UID):a.setCard(i.cards,i,e)}for(t=0;t<this.boardCards.length;t++)null==this.data.board||this.data.board.length<=t?this.boardCards[t].node.active=!1:0==this.boardCards[t].node.active&&(this.boardCards[t].node.scale=cc.v2(.8,.8),this.boardCards[t].node.active=!0,this.boardCards[t].spriteFrame=this.getCardImage(this.data.board[t]),cc.tween(this.boardCards[t].node).to(.5,{scale:1}).start())},call:function(){this.sendData({performAction:{tid:this.data.tid,action:"Call"}}),this.acGroup.active=!1},bet:function(){var e=this.data.players[this.myIndex].chips+this.data.game.bets[this.myIndex],t=Math.max(this.minRaise,parseInt(this.sliderPrice.progress*e));t=1e3*Math.round(t/1e3),t-=this.data.game.bets[this.myIndex],this.sendData({performAction:{tid:this.data.tid,action:"Bet",amt:t}}),this.acGroup.active=!1,this.betTab.active=!1},slide:function(e){this.minRaise=this.getMinRaise(this.data);var t=this.data.players[this.myIndex].chips+this.data.game.bets[this.myIndex],i=this.minRaise/t;i>1&&(i=1),i>this.sliderPrice.progress&&i<1?this.sliderPrice.progress=i:i>=1&&(this.sliderPrice.progress=1);var a=this.sliderPrice.progress*t;e&&Number.isInteger(e)&&(a+=e,this.sliderPrice.progress=a/t),a=Math.max(this.minRaise,parseInt(this.sliderPrice.progress*t)),a=1e3*Math.round(a/1e3),this.objchips.GiveBackAll(),this.objchips.node.removeAllChildren(),this.sliderLabel.string=n.numberWithCommas(a);for(var o=parseInt(this.sliderPrice.node.height/20),s=parseInt(a/t*o),c=0;c<s;c++){var r=this.objchips.BorrowObject("chip");r.parent=this.objchips.node,r.position=new cc.v2(0,0)}},plusButton:function(){this.slide(1e3)},minusButton:function(){this.slide(-1e3)},fold:function(){this.sendData({performAction:{tid:this.data.tid,action:"Fold"}}),this.acGroup.active=!1},check:function(){this.sendData({performAction:{tid:this.data.tid,action:"Check"}}),this.acGroup.active=!1},raise:function(){this.minRaise=this.getMinRaise(this.data),this.acRaise.active=!1,console.trace("minraise ",this.minRaise),this.sliderPrice.progress=0,this.slide()},openBetTab:function(){if(this.betTab.active=!0,this.data.players[this.myIndex]&&this.data.game.bets[this.myIndex]){var e=this.data.players[this.myIndex].chips;this.halfBetLabel.string=n.ToKMB(Math.round(e/2/1e3*1e3)),this.thirdBetLabel.string=n.ToKMB(Math.round(e/4*3/1e3*1e3))}this.slide(),this.pot/2<this.minRaise&&this.pot<this.minRaise?(this.fullpotButton.active=!1,this.halfpotButton.active=!1):this.pot>=this.minRaise&&this.pot/2<this.minRaise?(this.fullpotButton.active=!0,this.halfpotButton.active=!1):(this.fullpotButton.active=!0,this.halfpotButton.active=!0)},closeBetTab:function(){this.betTab.active=!1},halfpotBet:function(){var e=this.pot/2;betToltal=1e3*Math.round(e/1e3),this.sendData({performAction:{tid:this.data.tid,action:"Bet",amt:betToltal}}),this.acGroup.active=!1,this.betTab.active=!1},fullpotBet:function(){var e=this.pot;betToltal=1e3*Math.round(e/1e3),this.sendData({performAction:{tid:this.data.tid,action:"Bet",amt:betToltal}}),this.acGroup.active=!1,this.betTab.active=!1},getMinRaise:function(e){var t=e.bigBlind,i=Math.max(t,1e3),n=e.game.betList;return"Deal"==e.game.roundName&&(i=2*t),1==n.length?i=2*n[0]:n.length>1&&(i=n[n.length-1]+(n[n.length-1]-n[n.length-2])),i},allin:function(){this.sendData({performAction:{tid:this.data.tid,action:"Allin"}}),this.acGroup.active=!1},backGame:function(){this.cleartime(),this.sendData({leaveTable:{tid:this.data.tid}}),void 0!==this.timeOut&&clearTimeout(this.timeOut),cc.RedT.send({g:{poker_hongkong:{listActiveTables:!0}}}),localStorage.setItem("playing_game",""),localStorage.setItem("playing_money",0)},checkAction:function(){for(var e=this.data.currentPlayer,t=this.myIndex==this.data.currentPlayer,i=this.getUIClientIndex(e,this.myIndex),a=0;a<this.playersUI.length;a++)1==this.playersUI[a].node.active&&(a==i?this.playersUI[a].startTimer(this.data.gameMode):this.playersUI[a].stopTimer());if(this.acGroup.active=t,0!=t){this.manager.turn_audio();var o=this.isCanCheck();this.acCheck.active=o;var s;if(s=!o&&this.isCanCall(),this.acCall.active=s,this.acFold.active=!0,s){var c=100,r=0;try{c=this.getMaxBet(this.data.game.bets),r=this.data.game.bets[this.myIndex];var l=Math.floor(c-r);this.callValue.string=n.numberWithCommas(l),0===l&&(this.acCall.active=!1,this.acCheck.active=!0)}catch(h){console.log("get me bet err: "+h)}}!s&&!o||this.getMinRaise(this.data)>=this.data.players[this.myIndex].chips?(this.acAllin.active=!0,this.acRaise.active=!1):(this.acRaise.active=!0,this.acAllin.active=!1)}},cancelAllActionUI:function(){for(var e=0;e<this.playersUI.length;e++)1==this.playersUI[0].node.active&&(this.playersUI[e].stopTimer(),this.playersUI[e].stopAction());this.acGroup.active=!1},stopAllTimer:function(){for(var e=0;e<this.playersUI.length;e++)1==this.playersUI[0].node.active&&this.playersUI[e].stopTimer()},showLastAction:function(){if(0!=this.data.actions.length&&this.lastActionIndex!=this.data.actions.length-1){this.lastActionIndex=this.data.actions.length-1;var e=this.data.actions[this.data.actions.length-1],t=this.getUIWithName(e.playerName);null!=t?t.doAction(e):console.error("cannot find user with name: "+e.playerName)}},getUIWithName:function(e){for(var t=0;t<this.playersUI.length;t++)if(1==this.playersUI[t].node.active&&this.playersUI[t].nickname.string==e)return this.playersUI[t];return null},isCanCheck:function(){var e,t;e=!0;var i=this.data.game;if(void 0===i.bets)return!1;for(t=0;t<i.bets.length;t+=1)0!==i.bets[t]&&(e=!1);return e},isCanCall:function(){var e,t=this.data.game;e=this.getMaxBet(t.bets);var i=this.data.players[this.myIndex];return null!=i&&i.chips>e},getMaxBet:function(e){if(null==e)return 0;var t,i;for(t=0,i=0;i<e.length;i+=1)e[i]>t&&(t=e[i]);return t},activeAction:function(e){this.acRaise.active=e,this.acFold.active=e,this.acAllin.active=e,this.acCheck.active=e},getMyIndex:function(e){this.myIndex=0,this.mycards=[];for(var t=0;t<e.length;t++){var i=e[t];if(i.UID==cc.RedT.user.UID)return this.myIndex=t,void(this.mycards=i.cards)}},sendStartGame:function(){this.sendData({StartGame:{room:this.data.tid}}),null!=this.timeCountDownStart&&(clearInterval(this.timeCountDownStart),this.timeCountDownStart=null)},hide:function(){this.node.active=!1},initPlayers:function(e){this.getMyIndex(e);for(var t=this.myIndex,i=new Array,n=0;n<e.length;n++){var a=this.getUIClientIndex(n,t);if(a>=this.playersUI.length)return void console.error("Players in this table more than UI of client");i.push(a),this.playersUI[a].node.active=!0,this.playersUI[a].showRoomMaster(null!=this.data&&e[n].UID==this.data.creator);var o=0;null!=this.data&&null!=this.data.game&&null!=this.data.game.bets&&n<this.data.game.bets.length&&(o=this.data.game.bets[n]),this.playersUI[a].setInfo(e[n],this,o)}for(n=0;n<this.playersUI.length;n++)0==i.includes(n)&&(this.playersUI[n].node.active=!1)},getCardImage:function(e){if(null==e||-1==e)return this.cardHide;var t=e[0],i=0;if(t>="0"&&t<="9")i=parseInt(t);else switch(t){case"J":i=11;break;case"Q":i=12;break;case"K":i=13;break;case"A":i=1;break;case"T":i=10}switch(e[1]){case"H":return this.cardsSpriteH[i];case"D":return this.cardsSpriteD[i];case"C":return this.cardsSpriteC[i];case"S":return this.cardsSpriteS[i]}return this.cardHide},chatButtonTopClick:function(){this.chatBox.active=!this.chatBox.active},onSetAudio:function(){this.audioIcon.spriteFrame==this.audioIcons[1]?(cc.RedT.inGame.pauseMusic(),this.audioIcon.spriteFrame=this.audioIcons[0]):(cc.RedT.inGame.playMusic(),this.audioIcon.spriteFrame=this.audioIcons[1])},showSettingDropdown:function(){this.objDropdownSetting.active=!this.objDropdownSetting.active},hideSettingDropdown:function(){this.objDropdownSetting.active=!1}}),cc._RF.pop()},{"../../Poker/Scripts/ObjectChips":"ObjectChips",HandRank:"HandRank",Helper:"Helper",PokerWinningResult:"PokerWinningResult"}],Poker_Player:[function(e,t){"use strict";cc._RF.push(t,"08c35KVzctDvIwCSXlr/Ih1","Poker_Player");var i=e("Helper"),n=e("../../../Script/ResourceManager");cc.Class({extends:cc.Component,properties:{nickname:cc.Label,balans:cc.Label,bet:cc.Label,actionName:cc.Label,card:cc.Node,Progress:cc.ProgressBar,Avatar:cc.Sprite,frame:cc.Sprite,chatBox:cc.Node,chatContent:cc.Label,roomMaster:cc.Node,dealerIcon:cc.Node,totalBet:cc.Label,targetTweenCoinNode:cc.Node,BB:cc.Node,SB:cc.Node,winNode:cc.Node,loseNode:cc.Node,iconCall:cc.Node,iconCheck:cc.Node,iconFold:cc.Node,iconBet:cc.Node,allinNode:cc.Node,is5Card:!1,isLieng:!1,isMainPlayer:!1},start:function(){this.tweenCoinAnim=this.node.getComponent("tweenCoinAnim")},moveCoinToPot:function(e){255==this.node.opacity&&this.tweenCoinAnim&&this.tweenCoinAnim.doAction(e),this.lastRoundBet=""},onEnable:function(){this.stopTimer(),this.stopAction()},showRoomMaster:function(){},setInfo:function(e,t,a){if(this.userUID=e.UID,this.playerId!=e.id){if(this.gameplay=t,this.hideAllNode(),this.chatBox.active=!1,this.dealerIcon&&(this.dealerIcon.active=!1),this.BB&&(this.BB.active=!1),this.SB&&(this.SB.active=!1),this.is5Card||this.isLieng){if(null==this.cardsUI){this.cardsUI=[];for(var o=0;o<5;o++)this.cardsUI.push(this.card.children[o].getComponent("cc.Sprite"));this.card.active=!1}}else null==this.cardUI1&&(this.cardUI1=this.card.children[0].getComponent("cc.Sprite"),this.cardUI2=this.card.children[1].getComponent("cc.Sprite"),this.card.active=!1);if(this.data=e,this.playerId=e.id,e){if(this.nickname.string=e.playerName,this.balans.string=i.numberWithCommas(e.chips),this.data.folded||this.data.isPlayerToAdd&&1==this.data.isPlayerToAdd){if(this.node.opacity=100,this.isMainPlayer)for(this.frame&&cc.RedT.MainGame.updateFrame(Math.floor(cc.RedT.user.systemLevel/5)-1,this.frame),o=0;this.card.children[o];)this.card.children[o].color=new cc.color(85,85,85,255),o++;else this.card.active=!1;this.data.isPlayerToAdd&&1==this.data.isPlayerToAdd&&(this.stopTimer(),this.stopAction())}0==a?(this.totalBet.node.active=!1,this.hideActionNode()):(this.totalBet.string=i.numberWithCommas(a),this.totalBet.node.active=!0);var s=this,c=parseInt(e.avatar);isNaN(c)&&(c=0)}else this.node.active=!1;s=this,c=parseInt(e.avatar),isNaN(c)&&(c=0);var r=n.Instance.avatars[c];null!=r&&(s.Avatar.spriteFrame=r)}else e&&(this.data=e,this.balans.string=i.numberWithCommas(e.chips),0==a?this.totalBet.node.active=!1:(this.totalBet.string=i.numberWithCommas(a),this.totalBet.node.active=!0))},newSession:function(){this.setCard(null),this.stopTimer(),this.stopAction(),this.card.active=!1,this.hideAllNode()},Chat:function(e){var t=this;this.chatContent.string=e,this.chatBox.active=!0,setTimeout(function(){null!=t.chatBox&&(t.chatBox.active=!1)},3e3)},stopAction:function(){this.actionName.node.parent.active=!1,this.allinNode.active=!1,this.iconFold.active=!1,this.iconBet.active=!1,this.iconCall.active=!1,this.iconCheck.active=!1,this.bet.node.parent.active=!1,this.winNode.active&&this.hideWin()},showDealer:function(){this.dealerIcon&&(this.dealerIcon.active=!0),this.SB.active=!1,this.BB.active=!1},hideDealer:function(){this.dealerIcon&&(this.dealerIcon.active=!1)},capitalizeFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},doAction:function(e,t){if(void 0===t&&(t=!1),this.actionName.node.color=cc.Color.GREEN,this.actionName.node.active=!0,this.timeoutAction&&clearTimeout(this.timeoutAction),"fold"==e.action){if(this.node.opacity=100,this.isMainPlayer)for(var n=0;this.card.children[n];)this.card.children[n].color=new cc.color(85,85,85,255),n++;else this.card.active=!1;this.iconFold.active=!0,this.iconCall.active=!1,this.iconCheck.active=!1,this.iconBet.active=!1,this.allinNode.active=!1,this.actionName.string=i.getLang(cc.RedT.language,"fold")+(t?" "+i.numberWithCommas(e.amount):"")}"call"==e.action&&(this.iconCall.active=!0,this.iconCheck.active=!1,this.iconFold.active=!1,this.iconBet.active=!1,this.actionName.string=i.getLang(cc.RedT.language,"poker_call")),"check"==e.action&&(this.iconCheck.active=!0,this.iconCall.active=!1,this.iconFold.active=!1,this.iconBet.active=!1,this.actionName.string=i.getLang(cc.RedT.language,"poker_check")+(t?" "+i.numberWithCommas(e.amount):"")),"allin"!=e.action&&"bet"!=e.action||(this.iconBet.active=!0,this.iconCheck.active=!1,this.iconCall.active=!1,this.iconFold.active=!1,this.actionName.node.active=!1,"allin"==e.action&&(this.allinNode.active=!0)),"WIN +"==e.action&&(this.iconBet.active=!1,this.iconCheck.active=!1,this.iconCall.active=!1,this.iconFold.active=!1,this.actionName.node.color=cc.Color.YELLOW,this.actionName.string=t?" +"+i.numberWithCommas(e.amount):""),e.action=this.capitalizeFirstLetter(e.action),this.actionName.node.parent.active=!0,"Big Blind"==e.action?(this.BB.active=!0,this.iconFold.active=!1,this.iconCall.active=!1,this.iconCheck.active=!1,this.actionName.string=e.action):"Small Blind"==e.action&&(this.SB.active=!0,this.iconFold.active=!1,this.iconCall.active=!1,this.iconCheck.active=!1,this.actionName.string=e.action),this.is5Card||(null!=e.amount?(this.bet.string=i.numberWithCommas(e.amount),this.bet.node.active=!0):this.bet.node.active=!1)},onDisable:function(){this.card&&(this.card.active=!1),this.playerId=-1},setCard:function(e,t,i){var n=this;if(null!=this.gameplay){if(t&&1==t.folded){if(0==i)if(this.node.opacity=100,this.isMainPlayer)for(var a=0;this.card.children[a];)this.card.children[a].color=new cc.color(85,85,85,255),a++;else this.card.active=!1}else{for(a=0;this.card.children[a];)this.card.children[a].color=new cc.color(255,255,255,255),a++;this.node.opacity=255,this.card.active=!0}if(this.is5Card)for(this.gameplay.getCardImage(null),a=0;a<this.cardsUI.length;a++)if(null!=e)if(e.length>a){var o=this.cardsUI[a].spriteFrame;this.cardsUI[a].spriteFrame=this.gameplay.getCardImage(e[a]),this.cardsUI[a].node.active=!0,o!=this.gameplay.cardHide&&o!=this.cardsUI[a].spriteFrame&&cc.tween(this.cardsUI[a].node).to(.5,{scale:1}).start()}else this.cardsUI[a].node.active=!1;else this.cardsUI[a].node.active=!1;else if(this.isLieng)for(this.gameplay.getCardImage(null),a=0;a<this.cardsUI.length;a++)if(null!=e)if(e.length>a){var s=this.cardsUI[a].spriteFrame;this.isMainPlayer?this.cardsUI[a].spriteFrame=this.gameplay.getCardImage(e[a]):this.cardsUI[a].spriteFrame=0==i?this.gameplay.getCardImage(null):this.gameplay.getCardImage(e[a]),this.cardsUI[a].node.active=!0,s!=this.gameplay.cardHide&&s!=this.cardsUI[a].spriteFrame&&(cc.tween(this.cardsUI[a].node).to(.5,{scale:1}).start(),null!=this.tweenCoinAnim&&function(){var e=a,i=null!=t&&null!=t.index?t.index:0;n.tweenCoinAnim.tweenCard(i,function(){this.cardsUI[e].node.active=!0}.bind(n))}())}else this.cardsUI[a].node.active=!1;else this.cardsUI[a].node.active=!1;else{var c=this.gameplay.getCardImage(null),r=this.gameplay.getCardImage(null);null!=e&&(2==e.length?(c=this.gameplay.getCardImage(e[0]),r=this.gameplay.getCardImage(e[1])):1==e.length&&(c=this.gameplay.getCardImage(e[0]))),this.cardUI1.spriteFrame!=c&&(this.cardUI1.spriteFrame=c,c!=this.gameplay.cardHide&&cc.tween(this.cardUI1.node).to(.5,{scale:1}).start()),this.cardUI2.spriteFrame!=r&&(this.cardUI2.spriteFrame=r,r!=this.gameplay.cardHide&&cc.tween(this.cardUI2.node).to(.5,{scale:1}).start())}}},startTimer:function(e){var t="fast"==e?15:30;this.startProgress(t)},stopTimer:function(){this.startProgress(0)},showWin:function(){this.winNode.active=!0},hideWin:function(){this.winNode.active=!1},hideAllNode:function(){this.bet.node.parent.active=!1,this.BB.active=!1,this.SB.active=!1,this.winNode.active=!1,this.loseNode.active=!1,this.hideActionNode()},hideActionNode:function(){this.iconFold.active=!1,this.iconBet.active=!1,this.iconCall.active=!1,this.iconCheck.active=!1,this.allinNode.active=!1},startProgress:function(e){this.Progress.progress=0,this.startTimeCount=Date.now(),this.progressTime=e},update:function(){if(this.progressTime){var e=(Date.now()-this.startTimeCount)/1e3;this.Progress.progress=e/this.progressTime,this.Progress.progress>=1&&(this.Progress.progress=0,this.progressTime=0)}}}),cc._RF.pop()},{"../../../Script/ResourceManager":"ResourceManager",Helper:"Helper"}],Poker_UIChooseRoom:[function(e,t){"use strict";cc._RF.push(t,"108b6+0RpxMvJ90LtLIe19o","Poker_UIChooseRoom");var i=e("Helper");cc.Class({extends:cc.Component,properties:{labelMucCuoc:{default:null,type:cc.Label},labelCuocToiDa:{default:null,type:cc.Label},labelSoNguoiChoi:{default:null,type:cc.Label},spriteProgress:{default:null,type:cc.Sprite},isLieng:!1},init:function(e,t){this.screenLobby=e,this.data=t,this.labelMucCuoc.string=i.ToKMB2(t.smallBlind,3)+"/"+i.ToKMB2(t.bigBlind,3),this.labelCuocToiDa.string=i.ToKMB2(t.minBuyIn,3)+"/"+i.ToKMB2(t.maxBuyIn,3),this.isLieng?(this.labelSoNguoiChoi.string=t.playerCount+"/6",this.spriteProgress.fillRange=t.playerCount/6):(this.labelSoNguoiChoi.string=t.playerCount+"/"+t.maxPlayers,this.spriteProgress.fillRange=t.playerCount/t.maxPlayers)},onBtnPlay:function(){var e=this.screenLobby.pokerNap;e.init(this.data),e.node.active=!0,cc.RedT.audio.playClick()}}),cc._RF.pop()},{Helper:"Helper"}],Poker_UIItemChoseRoom:[function(e,t){"use strict";cc._RF.push(t,"ba3a79t5d9NhY/UpuB4b5/2","Poker_UIItemChoseRoom");var i=e("Helper");cc.Class({extends:cc.Component,properties:{labelMucCuoc:cc.Label,labelMinMaxBuyIn:cc.Label,labelUserCount:cc.Label,spriteUserProgress:cc.Sprite},init:function(e,t){var n=e.manager.room_config;this.labelMucCuoc.string=i.numberWithCommas(t.room),this.labelMinMaxBuyIn.string=i.numberWithCommas(t.room*n.minBuyin)+"/"+i.numberWithCommas(t.room*n.mmaxBuyin),this.labelUserCount.string=t.players.lenth,this.spriteUserProgress.fillRange=t.players.lenth/9}}),cc._RF.pop()},{Helper:"Helper"}],Poker_dialog:[function(e,t){"use strict";cc._RF.push(t,"799d0NxTxZH87YILrFW/Q4v","Poker_dialog");var i=e("PokerHistory");cc.Class({extends:cc.Component,properties:{pokerHistory:i,pokerHelp:cc.Node,pokerConfirmPopup:cc.Node,pokerSetting:cc.Node,popupReward:cc.Node},onData:function(e){null!=e.history&&this.pokerHistory.onData(e.history)},showHelp:function(){this.node.active=!0,this.pokerHelp.active=!0},hideHelp:function(){this.node.active=!1,this.pokerHelp.active=!1},showHistory:function(){this.node.active=!0,this.pokerHistory.node.active=!0},hideHistory:function(){this.node.active=!1,this.pokerHistory.node.active=!1},showBackGameConfirm:function(){this.node.active=!0,this.pokerConfirmPopup.active=!0},hideBackGameConfirm:function(){this.node.active=!1,this.pokerConfirmPopup.active=!1},showSetting:function(){this.node.active=!0,this.pokerSetting.active=!0},hideSetting:function(){this.node.active=!1,this.pokerSetting.active=!1},showPopupReward:function(){this.popupReward.active=!0,this.pokerConfirmPopup.active=!1},hidePopupReward:function(){this.node.active=!1,this.popupReward.active=!1}}),cc._RF.pop()},{PokerHistory:"PokerHistory"}],Poker:[function(e,t){"use strict";cc._RF.push(t,"da6206x0vxDYYb9i+7vNqGx","Poker");var i,n=(i=e("UIPopupManager"))&&i.__esModule?i:{default:i},a=e("Helper"),o=e("Poker_Player"),s=e("Poker_dialog"),c=e("PokerLobby"),r=e("PokerGamePlay"),l=e("Admob");cc.Class({extends:cc.Component,properties:{lobby:c,gameplay:r,prefabNotice:{default:null,type:cc.Prefab},loading:cc.Node,notice:cc.Node,dialog:s,player:{default:[],type:o},roomCard:cc.Node,boxWatchVideo:cc.Node,Progress:cc.Sprite,time:cc.Label},onLoad:function(){cc.RedT.inGame=this,this.lobby.node.active=!0,this.gameplay.node.active=!1,this.isShowBoxUI=!1,this.sendData({view:!0}),this.sendData({listActiveTables:!0})},sendData:function(e){cc.RedT.send({scene:"poker",g:{poker:e}})},showHistory:function(){this.dialog.showHistory()},onData:function(e){e.meMap&&(this.meMap=e.meMap),null!=e.notice&&(e.notice.addfriend?n.default.Instance.notice.show(e.notice):this.addNotice(e.notice)),void 0!==e.user&&(e.user.newLevel&&e.user.oldLevel&&e.user.bonus&&e.user.newLevel>e.user.oldLevel&&(n.default.Instance.noticeBonusLvl(e),cc.RedT.user.systemLevel=e.newLevel),e.user.systemLevel&&cc.RedT.user.systemLevel<e.user.systemLevel&&(n.default.Instance.noticeBonusLvl(e),cc.RedT.user.systemLevel=e.user.systemLevel),cc.RedT.userData(e.user)),e.friend&&(e.friend.addFriend?1==e.friend.addFriend.success?n.default.Instance.notice.show({title:a.getLang(cc.RedT.language,"taixiu_notice"),text:a.getLang(cc.RedT.language,"add_fr_success")}):n.default.Instance.notice.show({title:a.getLang(cc.RedT.language,"taixiu_notice"),text:a.getLang(cc.RedT.language,"already_fr")}):e.friend.confirmFriend&&(1==e.friend.confirmFriend.success?n.default.Instance.notice.show({title:a.getLang(cc.RedT.language,"taixiu_notice"),text:a.getLang(cc.RedT.language,"add_fr_success")}):n.default.Instance.notice.show({title:a.getLang(cc.RedT.language,"taixiu_notice"),text:a.getLang(cc.RedT.language,"already_fr")}))),null!=e.poker&&(null!=(e=e.poker).tabletypes&&this.onConfigTable(e),null!=e.roomInfo&&this.onListActiveTable(e.roomInfo),null!=e.playerJoin&&this.handleJoinTable(e),null!=e.bank_rupt&&this.handleBankrupt(e.bank_rupt),null!=e.StartGame&&this.handleStartGame(e.StartGame),null!=e.updatePlayer&&this.handleUpdatePlayer(e.updatePlayer),null!=e.onTableEvent&&this.handleTableEvent(e.onTableEvent),null!=e.history&&this.dialog.onData(e),null!=e.chat&&this.gameplay.onChat(e.chat),e.infoGhe&&this.infoGhe(e.infoGhe),e.ingame&&this.ingame(e.ingame),e.outgame&&this.outgame(e.outgame),e.game&&this.game(e.game))},addNotice:function(e){console.log(e),cc.RedT.inGame.loading.active=!1,"string"==typeof e?n.default.Instance.notice.show({title:a.getLang(cc.RedT.language,"taixiu_notice"),text:e}):void 0!==e.button?n.default.Instance.notice.show({title:e.title,text:e.text,button:{text:"notice",type:"watchVideo"}}):n.default.Instance.notice.show({title:e.title,text:e.text})},onConfigTable:function(e){this.room_config=e,this.lobby.show(e)},onListActiveTable:function(e){this.lobby.node.active=!0,this.gameplay.node.active=!1,this.lobby.showTable(e)},handleJoinTable:function(e){1==e.playerJoin.success&&(this.lobby.hide(),this.gameplay.show(this,e.table_info)),cc.RedT.inGame.loading.active=!1},handleBankrupt:function(e){this.gameplay.backGame(),this.addNotice(e.message)},handleStartGame:function(e){this.gameplay.handleStartgame(e)},handleUpdatePlayer:function(e){this.gameplay.handleUpdatePlayer(e)},handleTableEvent:function(e){if(this.gameplay.handleTableEvent(e),"IN_PROGRESS"==e.state);else{for(var t=e.playersToAdd,i=!1,n=0;n<t.length;n++)if(t[n].UID==cc.RedT.user.UID){i=!0;break}i||(this.lobby.show(),this.gameplay.hide())}},handleWinResult:function(e){this.gameplay.handleWinResult(e)},handleTimeout:function(){var e=this;"JOIN"==e.gameSession.state&&e.resetCountDown(),"IN_PROGRESS"!=e.gameSession.state||e.timeout.gid===e.gameSession.id&&e.timeout.tid===e.gameSession.tid&&e.timeout.player===e.gameSession.currentPlayer||(e.resetCountDown(),e.timeout={player:e.gameSession.currentPlayer,gid:e.gameSession.id,tid:e.gameSession.tid,count:"normal"==e.gameSession.gameMode?30:15,ref:e.initCountdown()})},gameStart:function(e){var t=this;Promise.all(e.map(function(e){t.player[e.ghe].setInfo(e.data)}))},game:function(e){e.start&&this.gameStart(e.start)},infoGhe:function(e){var t=this,i=this,n={},a=[];if(1!=this.meMap){var o=this.meMap-1;a=[].concat(e.slice(o),e.slice(0,o))}else a=e;Promise.all(a.map(function(e,t){var a=i.player[t];n[e.ghe]=a,a.setInfo(e.data)})).then(function(){t.player=n})},ingame:function(e){this.player[e.ghe].setInfo(e.data)},outgame:function(e){this.player[e].setInfo(null)},backGame:function(){cc.RedT.send({g:{poker:{outgame:!0}}}),this.loading.active=!0,void 0!==this.timeOut&&clearTimeout(this.timeOut),cc.director.loadScene("MainGame"),this.gameplay.pauseMusic()},signOut:function(){cc.director.loadScene("MainGame",function(){cc.RedT.inGame.signOut()})},addFriendPopup:function(e,t){n.default.Instance.showAddFriend(this.player[t])},onBtnToggleBoxWatchVideo:function(){var e=this;cc.Tween.stopAllByTarget(this.boxWatchVideo),0==this.isShowboxWatchVideo?(this.isShowboxWatchVideo=!0,this.boxWatchVideo.position=cc.v2(-250,0),this.boxWatchVideo.active=!0,cc.tween(this.boxWatchVideo).to(.25,{position:cc.v2(-20,0)}).start()):(this.isShowboxWatchVideo=!1,cc.tween(this.boxWatchVideo).to(.25,{position:cc.v2(-250,0)}).call(function(){e.boxWatchVideo.active=!0}).start())},onEnable:function(){this.intervalCountDown&&(clearInterval(this.intervalCountDown),this.intervalCountDown=null),this.check5minsWatchEvent()?(this.Progress.fillRange=0,this.time.node.active=!1):this.startCountDown()},onDisable:function(){this.hideCountDown()},hideCountDown:function(){this.intervalCountDown&&(clearInterval(this.intervalCountDown),this.intervalCountDown=null,this.time.node.active=!1)},startCountDown:function(){this.Progress.fillRange=1,this.time.node.active=!0;var e=JSON.parse(localStorage.getItem("timeEventWatch")),t=0;if(e)for(var i=0;i<e.length;i++)if(e[i].username==cc.RedT.user.name){t=e[i].time;break}var n=(t+3e5-Date.now())/1e3;void 0!==this.timeInterval&&clearInterval(this.timeInterval),this.intervalCountDown=setInterval(function(){this.time.string=this.secondsToHms(n),(n-=1)<=0&&(this.Progress.fillRange=0,this.hideCountDown())}.bind(this),1e3)},onClickEventWatchVideo:function(){if(this.check5minsWatchEvent()){n.default.Instance.coinsEventWatch();var e=(new Date).getTime(),t=JSON.parse(localStorage.getItem("timeEventWatch"));if(null!=t){for(var i=0,a=0;a<t.length;a++)if(t[a].username==cc.RedT.user.name){t[a].time=e,i=1;break}1==i?cc.sys.localStorage.setItem("timeEventWatch",JSON.stringify(t)):(t.push({username:cc.RedT.user.name,time:e}),cc.sys.localStorage.setItem("timeEventWatch",JSON.stringify(t)))}else t=[{username:cc.RedT.user.name,time:e}],cc.sys.localStorage.setItem("timeEventWatch",JSON.stringify(t));l.Instance.showRewarded(),this.startCountDown()}},check5minsWatchEvent:function(){var e=(new Date).getTime(),t=JSON.parse(localStorage.getItem("timeEventWatch")),i=null;if(null!=t&&"null"!==t)for(var n=0;n<t.length;n++)t[n].username==cc.RedT.user.name&&(i=t[n].time);return!i||e-(i=parseInt(i))>3e5},secondsToHms:function(e){e=Number(e);var t=Math.floor(e/3600),i=Math.floor(e%3600/60),n=Math.floor(e%3600%60);return(t>0?t+":":"")+(i>0?i+":":"0:")+(n>0?n+"":"0")},pauseMusic:function(){this.gameplay.pauseMusic()},playMusic:function(){this.gameplay.playMusic()}}),cc._RF.pop()},{Admob:"Admob",Helper:"Helper",PokerGamePlay:"PokerGamePlay",PokerLobby:"PokerLobby",Poker_Player:"Poker_Player",Poker_dialog:"Poker_dialog",UIPopupManager:"UIPopupManager"}],Profile:[function(e,t){"use strict";cc._RF.push(t,"d8d00YWIWBCb7SVNiYpGTax","Profile");var i=e("ResourceManager");cc.Class({extends:cc.Component,properties:{header:cc.Node,CaNhan:cc.Node,KetSat:cc.Node,BaoMat:cc.Node,chooseAvatar:cc.Node,avatarImg:cc.Sprite,uiItemLichSu:cc.Node,uiItemKetSat:cc.Node},init:function(){var e=this;this.CaNhan=this.CaNhan.getComponent("CaNhan"),this.KetSat=this.KetSat.getComponent("KetSat"),this.BaoMat=this.BaoMat.getComponent("BaoMat"),this.KetSat.init(),this.BaoMat.init(),this.body=[this.CaNhan,this.KetSat,this.BaoMat],Promise.all(this.header.children.map(function(e){return e.getComponent("itemHeadMenu")})).then(function(t){e.header=t});var t=parseInt(cc.RedT.user.avatar);isNaN(t)&&(t=0);var n=i.Instance.avatars[t];null!=n&&(this.avatarImg.spriteFrame=n)},onEnable:function(){0==cc.RedT.user.showall?this.uiItemKetSat.active=!1:this.uiItemKetSat.active=!0,cc.RedT.inGame.header.node.active=!1},onDisable:function(){cc.RedT.inGame.header.node.active=!0},onSelectHead:function(e,t){Promise.all(this.header.map(function(e){e.node.name==t?e.select():e.unselect()})),Promise.all(this.body.map(function(e){e.node.name==t?e.node.active=!0:e.node.active=!1}))},superView:function(e){"CaNhan"==e?this.onSelectHead(null,"CaNhan"):"KetSat"==e?this.onSelectHead(null,"KetSat"):"BaoMat"==e&&this.onSelectHead(null,"BaoMat")},onData:function(e){void 0!==e.the_cao&&cc.RedT.inGame.dialog.the_cao.onData(e.the_cao),void 0!==e.level&&this.CaNhan.level(e.level)},avatar_click:function(){this.chooseAvatar.getComponent("ChooseAvatarPopup").show(this)}}),cc._RF.pop()},{ResourceManager:"ResourceManager"}],PushNohu:[function(e,t){"use strict";cc._RF.push(t,"0faf5dS7zpEdoBIck7+SPhQ","PushNohu");var i=e("Helper");cc.Class({extends:cc.Component,properties:{prefab:cc.Prefab,isPush:!1},onEnable:function(){this.list=[]},pushNotice:function(){if(this.list.length>0){this.isPush=!0;var e=this.list[0];this.addNotice(e),this.list.splice(0,1)}else this.isPush=!1},onData:function(e){this.isPush?this.list.push(e):this.addNotice(e),this.isPush=!0,this.addNews(e)},addNotice:function(e){var t;(t=(t=cc.instantiate(this.prefab)).getComponent("ThongBaoNoHu")).title.string=e.title,t.users.string=e.name,t.bet.string=i.numberWithCommas(e.bet),t.init(this),this.node.addChild(t.node)},addNews:function(e){cc.RedT.inGame.newsContents.NewsAddText({users:e.name,bet:e.bet,game:e.title,status:1})}}),cc._RF.pop()},{Helper:"Helper"}],ResourceManager:[function(e,t){"use strict";cc._RF.push(t,"51450s8hJpN6IUBBFIBAWj+","ResourceManager");var i=cc.Class({extends:cc.Component,statics:{Instance:null},properties:{avatars:[cc.SpriteFrame],frames:[cc.SpriteFrame]},onLoad:function(){cc.game.addPersistRootNode(this.node),i.Instance=this}});t.exports=i,cc._RF.pop()},{}],RestApi:[function(e,t){"use strict";cc._RF.push(t,"1f2a8aXbnZKs5vCBsxjjeFl","RestApi");var i={CallGet:function(e,t,i){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==n.readyState&&n.status>=200&&n.status<400){var e=n.responseText;i(e)}},n.open("GET",e,!0),n.send()},CallPost:function(e,t,i,n){void 0===n&&(n="");var a=e,o=new XMLHttpRequest;o.open("POST",a,!0),o.setRequestHeader("Content-type","application/json"),""!=n&&o.setRequestHeader("Authorization","Bearer "+n),o.onreadystatechange=function(){4==o.readyState&&o.status>=200&&o.status<400&&i(o.responseText)},o.send(JSON.stringify(t))}};t.exports=i,cc._RF.pop()},{}],RichTextLanguage:[function(e,t){"use strict";cc._RF.push(t,"bb2d97A1NlN8rYo7LAMiJcQ","RichTextLanguage");var i=e("EventDispatcher"),n=e("EnumText");cc.Class({extends:cc.Component,properties:{typeText:{default:n.NormalCase,type:n},key:"",label:cc.RichText,fontVn:cc.Font,fontDe:cc.Font,fontEn:cc.Font,fontCn:cc.Font,fontTh:cc.Font,fontSizeVn:0,fontSizeDe:0,fontSizeEn:0,fontSizeCn:0,fontSizeTh:0},onLoad:function(){if(this.fontDefault=this.label.font,this.fontSizeDefault=this.label.fontSize,this.typeText==n.ToUpperCase?this.label.string=this.label.string.toUpperCase():this.typeText==n.ToLowerCase&&(this.label.string=this.label.string.toLowerCase()),null!=cc.RedT.language&&null!=cc.RedT.Frontendlanguages)if("vn"==cc.RedT.language){if(null==this.fontVn)return;this.label.font=null}else if("de"==cc.RedT.language){if(null==this.fontDe)return;this.label.font=null}else if("en"==cc.RedT.language){if(null==this.fontEn)return;this.label.font=null}else if("cn"==cc.RedT.language){if(null==this.fontCn)return;this.label.font=null}else if("th"==cc.RedT.language){if(null==this.fontTh)return;this.label.font=null}else if("es"==cc.RedT.language){if(null==this.fontEn)return;this.label.font=null}else if("fr"==cc.RedT.language){if(null==this.fontEn)return;this.label.font=null}},onEnable:function(){this.changeLanguage(),i.addEventListener("changeLanguage",this)},onDisable:function(){i.removeEventListener("changeLanguage",this)},changeLanguage:function(){if(null!=cc.RedT.language&&null!=cc.RedT.Frontendlanguages){if(this.label.string=cc.RedT.Frontendlanguages[cc.RedT.language][this.key],"vn"==cc.RedT.language){if(null==this.fontVn)return this.label.font=this.fontDefault,void(this.label.fontSize=this.fontSizeDefault);this.label.font=this.fontVn,0!=this.fontSizeVn?this.label.fontSize=this.fontSizeVn:this.label.fontSize=this.fontSizeDefault}else if("de"==cc.RedT.language){if(null==this.fontDe)return this.label.font=this.fontDefault,void(this.label.fontSize=this.fontSizeDefault);this.label.font=this.fontDe,0!=this.fontSizeDe?this.label.fontSize=this.fontSizeDe:this.label.fontSize=this.fontSizeDefault}else if("en"==cc.RedT.language){if(null==this.fontEn)return this.label.font=this.fontDefault,void(this.label.fontSize=this.fontSizeDefault);this.label.font=this.fontEn,0!=this.fontSizeEn?this.label.fontSize=this.fontSizeEn:this.label.fontSize=this.fontSizeDefault}else if("cn"==cc.RedT.language){if(null==this.fontCn)return this.label.font=this.fontDefault,void(this.label.fontSize=this.fontSizeDefault);this.label.font=this.fontCn,0!=this.fontSizeCn?this.label.fontSize=this.fontSizeCn:this.label.fontSize=this.fontSizeDefault}else if("th"==cc.RedT.language){if(null==this.fontTh)return this.label.font=this.fontDefault,void(this.label.fontSize=this.fontSizeDefault);this.label.font=this.fontTh,0!=this.fontSizeTh?this.label.fontSize=this.fontSizeTh:this.label.fontSize=this.fontSizeDefault}else if("es"==cc.RedT.language){if(null==this.fontEn)return this.label.font=this.fontDefault,void(this.label.fontSize=this.fontSizeDefault);this.label.font=this.fontTh,0!=this.fontSizeEn?this.label.fontSize=this.fontSizeEn:this.label.fontSize=this.fontSizeDefault}else if("fr"==cc.RedT.language){if(null==this.fontEn)return this.label.font=this.fontDefault,void(this.label.fontSize=this.fontSizeDefault);this.label.font=this.fontTh,0!=this.fontSizeEn?this.label.fontSize=this.fontSizeEn:this.label.fontSize=this.fontSizeDefault}this.typeText==n.ToUpperCase?this.label.string=this.label.string.toUpperCase():this.typeText==n.ToLowerCase&&(this.label.string=this.label.string.toLowerCase())}}}),cc._RF.pop()},{EnumText:"EnumText",EventDispatcher:"EventDispatcher"}],RouletteChat:[function(e,t){"use strict";cc._RF.push(t,"174f44ubvVDdofj7q7OxRGY","RouletteChat");var i=e("Helper"),n=e("BrowserUtil");cc.Class({extends:cc.Component,properties:{content:{default:null,type:cc.ScrollView},item:{default:null,type:cc.Prefab},input:{default:null,type:cc.EditBox},layout:{default:null,type:cc.Layout},isLoad:!1},init:function(e){this.RedT=e,void 0!==cc.RedT.setting.roulette.chat_active&&(this.node.active=cc.RedT.setting.roulette.chat_active)},onLoad:function(){var e=this;this.keyHandle=function(t){return t.keyCode===cc.macro.KEY.tab?(t.preventDefault&&t.preventDefault(),!1):t.keyCode===cc.macro.KEY.enter?(n.focusGame(),e.onChatClick(),t.preventDefault&&t.preventDefault(),!1):void 0}},onEnable:function(){cc.sys.isBrowser&&this.addEvent(),this.isLoad||this.getData()},onDisable:function(){cc.sys.isBrowser&&this.removeEvent(),this.clean()},addEvent:function(){n.getHTMLElementByEditBox(this.input).addEventListener("keydown",this.keyHandle,!1)},removeEvent:function(){n.getHTMLElementByEditBox(this.input).removeEventListener("keydown",this.keyHandle,!1)},getData:function(){this.isLoad=!0,cc.log("getData Roulette"),cc.RedT.send({g:{roulette:{getLogChat:!0}}})},message:function(e,t){void 0===t&&(t=!1);var i=cc.instantiate(this.item),n=i.getComponent(cc.Label);e.value=e.value.replace("\r",""),n.string=e.user+": "+e.value,i.children[0].getComponent(cc.Label).string=e.user,this.content.content.addChild(i),t&&this.layout.node.height>300&&this.layout.node.height-this.layout.node.position.y-134<70&&setTimeout(function(){this.content&&this.content.scrollToBottom(.1)}.bind(this),100)},logs:function(e){var t=this;if(e.length){var i=this;Promise.all(e.map(function(e){return i.message(e)})).then(function(){setTimeout(function(){this.content&&this.content.scrollToBottom(.1)}.bind(t),100)})}},onData:function(e){void 0!==e.message&&this.message(e.message,!0),void 0!==e.logs&&this.logs(e.logs)},onChatClick:function(){i.isEmpty(this.input.string)?this.onData({err:i.getLang(cc.RedT.language,"chat_err")}):(cc.RedT.send({g:{roulette:{chat:this.input.string}}}),this.onData({message:{user:cc.RedT.user.name,value:this.input.string}}),this.clean())},toggle:function(){cc.RedT.audio.playClick(),this.node.active=cc.RedT.setting.roulette.chat_active=!this.node.active},clean:function(){this.input.string=""},reset:function(){this.content.content.destroyAllChildren(),this.node.active=!1}}),cc._RF.pop()},{BrowserUtil:"BrowserUtil",Helper:"Helper"}],Roulette_dialog:[function(e,t){"use strict";cc._RF.push(t,"05894aAA+VLIJFE8+oDGWIL","Roulette_dialog");var i=e("Roulette_history"),n=e("Roulette_top"),a=e("Roulette_setting");cc.Class({extends:cc.Component,properties:{history:i,top:n,setting:a},init:function(){this.actionShow=cc.spawn(cc.scaleTo(.5,1).easing(cc.easeBackOut(2.5)),cc.fadeTo(.5,255)),this.objShow=null,this.objTmp=null},onClickBack:function(){cc.RedT.audio.playUnClick(),this.onBack()},onBack:function(){null!=this.objShow?null==this.objShow.previous||null==this.objShow.previous?(this.objShow.active=!1,this.node.active=!1,this.objShow=null):(this.objTmp=this.objShow,this.objShow=this.objShow.previous,this.objTmp.previous=null,this.objTmp.active=!1,this.objShow.active=!0,this.objTmp=null):this.node.active=!1},onClosePrevious:function(e){void 0!==e.previous&&null!==e.previous&&(this.onClosePrevious(e.previous),delete e.previous),e.active=!1},onCloseDialog:function(){null!=this.objShow?null==this.objShow.previous||null==this.objShow.previous?(this.objShow.active=this.node.active=!1,this.objShow=null):(this.onClosePrevious(this.objShow.previous),this.objShow.active=this.node.active=!1,delete this.objShow.previous,this.objShow=null):this.node.active=!1},resetSizeDialog:function(e){e.stopAllActions(),e.scale=.5,e.opacity=0},showHistory:function(){this.node.active=this.history.node.active=!0,this.objShow=this.history.node},showTop:function(){this.node.active=this.top.node.active=!0,this.objShow=this.top.node},showSetting:function(){this.node.active=this.setting.node.active=!0,this.objShow=this.setting.node}}),cc._RF.pop()},{Roulette_history:"Roulette_history",Roulette_setting:"Roulette_setting",Roulette_top:"Roulette_top"}],Roulette_history_item:[function(e,t){"use strict";cc._RF.push(t,"797a1x6SwlPrJczJfzO5VQJ","Roulette_history_item");var i=e("Helper");cc.Class({extends:cc.Component,properties:{spriteTuCuoc:cc.Sprite,txtCuoc:cc.Label,txtWin:cc.Label,colorWin:cc.Color,colorLose:cc.Color,spriteTuCuocArr:{default:[],type:cc.SpriteFrame},spriteFrameRow1:cc.SpriteFrame,spriteFrameRow2:cc.SpriteFrame,spriteFrameRow3:cc.SpriteFrame,spriteFrame1_12:cc.SpriteFrame,spriteFrame13_24:cc.SpriteFrame,spriteFrame25_36:cc.SpriteFrame,spriteFrame1_18:cc.SpriteFrame,spriteFrameEven:cc.SpriteFrame,spriteFrameBlack:cc.SpriteFrame,spriteFrameOdd:cc.SpriteFrame,spriteFrame19_36:cc.SpriteFrame},init:function(e,t){switch(this.txtCuoc.string=i.nFormatter(t),this.txtWin.string="",e){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"10":case"11":case"12":case"13":case"14":case"15":case"16":case"17":case"18":case"19":case"20":case"21":case"22":case"23":case"24":case"25":case"26":case"27":case"28":case"29":case"30":case"31":case"32":case"33":case"34":case"35":case"36":this.spriteTuCuoc.spriteFrame=this.spriteTuCuocArr[parseInt(e)];break;case"row1":this.spriteTuCuoc.spriteFrame=this.spriteFrameRow1;break;case"row2":this.spriteTuCuoc.spriteFrame=this.spriteFrameRow2;break;case"row3":this.spriteTuCuoc.spriteFrame=this.spriteFrameRow3;break;case"nr01_12":this.spriteTuCuoc.spriteFrame=this.spriteFrame1_12;break;case"nr13_24":this.spriteTuCuoc.spriteFrame=this.spriteFrame13_24;break;case"nr25_36":this.spriteTuCuoc.spriteFrame=this.spriteFrame25_36;break;case"nr01_18":this.spriteTuCuoc.spriteFrame=this.spriteFrame1_18;break;case"even":this.spriteTuCuoc.spriteFrame=this.spriteFrameEven;break;case"black":this.spriteTuCuoc.spriteFrame=this.spriteFrameBlack;break;case"odd":this.spriteTuCuoc.spriteFrame=this.spriteFrameOdd;break;case"nr19_36":this.spriteTuCuoc.spriteFrame=this.spriteFrame19_36}}}),cc._RF.pop()},{Helper:"Helper"}],Roulette_history:[function(e,t){"use strict";cc._RF.push(t,"bcd84EkSz1HKrMhLH99xNEh","Roulette_history");var i=e("Helper");cc.Class({extends:cc.Component,properties:{contentLeft:cc.Node,contentRight:cc.Node,prefab:cc.Node,txtKetQua:cc.Label,txtPhien:cc.Label,btnBack:cc.Node,btnNext:cc.Node,txtTotalWin:cc.Label},onLoad:function(){},onEnable:function(){this.get_data()},onDisable:function(){},get_data:function(e){void 0===e&&(e=1),cc.RedT.send({g:{roulette:{viewlogs:{page:e}}}})},onBtnBack:function(){this.indexCurrent++,this.indexCurrent>=this.data.length?this.indexCurrent=this.data.length-1:this.updateInfo()},onBtnNext:function(){this.indexCurrent--,this.indexCurrent<0?this.indexCurrent=0:this.updateInfo()},updateInfo:function(){if(this.contentLeft.removeAllChildren(),this.contentRight.removeAllChildren(),-1==this.indexCurrent)this.txtPhien.string="#",this.txtKetQua.string="",this.txtTotalWin.string="";else{var e=this.data[this.indexCurrent];this.txtPhien.string="#"+e.phien,this.txtKetQua.string=e.kq[0],this.txtTotalWin.string="+"+i.nFormatter(e.betwin);var t=0;for(var n in e){var a="-1";switch(n){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"10":case"11":case"12":case"13":case"14":case"15":case"16":case"17":case"18":case"19":case"20":case"21":case"22":case"23":case"24":case"25":case"26":case"27":case"28":case"29":case"30":case"31":case"32":case"33":case"34":case"35":case"36":a=n.toString();break;case"row1":case"row2":case"row3":case"nr01_12":case"nr13_24":case"nr25_36":case"nr01_18":case"even":case"black":case"odd":case"nr19_36":a=n}if("-1"!=a&&e[n]>0){var o=cc.instantiate(this.prefab);o.parent=t%2==0?this.contentLeft:this.contentRight,o.position=cc.v2(0,0),o.getComponent("Roulette_history_item").init(a,e[n]),t++}}}},onData:function(e){this.data=e,null==this.data||0==this.data.length?this.indexCurrent=-1:this.indexCurrent=0,this.updateInfo()}}),cc._RF.pop()},{Helper:"Helper"}],Roulette_setting:[function(e,t){"use strict";cc._RF.push(t,"4b01c1vmWtMMJPDtc3DY4f9","Roulette_setting");var i=e("CheckOut");cc.Class({extends:cc.Component,properties:{NhacNen:i,NhacGame:i},onLoad:function(){},OnChangerNhacNen:function(){cc.RedT.setSoundBackground(this.NhacNen.isChecked),this.NhacNen.isChecked?cc.RedT.inGame.playMusic():cc.RedT.inGame.pauseMusic()},OnChangerNhacGame:function(){cc.RedT.setSoundGame(this.NhacGame.isChecked),this.NhacGame.isChecked?cc.RedT.IS_SOUND=!0:cc.RedT.IS_SOUND=!1}}),cc._RF.pop()},{CheckOut:"CheckOut"}],Roulette_top_item:[function(e,t){"use strict";cc._RF.push(t,"9c952VLMEFIOoKgDdKwHoYB","Roulette_top_item"),cc.Class({extends:cc.Component,properties:{userName:cc.Label,win:cc.Label}}),cc._RF.pop()},{}],Roulette_top:[function(e,t){"use strict";cc._RF.push(t,"4c4fbteh1xHNr+ZuiW0fWcC","Roulette_top");var i=e("Helper");cc.Class({extends:cc.Component,properties:{item:cc.Prefab,content:cc.Node,cointRed:cc.Node,cointXu:cc.Node,red:!0},onEnable:function(){this.get_data()},get_data:function(e){void 0===e&&(e=1),cc.RedT.send({g:{roulette:{tops:this.red}}})},changerCoint:function(){this.red=!this.red,this.cointRed.active=!this.cointRed.active,this.cointXu.active=!this.cointXu.active,this.get_data()},onData:function(e){this.content.removeAllChildren();var t=this;Promise.all(e.map(function(e,n){var a=cc.instantiate(t.item),o=a.getComponent("Roulette_top_item");o.userName.string=e.name,o.win.string=i.numberWithCommas(e.bet),a.children[0].active=!(1&n),t.content.addChild(a)}))}}),cc._RF.pop()},{Helper:"Helper"}],Roulette:[function(e,t){"use strict";var i;cc._RF.push(t,"b1c02jOA/hMBK8vMTyuRcl9","Roulette");var n=e("Helper"),a=e("UIItemLogRoulette"),o=e("Roulette_dialog"),s=e("RouletteChat"),c=e("Notice"),r=e("UIPopupManager"),l={0:"0",1:"1",2:"2",3:"1",4:"2",5:"1",6:"2",7:"1",8:"2",9:"1",10:"2",11:"2",12:"1",13:"2",14:"1",15:"2",16:"1",17:"2",18:"1",19:"1",20:"2",21:"1",22:"2",23:"1",24:"2",25:"1",26:"2",27:"1",28:"2",29:"2",30:"1",31:"2",32:"1",33:"2",34:"1",35:"2",36:"1"},h=[1e3,5e3,1e4,5e4,1e5,5e5,1e6,5e6,1e7,5e7],d=[1,20,14,31,9,22,18,29,7,28,12,35,3,26,0,23,15,19,4,21,2,25,17,34,6,27,13,36,11,30,8,23,10,5,24,16,33],u=[1,3,5,7,9,12,14,16,18,21,23,25,27,30,32,34,37],p=[0],g=e("UIUserRoulette");cc.Class({extends:cc.Component,properties:(i={audioBG:cc.AudioSource,scrollChip:cc.ScrollView,notice:c,redhat:cc.Node,users:{default:[],type:g},labelTotalUser:cc.Label,chat:s,dialog:o,boxTutorial:cc.Node,boxUI:cc.Node,boxUserMineResult:cc.Node,txtUserMineResult:cc.Label,boxChuongResult:cc.Node,effectChuongResult:cc.Node,arrSpriteFrameComfirmResult:{default:[],type:cc.SpriteFrame},spriteCircleComfirmResult:cc.Sprite,boxComfirmResult:cc.Node,circleComfirmResult:cc.Node,txtComfirmResult:cc.Label,boxRoulette:cc.Node,canvasNode:cc.Node,labelTongCuoc:cc.Label,loading:cc.Node,labelTime:cc.Label,labelSession:cc.Label,boxNotify:cc.Node,labelNotify:cc.Label,labelStatus:cc.Label,arrLog:{default:[],type:a},nodeNotice:cc.Node,prefabNotice:cc.Prefab,arrBoxBet:{default:[],type:cc.Node},arrGlowCuaMini:{default:[],type:cc.Node},arrGlowCua:{default:[],type:cc.Node},prefabEffectDatCuoc:{default:[],type:cc.SpriteFrame}},i.prefabEffectDatCuoc=cc.Node,i.nodeGlowBet=cc.Node,i.labelUserName=cc.Label,i.labelUserBalance=cc.Label,i.avatar=cc.Sprite,i.frame=cc.Sprite,i),init:function(){this.percentScroll=0,this.scrollChip.scrollToPercentHorizontal(this.percentScroll,.4),void 0!==cc.RedT.setting.roulette.time_remain&&(cc.RedT.setting.roulette.time_remain++,this.nextRealTime()),this.chat.init(this)},nextRealTime:function(){if(null!=cc.RedT.language&&null!=n.getLang)if(cc.RedT.setting.roulette.time_remain>cc.RedT.setting.roulette.gamestimes.play_time+1){var e=n.numberPad(cc.RedT.setting.roulette.time_remain-(cc.RedT.setting.roulette.gamestimes.play_time+2),2);this.labelTime.node.color=cc.Color.RED,this.labelTime.string=n.numberPad(e,2),this.titleTime.string=n.getLang(cc.RedT.language,"bet_next_round")}else this.titleTime.string=n.getLang(cc.RedT.language,"betting"),cc.RedT.setting.roulette.time_remain>0&&(e=n.numberPad(cc.RedT.setting.roulette.time_remain-1,2),this.labelTime.string=e,this.labelTime.node.color=cc.Color.WHITE)},onLoad:function(){for(var e=0;e<this.users.length;e++)this.users[e].node.active=!1;this.isShowBoxUI=!1,cc.RedT.inGame=this,cc.RedT.setting.roulette={};var t=this;t.arrEffectDatCuaNode={},t.totalCuocMinePhien=0,t.initPoolEffectDatCuoc(),this.node.on("touchstart",function(e){t.processTouch(e.getLocation())},t.node),t.indexCuaChosing=-1,this.node.on("touchmove",function(e){t.processTouch(e.getLocation())},t.node),this.node.on("touchend",function(){t.datCuoc(),t.processingChoseIndexCua(-1)},t.node),localStorage.setItem("playing_game","Roulette"),localStorage.setItem("playing_money",5e4)},playMusic:function(){null!=this&&null!=this.audioBG&&this.audioBG.play()},pauseMusic:function(){null!=this&&null!=this.audioBG&&this.audioBG.stop()},onBtnToggleBoxUI:function(){var e=this;cc.Tween.stopAllByTarget(this.boxUI),0==this.isShowBoxUI?(this.isShowBoxUI=!0,this.boxUI.position=cc.v2(-350,0),this.boxUI.active=!0,cc.tween(this.boxUI).to(.25,{position:cc.v2(0,0)},{easing:"backCir"}).start()):(this.isShowBoxUI=!1,cc.tween(this.boxUI).to(.25,{position:cc.v2(-350,0)},{easing:"backCir"}).call(function(){e.boxUI.active=!0}).start())},onBtnHistory:function(){this.dialog.showHistory()},onBtnRank:function(){this.dialog.showTop()},onBtnTutorial:function(){cc.Tween.stopAllByTarget(this.boxTutorial),this.boxTutorial.active=!0},hideTutorial:function(){this.boxTutorial.active=!1},onBtnSetting:function(){this.dialog.showSetting()},showNotify:function(e){var t=this;this.boxNotify.active=!0,this.boxNotify.opacity=0,this.labelNotify.string=e,this.boxNotify.position=cc.v2(0,200),cc.Tween.stopAllByTarget(this.boxNotify),cc.tween(this.boxNotify).to(.5,{position:cc.v2(0,0),opacity:255},{easing:"backOut"}).delay(1).call(function(){t.hideNotify()}).start()},hideNotify:function(){var e=this;cc.tween(this.boxNotify).to(.2,{position:cc.v2(0,200)},{opacity:0},{easing:"linear"}).call(function(){e.boxNotify.active=!1}).start()},processTouch:function(e){for(var t=this.arrGlowCuaMini.length-1;t>=0;t--){var i=this.arrGlowCuaMini[t].convertToWorldSpaceAR(cc.v2(-this.arrGlowCuaMini[t].width/2,-this.arrGlowCuaMini[t].height/2)),n=this.arrGlowCuaMini[t].convertToWorldSpaceAR(cc.v2(this.arrGlowCuaMini[t].width/2,this.arrGlowCuaMini[t].height/2));if(new cc.Rect.fromMinMax(i,n).contains(e))return void this.processingChoseIndexCua(t)}this.processingChoseIndexCua(-1)},processingChoseIndexCua:function(e){if(-1!=e)if(-1==this.indexCuaChosing)this.indexCuaChosing=e,this.showCua();else{if(this.indexCuaChosing==e)return;for(t=0;t<this.arrGlowCuaMini.length;t++)this.arrGlowCuaMini[t].active=!1;this.indexCuaChosing=e,this.showCua()}else{this.indexCuaChosing=e;for(var t=0;t<this.arrGlowCuaMini.length;t++)this.arrGlowCuaMini[t].active=!1}},onBtnSscrollLeft:function(){this.percentScroll-=.3,this.percentScroll<=0&&(this.percentScroll=0),this.scrollChip.scrollToPercentHorizontal(this.percentScroll,.4)},onBtnScrollRight:function(){this.percentScroll+=.3,this.percentScroll>=1&&(this.percentScroll=1),this.scrollChip.scrollToPercentHorizontal(this.percentScroll,.4)},signOut:function(){localStorage.setItem("playing_game",""),localStorage.setItem("playing_money",0),cc.director.preloadScene("MainGame",function(){cc.director.loadScene("MainGame"),cc.RedT.inGame.signOut()})},getArrCua:function(e){var t=[];switch(e){case"2to1-1st":t=["3","6","9","12","15","18","21","24","27","30","33","36"];break;case"2to1-2nd":t=["2","5","8","11","14","17","20","23","26","29","32","35"];break;case"2to1-3rd":t=["1","4","7","10","13","16","19","22","25","28","31","34"];break;case"1st-12":t=["1","2","3","4","5","6","7","8","9","10","11","12"];break;case"2nd-12":t=["13","14","15","16","17","18","19","20","21","22","23","24"];break;case"3rd-12":t=["25","26","27","28","29","30","31","32","33","34","35","36"];break;case"1-18":t=["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18"];break;case"19-36":t=["19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36"];break;case"even":t=["2","4","6","8","10","12","14","16","18","20","22","24","26","28","30","32","34","36"];break;case"odd":t=["1","3","5","7","9","11","13","15","17","19","21","23","25","27","29","31","33","35"];break;case"red":t=["1","3","5","7","9","12","14","16","18","19","21","23","25","27","30","32","34","36"];break;case"black":t=["2","4","6","8","10","11","13","15","17","20","22","24","26","28","29","31","33","35"];break;case"3-6-2-5":t=["3","6","2","5"];break;case"9-12-8-11":t=["9","12","8","11"];break;case"15-18-14-17":t=["15","18","14","17"];break;case"21-24-20-23":t=["21","24","20","23"];break;case"27-30-26-29":t=["27","30","26","29"];break;case"33-36-32-35":t=["33","36","32","35"];break;case"32-35-31-34":t=["32","35","31","34"];break;case"26-29-25-28":t=["26","29","25","28"];break;case"20-23-19-22":t=["20","23","19","22"];break;case"14-17-13-16":t=["14","17","13","16"];break;case"8-11-7-10":t=["8","11","7","10"];break;case"2-5-1-4":t=["2","5","1","4"];break;case"33-36-32-35-31-34":t=["33","36","32","35","31","34"];break;case"27-30-26-29-25-28":t=["27","30","26","29","25","28"];break;case"21-24-20-23-19-22":t=["21","24","20","23","19","22"];break;case"15-18-14-17-13-16":t=["15","18","14","17","13","16"];break;case"9-12-8-11-7-10":t=["9","12","8","11","7","10"];break;case"3-6-2-5-1-4":t=["3","6","2","5","1","4"];break;case"6-9-5-8":t=["6","9","5","8"];break;case"12-15-11-14":t=["12","15","11","14"];break;case"18-21-17-20":t=["18","21","17","20"];break;case"24-27-23-26":t=["24","27","23","26"];break;case"30-33-29-32":t=["30","33","29","32"];break;case"29-32-28-31":t=["29","32","28","31"];break;case"23-26-22-25":t=["23","26","22","25"];break;case"17-20-16-19":t=["17","20","16","19"];break;case"11-14-10-13":t=["11","14","10","13"];break;case"5-8-4-7":t=["5","8","4","7"];break;case"30-33-29-32-28-31":t=["30","33","29","32","28","31"];break;case"24-27-23-26-22-25":t=["24","27","23","26","22","25"];break;case"18-21-17-20-16-19":t=["18","21","17","20","16","19"];break;case"12-15-11-14-10-13":t=["12","15","11","14","10","13"];break;case"6-9-5-8-4-7":t=["6","9","5","8","4","7"];break;case"3-2":t=["3","2"];break;case"6-5":t=["6","5"];break;case"9-8":t=["9","8"];break;case"12-11":t=["12","11"];break;case"15-14":t=["15","14"];break;case"18-17":t=["18","17"];break;case"21-20":t=["21","20"];break;case"24-23":t=["24","23"];break;case"27-26":t=["27","26"];break;case"30-29":t=["30","29"];break;case"33-32":t=["33","32"];break;case"36-35":t=["36","35"];break;case"35-34":t=["35","34"];break;case"32-31":t=["32","31"];break;case"29-28":t=["29","28"];break;case"26-25":t=["26","25"];break;case"23-22":t=["23","22"];break;case"20-19":t=["20","19"];break;case"17-16":t=["17","16"];break;case"14-13":t=["14","13"];break;case"11-10":t=["11","10"];break;case"8-7":t=["8","7"];break;case"5-4":t=["5","4"];break;case"2-1":t=["2","1"];break;case"36-35-34":t=["36","35","34"];break;case"33-32-31":t=["33","32","31"];break;case"30-29-28":t=["30","29","28"];break;case"27-26-25":t=["27","26","25"];break;case"24-23-22":t=["24","23","22"];break;case"21-20-19":t=["21","20","19"];break;case"18-17-16":t=["18","17","16"];break;case"15-14-13":t=["15","14","13"];break;case"12-11-10":t=["12","11","10"];break;case"9-8-7":t=["9","8","7"];break;case"6-5-4":t=["6","5","4"];break;case"3-2-1":t=["3","2","1"];break;case"3-6":t=["3","6"];break;case"6-9":t=["6","9"];break;case"9-12":t=["9","12"];break;case"12-15":t=["12","15"];break;case"15-18":t=["15","18"];break;case"18-21":t=["18","21"];break;case"21-24":t=["21","24"];break;case"24-27":t=["24","27"];break;case"27-30":t=["27","30"];break;case"30-33":t=["30","33"];break;case"33-36":t=["33","36"];break;case"32-35":t=["32","35"];break;case"29-32":t=["29","32"];break;case"26-29":t=["26","29"];break;case"23-26":t=["23","26"];break;case"20-23":t=["20","23"];break;case"17-20":t=["17","20"];break;case"14-17":t=["14","17"];break;case"11-14":t=["11","14"];break;case"8-11":t=["8","11"];break;case"5-8":t=["5","8"];break;case"2-5":t=["2","5"];break;case"1-4":t=["1","4"];break;case"4-7":t=["4","7"];break;case"7-10":t=["7","10"];break;case"10-13":t=["10","13"];break;case"13-16":t=["13","16"];break;case"16-19":t=["16","19"];break;case"19-22":t=["19","22"];break;case"22-25":t=["22","25"];break;case"25-28":t=["25","28"];break;case"28-31":t=["28","31"];break;case"31-34":t=["31","34"];break;default:t.push(e)}return t},showCua:function(){this.arrGlowCuaMini[this.indexCuaChosing].active=!0;for(var e=this.arrGlowCuaMini[this.indexCuaChosing],t=this.getArrCua(e.name),i=0;i<t.length;i++)for(var n=0;n<this.arrGlowCuaMini.length;n++)if(t[i]==this.arrGlowCuaMini[n].name){this.arrGlowCuaMini[n].active=!0;break}},onEnable:function(){this.indexCurrentBet=-1,this.regEvent(!0),this.labelUserBalance.string=n.numberWithCommas(cc.RedT.user.red),this.labelUserName.string=cc.RedT.user.name,cc.RedT.updateAvatar(cc.RedT.user.avatar,this.avatar),this.frame&&cc.RedT.MainGame.updateFrame(Math.floor(cc.RedT.user.systemLevel/5)-1,this.frame),this.changerBet(null,0)},onDisable:function(){this.regEvent(!1),null!=this.timeInterval&&(clearInterval(this.timeInterval),this.timeInterval=null)},regEvent:function(){cc.RedT.send({g:{roulette:{regOpen:!0,view:!0}}})},changerBet:function(e,t){if(cc.RedT.audio.playClick(),this.indexCurrentBet!=t){cc.Tween.stopAllByTarget(this.arrBoxBet[this.indexCurrentBet]),cc.Tween.stopAllByTarget(this.arrBoxBet[t]),cc.tween(this.arrBoxBet[this.indexCurrentBet]).to(.2,{scale:1},{easing:"linear"}).start(),cc.tween(this.arrBoxBet[t]).to(.2,{scale:1.2},{easing:"linear"}).start();var i=h[t];this.indexCurrentBet=t,this.nodeGlowBet.parent=this.arrBoxBet[t],this.nodeGlowBet.position=cc.v2(0,0),this.cuoc=i,cc.RedT.setting.roulette.bet=i}},getIndexRouletteTarget:function(e){for(var t=0;t<d.length;t++)if(d[t]==e)return t;return 0},checkColorGreen:function(e){for(var t=0;t<p.length;t++)if(p[t]==e)return!0;return!1},checkColorRed:function(e){for(var t=0;t<u.length;t++)if(u[t]==e)return!0;return!1},getColorRouletteByIndex:function(e){return this.checkColorGreen(e)?0:this.checkColorRed(e)?1:2},finish:function(e){var t=this;this.dataFinish=e,this.boxComfirmResult.active=!1,cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.5,{position:cc.v2(300,0)},{easing:"linear"}).start(),cc.RedT.audio.playSpin();var i=e.dices,n=9.7*this.getIndexRouletteTarget(i);this.boxRoulette.angle=0,cc.Tween.stopAllByTarget(this.boxRoulette),cc.tween(this.boxRoulette).to(2,{angle:n+1800},{easing:"cubicOut"}).call(function(){t.boxComfirmResult.position=cc.v2(-1300,210),t.boxComfirmResult.active=!0,t.circleComfirmResult.angle=9.7*t.getIndexRouletteTarget(i),t.txtComfirmResult.string=i,t.spriteCircleComfirmResult.spriteFrame=t.arrSpriteFrameComfirmResult[t.getColorRouletteByIndex(i)],cc.Tween.stopAllByTarget(t.boxComfirmResult),cc.tween(t.boxComfirmResult).to(.3,{position:cc.v2(-720,210)},{easing:"linear"}).delay(1).call(function(){cc.Tween.stopAllByTarget(t.node),cc.tween(t.node).to(.5,{position:cc.v2(-350,0)},{easing:"linear"}).start()}).delay(1).call(function(){t.processChuongResult(i)}).start()}).start()},processChuongResult:function(e){var t=this,i=this.getGlowCua(e),n=i.parent.convertToWorldSpaceAR(i.position),a=this.canvasNode.convertToNodeSpaceAR(n);this.boxChuongResult.position=cc.v2(a.x,a.y+60),this.effectChuongResult.active=!1,this.boxChuongResult.active=!0;var o=this;cc.Tween.stopAllByTarget(this.boxChuongResult),cc.tween(this.boxChuongResult).to(.5,{position:a},{easing:"cubicIn"}).call(function(){t.effectChuongResult.active=!0}).delay(1).call(function(){o.processUsersWin()}).start()},processUsersWin:function(){var e=this;if(null!=this.dataFinish&&null!=this.dataFinish.bet_users)for(var t=0;t<this.dataFinish.bet_users.length;t++){var i=this.dataFinish.bet_users[t];if(i.name==cc.RedT.user.name&&i.betwin>0){var a={red:cc.RedT.user.red};a.red+=i.betwin,cc.RedT.userData(a),e.labelUserBalance.string=n.numberWithCommas(a.red),e.txtUserMineResult.string="+"+n.numberWithCommas(i.betwin),e.boxUserMineResult.position=cc.v2(0,0),e.boxUserMineResult.active=!0,cc.Tween.stopAllByTarget(e.boxUserMineResult),cc.tween(e.boxUserMineResult).to(1,{position:cc.v2(0,50)},{easing:"linear"}).delay(2).call(function(){e.boxUserMineResult.active=!1}).start()}}},showUserView:function(e,t){e.node.active=!0,e.init(t.name,t.red,t.avatar)},onData:function(e){if(void 0!==e.roulette){if(void 0!==e.roulette.viewUsers&&e.roulette.viewUsers.length>0){for(var t=0;t<e.roulette.viewUsers.length;t++)e.roulette.viewUsers[t].name==cc.RedT.user.name&&e.roulette.viewUsers.splice(t,1);this.labelTotalUser.string=e.roulette.viewUsers.length;var i=0;for(t=0;t<this.users.length;t++)t<=e.roulette.viewUsers.length-1?this.showUserView(this.users[t],e.roulette.viewUsers[i]):this.users[t].node.active=!1,i++}if(void 0!==e.roulette.finish&&this.finish(e.roulette.finish),void 0!==e.roulette.viewlogs&&this.dialog.history.onData(e.roulette.viewlogs.data),void 0!==e.roulette.tops&&this.dialog.top.onData(e.roulette.tops),void 0!==e.roulette.notice&&this.showNotify(e.roulette.notice),void 0!==e.roulette.regOpen&&(cc.RedT.setting.roulette.regOpen=!0,cc.RedT.setting.roulette=e.roulette),void 0!==e.roulette.chat&&this.chat.onData(e.roulette.chat),void 0!==e.roulette.session&&(this.labelSession.string="#"+e.roulette.session),void 0!==e.roulette.data)for(var a in e.roulette.data){var o=a;switch(a){case"row1":o="2to1-1st";break;case"row2":o="2to1-2nd";break;case"row3":o="2to1-3rd";break;case"nr01_12":o="1st-12";break;case"nr13_24":o="2nd-12";break;case"nr25_36":o="3rd-12";break;case"nr01_18":o="1-18";break;case"even":o="even";break;case"red":o="red";break;case"black":o="black";break;case"odd":o="odd";break;case"nr19_36":o="19-36"}this.effectDatCuoc(o,e.roulette.data[a])}if(void 0!==e.roulette.logs){for(t=0;t<this.arrLog.length;t++)this.arrLog[t].node.active=!1;for(t=0;t<e.roulette.logs.length;t++){this.arrLog[t].node.active=!0;var s=e.roulette.logs[e.roulette.logs.length-1-t][0];this.arrLog[t].init(s,l[s])}}void 0!==e.roulette.users&&this.processUsers(e.roulette.users),void 0!==e.roulette.gamestimes&&(this.gamestimes=e.roulette.gamestimes,cc.RedT.setting.roulette.gamestimes=e.roulette.gamestimes),void 0!==e.roulette.time_remain&&(void 0!==e.roulette.gamestimes&&(this.gamestimes=e.roulette.gamestimes,cc.RedT.setting.roulette.gamestimes=e.roulette.gamestimes),cc.RedT.setting.roulette.time_remain=e.roulette.time_remain-2,this.parseStatusGame(),e.roulette.time_remain>=this.gamestimes.wait_time&&e.roulette.time_remain<=this.gamestimes.play_time?n.getLang(cc.RedT.language,"roulette_new"):e.roulette.time_remain<this.gamestimes.wait_time||e.roulette.time_remain>this.gamestimes.play_time&&n.getLang(cc.RedT.language,"roulette_ready"),this.labelTime.string=n.numberPad(this.parsePlayTime()),this.playTime())}void 0!==e.user&&(e.user.newLevel&&e.user.oldLevel&&e.user.bonus&&e.user.newLevel>e.user.oldLevel&&(r.Instance.noticeBonusLvl(e),cc.RedT.user.systemLevel=e.newLevel),cc.RedT.userData(e.user)),void 0!==e.notice&&this.addNotice(e.notice)},parseStatusGame:function(){if(null!=this.labelStatus){var e=this;if(cc.RedT.setting.roulette.time_remain==cc.RedT.setting.roulette.gamestimes.play_time){cc.RedT.audio.playStart(),this.statusGame="Betting",e.resetData();var t=n.getLang(cc.RedT.language,"roulette_new");this.showNotify(t),this.labelStatus.string=n.getLang(cc.RedT.language,"roulette_bet")}else if(cc.RedT.setting.roulette.time_remain<cc.RedT.setting.roulette.gamestimes.wait_time)"Result"!=this.statusGame&&(this.statusGame="Result"),this.labelStatus.string=n.getLang(cc.RedT.language,"turning_result");else if(cc.RedT.setting.roulette.time_remain>cc.RedT.setting.roulette.gamestimes.play_time){if("Pending"!=this.statusGame){var i=n.getLang(cc.RedT.language,"roulette_ready");this.showNotify(i),this.statusGame="Pending",cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.5,{position:cc.v2(-350,0)},{easing:"linear"}).delay(2).call(function(){e.resetData()}).start()}this.labelStatus.string=n.getLang(cc.RedT.language,"roulette_wait")}}},parsePlayTime:function(){var e=cc.RedT.setting.roulette.time_remain;if(e>=this.gamestimes.wait_time&&e<=this.gamestimes.play_time){if(e==this.gamestimes.wait_time+1){var t=n.getLang(cc.RedT.language,"roulette_stop");this.showNotify(t)}return e-this.gamestimes.wait_time<0?0:e-this.gamestimes.wait_time}return e<this.gamestimes.wait_time?e<0?0:e:e>this.gamestimes.play_time?e-this.gamestimes.play_time<0?0:e-this.gamestimes.play_time:void 0},getTotalBetUser:function(e){var t=0;for(var i in e.cuoc)t+=e.cuoc[i];return t},processUserMine:function(e){for(var t=0;t<e.length;t++)if(e[t].name==cc.RedT.user.name)return this.totalCuocMinePhien=this.getTotalBetUser(e[t]),void(this.labelTongCuoc.string=n.numberWithCommas(this.totalCuocMinePhien))},processUserOther:function(e){for(var t=0,i=0;i<e.length;i++)if(e[i].name!=cc.RedT.user.name){if(t>=6)return;t++}},processUsers:function(e){this.countUserGuest(e),this.processUserMine(e),this.processUserOther(e)},countUserGuest:function(){},initPoolEffectDatCuoc:function(){this.datcuocPool=new cc.NodePool;for(var e=0;e<30;++e){var t=cc.instantiate(this.prefabEffectDatCuoc);this.datcuocPool.put(t)}},createDatCuoc:function(){return this.datcuocPool.size()>0?this.datcuocPool.get():cc.instantiate(this.prefabEffectDatCuoc)},addNotice:function(e){r.Instance.notice.show({title:n.getLang(cc.RedT.language,"notice"),text:e})},addDataDatCuoc:function(e,t){null==this.dataDatCuoc&&(this.dataDatCuoc={}),null==this.dataDatCuoc[e]||null==this.dataDatCuoc[e]?this.dataDatCuoc[e]=t:this.dataDatCuoc[e]+=t},getGlowCua:function(e){for(var t=0;t<this.arrGlowCuaMini.length;t++)if(this.arrGlowCuaMini[t].name==e)return this.arrGlowCuaMini[t];return null},effectDatCuoc:function(e,t){if(!(t<=0))for(var i=this,n=0;n<this.arrGlowCuaMini.length;n++)if(this.arrGlowCuaMini[n].name==e){null!=this.arrEffectDatCuaNode[e]&&null!=this.arrEffectDatCuaNode[e]||(this.arrEffectDatCuaNode[e]=[]);var a=this.getIndexBet(t);if(null==this.dataDatCuoc&&(this.dataDatCuoc={}),null==this.dataDatCuoc[e]&&(this.dataDatCuoc[e]=0),this.dataDatCuoc[e]==t)return;this.dataDatCuoc[e]=t;var o=this.arrGlowCuaMini[n].parent.convertToWorldSpaceAR(this.arrGlowCuaMini[n].position),s=this.canvasNode.convertToNodeSpaceAR(o),c=this.createDatCuoc();c.getComponent("UIItemEffectDatCuocRoulette").init(a,this.dataDatCuoc[e]),c.parent=this.canvasNode,c.position=s;var r=cc.v2(c.position.x,s.y+4*this.arrEffectDatCuaNode[e].length);c.position=cc.v2(r.x,r.y+20),this.arrEffectDatCuaNode[e].push(c),cc.tween(c).to(.3,{position:r},{easing:"backOut"}).call(function(){i.arrEffectDatCuaNode[e].length>=10&&i.filterEffectDatCuoc(s,e)}).start();break}},filterEffectDatCuoc:function(e,t){for(var i=0;i<this.arrEffectDatCuaNode[t].length-10;i++)this.arrEffectDatCuaNode[t][i].destroy();for(this.arrEffectDatCuaNode[t].splice(0,this.arrEffectDatCuaNode[t].length-9),i=0;i<this.arrEffectDatCuaNode[t].length;i++)cc.Tween.stopAllByTarget(this.arrEffectDatCuaNode[t][i]),cc.tween(this.arrEffectDatCuaNode[t][i]).to(.3,{position:cc.v2(this.arrEffectDatCuaNode[t][i].position.x,e.y+4*i)},{easing:"backOut"}).start()},getIndexBet:function(e){for(var t=h.length-1;t>=0;t--)if(e>=h[t])return t},getTongCuocUser:function(e){for(var t in e)switch(t){case"2to1-1st":case"2to1-2nd":case"2to1-3rd":case"1st-12":case"2nd-12":case"3rd-12":this.cuoc;break;case"1-18":case"19-36":case"even":case"odd":case"red":case"black":this.cuoc;break;default:parseInt(t)>=0&&parseInt(t)<=36&&this.cuoc}},datCuoc:function(){if(cc.RedT.audio.playBetting(),this.cuoc<100){var e=n.getLang(cc.RedT.language,"choose_bet");this.addNotice(e)}else if(-1==this.indexCuaChosing);else{var t=this.arrGlowCuaMini[this.indexCuaChosing],i=this.cuoc,a=this.cuoc,o=parseInt(t.name);switch(t.name){case"2to1-1st":o=37;break;case"2to1-2nd":o=38;break;case"2to1-3rd":o=39;break;case"1st-12":o=40;break;case"2nd-12":o=41;break;case"3rd-12":o=42;break;case"1-18":o=43;break;case"19-36":o=48;break;case"even":o=44;break;case"odd":o=47;break;case"red":o=45;break;case"black":o=46}if(cc.RedT.user.red<a){var s=n.getLang(cc.RedT.language,"not_enough");r.Instance.notice.show({title:n.getLang(cc.RedT.language,"taixiu_notice"),text:s,button:{text:"notice",type:"watchVideo"}})}else if("Result"==this.statusGame||"Pending"==this.statusGame){var c=n.getLang(cc.RedT.language,"bet_next_round");this.showNotify(c)}else cc.RedT.user.red-=a,this.totalCuocMinePhien+=a,this.labelUserBalance.string=n.numberWithCommas(cc.RedT.user.red),this.labelTongCuoc.string=n.numberWithCommas(this.totalCuocMinePhien),cc.RedT.send({g:{roulette:{cuoc:{cuoc:i,select:o}}}})}},getMaxMoneyDatCuoc:function(e){return e<1e5?1:e<2e5?2:e<=3e5?3:e<4e5?4:5},resetData:function(){this.dataFinish=null,cc.Tween.stopAllByTarget(this.node),this.canvasNode.removeAllChildren(),this.arrEffectDatCuaNode={},this.dataDatCuoc={},this.totalCuocMinePhien=0,this.labelTongCuoc.string=n.numberWithCommas(this.totalCuocMinePhien),this.boxComfirmResult.active=!1,this.boxChuongResult.active=!1},playTime:function(){void 0!==this.timeInterval&&clearInterval(this.timeInterval),this.timeInterval=setInterval(function(){this.parseStatusGame(),this.labelTime.string=n.numberPad(this.parsePlayTime()),cc.RedT.setting.roulette.time_remain<=0&&(cc.RedT.send({g:{roulette:{regOpen:!0}}}),clearInterval(this.timeInterval),this.timeInterval=null),cc.RedT.setting.roulette.time_remain--}.bind(this),1e3)},backGame:function(){cc.RedT.send({g:{roulette:{view:!1}}}),void 0!==this.timeOut&&clearTimeout(this.timeOut),null!=this.timeInterval&&(clearInterval(this.timeInterval),this.timeInterval=null),this.pauseMusic(),cc.director.preloadScene("MainGame",function(){cc.director.loadScene("MainGame")})}}),cc._RF.pop()},{Helper:"Helper",Notice:"Notice",RouletteChat:"RouletteChat",Roulette_dialog:"Roulette_dialog",UIItemLogRoulette:"UIItemLogRoulette",UIPopupManager:"UIPopupManager",UIUserRoulette:"UIUserRoulette"}],Sam_Dialog:[function(e,t){"use strict";cc._RF.push(t,"4b40fIU0OdMqr9SYepwFi1A","Sam_Dialog");var i=e("Sam_History");cc.Class({extends:cc.Component,properties:{tlmnHistory:i,pokerHelp:cc.Node,pokerConfirmPopup:cc.Node,pokerSetting:cc.Node},onData:function(e){null!=e.history&&this.tlmnHistory.onData(e.history)},showHelp:function(){this.node.active=!0,this.pokerHelp.active=!0},hideHelp:function(){this.node.active=!1,this.pokerHelp.active=!1},showHistory:function(){this.node.active=!0,this.tlmnHistory.node.active=!0},hideHistory:function(){this.node.active=!1,this.tlmnHistory.node.active=!1},showSetting:function(){this.node.active=!0,this.pokerSetting.active=!0},hideSetting:function(){this.node.active=!1,this.pokerSetting.active=!1}}),cc._RF.pop()},{Sam_History:"Sam_History"}],Sam_History:[function(e,t){"use strict";cc._RF.push(t,"39291n/tvVBNKvcSqubDlTW","Sam_History");var i=e("Helper"),n=e("UIScreenGamePlaySam");cc.Class({extends:cc.Component,properties:{historyDetail:cc.Node,gameplay:n,page:cc.Prefab,content:cc.Node,cointRed:cc.Node,cointXu:cc.Node,red:!0},onLoad:function(){var e=this;this.historyDetail=this.historyDetail.getComponent("TLMN_historyDetail"),this.page=cc.instantiate(this.page),this.page.y=-307,this.node.addChild(this.page),this.page=this.page.getComponent("Pagination"),Promise.all(this.content.children.map(function(e){return e.getComponent("TLMN_HistoryItem")})).then(function(t){e.content=t}),this.page.init(this)},onEnable:function(){this.get_data()},get_data:function(e){void 0===e&&(e=1),cc.RedT.send({g:{sam:{history:{page:e}}}})},changerCoint:function(){this.red=!this.red,this.cointRed.active=!this.cointRed.active,this.cointXu.active=!this.cointXu.active,this.get_data()},getMyIndex:function(e){for(var t=0;t<e.length;t++)if(e[t].UID==cc.RedT.user.UID)return t;return-1},onData:function(e){var t=this;this.page.onSet(e.page,e.kmess,e.total);var n=this.gameplay.prefabCard.getComponent("UIItemCardTienLenSolo").spriteFrameCardArr;Promise.all(this.content.map(function(a,o){var s=e.data[o];if(null!=s){var c=t.getMyIndex(s.players);s.players[c].playerName,a.node.active=!0,a.time.string=i.getStringDateByTime(s.time),a.round.string=s.id+"/"+s.CurrentGameLoopId,a.init(t,s);var r=s.players[c];for(var o in r.card.sort(function(e,t){return e.OrdinalValue-t.OrdinalValue}),r.card)a.myCard[o].spriteFrame=n[r.card[o].OrdinalValue];for(var l=0,h=0;h<s.result.length;h++){var d=s.result[h];d.AccountId==cc.RedT.user.UID&&(l+=d.Money)}a.win.string=i.numberWithCommas(l)}else a.node.active=!1}))}}),cc._RF.pop()},{Helper:"Helper",UIScreenGamePlaySam:"UIScreenGamePlaySam"}],Settings:[function(e,t){"use strict";cc._RF.push(t,"75587hPL3NPGadq3k5zgG80","Settings");var i=e("CheckOut");e("EventDispatcher"),cc.Class({extends:cc.Component,properties:{NhacNen:i,NhacGame:i,SpriteLanguage:cc.Sprite,ArrKeyLanguage:{default:[],type:cc.String},ArrSpriteFrameLanguage:{default:[],type:cc.SpriteFrame},txtLanguage:cc.Label,boxChose:cc.Node,sfNhat:cc.SpriteFrame,sfViet:cc.SpriteFrame,sfAnh:cc.SpriteFrame,sfTrung:cc.SpriteFrame,sfDuc:cc.SpriteFrame,sfPhap:cc.SpriteFrame,sfTayBanNha:cc.SpriteFrame,sfItalia:cc.SpriteFrame,sfBoDaoNha:cc.SpriteFrame,sfCompodia:cc.SpriteFrame,sfHanQuoc:cc.SpriteFrame,sfThaiLan:cc.SpriteFrame,sfIndo:cc.SpriteFrame,sfMalay:cc.SpriteFrame,sfNga:cc.SpriteFrame,sfNodeNhat:cc.Node,sfNodeViet:cc.Node,sfNodeAnh:cc.Node,sfNodeTrung:cc.Node,sfNodeDuc:cc.Node,sfNodePhap:cc.Node,sfNodeTayBanNha:cc.Node,sfNodeItalia:cc.Node,sfNodeBoDaoNha:cc.Node,sfNodeCompodia:cc.Node,sfNodeHanQuoc:cc.Node,sfNodeThaiLan:cc.Node,sfNodeIndo:cc.Node,sfNodeMalay:cc.Node,sfNodeNga:cc.Node},onLoad:function(){cc.RedT.isSoundBackground()||this.NhacNen.OnChangerClick(),cc.RedT.isSoundGame()||this.NhacGame.OnChangerClick()},init:function(){null!=cc.RedT.language&&this.initLanguage(cc.RedT.language)},onEnable:function(){null!=cc.RedT.language&&(this.initLanguage(cc.RedT.language),this.node.runAction(cc.RedT.inGame.dialog.actionShow),cc.RedT.Frontendlanguages)},initLanguage:function(e){"vn"==e?(this.SpriteLanguage.spriteFrame=this.sfViet,this.txtLanguage.string="Ti\u1ebfng Vi\u1ec7t"):"jp"==e?(this.SpriteLanguage.spriteFrame=this.sfNhat,this.txtLanguage.string="\u65e5\u672c\u8a9e"):"de"==e?(this.SpriteLanguage.spriteFrame=this.sfDuc,this.txtLanguage.string="Deutsch"):"en"==e?(this.SpriteLanguage.spriteFrame=this.sfAnh,this.txtLanguage.string="English"):"th"==e?(this.SpriteLanguage.spriteFrame=this.sfThaiLan,this.txtLanguage.string="\u0e44\u0e17\u0e22"):"cn"==e?(this.SpriteLanguage.spriteFrame=this.sfTrung,this.txtLanguage.string="\u7b80\u4f53\u4e2d\u6587"):"es"==e?(this.SpriteLanguage.spriteFrame=this.sfTayBanNha,this.txtLanguage.string="Espa\xf1ol"):"fr"==e?(this.SpriteLanguage.spriteFrame=this.sfPhap,this.txtLanguage.string="Fran\xe7ais"):"it"==e?(this.SpriteLanguage.spriteFrame=this.sfItalia,this.txtLanguage.string="Italiano"):"pt"==e?(this.SpriteLanguage.spriteFrame=this.sfBoDaoNha,this.txtLanguage.string="Portugu\xeas"):"kh"==e?(this.SpriteLanguage.spriteFrame=this.sfCompodia,this.txtLanguage.string="\u1797\u17b6\u179f\u17b6\u179a\u1781\u17d2\u1798\u17c2\u179a"):"kr"==e?(this.SpriteLanguage.spriteFrame=this.sfHanQuoc,this.txtLanguage.string="\ud55c\uad6d\uc5b4"):"id"==e?(this.SpriteLanguage.spriteFrame=this.sfIndo,this.txtLanguage.string="Indonesia"):"my"==e?(this.SpriteLanguage.spriteFrame=this.sfMalay,this.txtLanguage.string="Melayu"):"ru"==e&&(this.SpriteLanguage.spriteFrame=this.sfNga,this.txtLanguage.string="\u0440\u0443\u0441\u0441\u043a\u0438\u0439")},showBoxChose:function(){this.boxChose.active=!0,this.sfNodeNhat.active=!1,this.sfNodeViet.active=!1,this.sfNodeAnh.active=!1,this.sfNodeDuc.active=!1,this.sfNodePhap.active=!1,this.sfNodeTayBanNha.active=!1,this.sfNodeThaiLan.active=!1,this.sfNodeBoDaoNha.active=!1,this.sfNodeHanQuoc.active=!1,this.sfNodeItalia.active=!1,this.sfNodeCompodia.active=!1,this.sfNodeTrung.active=!1,this.sfNodeIndo.active=!1,this.sfNodeMalay.active=!1,this.sfNodeNga.active=!1,"vn"==cc.RedT.language?this.sfNodeViet.active=!0:"de"==cc.RedT.language?this.sfNodeDuc.active=!0:"en"==cc.RedT.language?this.sfNodeAnh.active=!0:"th"==cc.RedT.language?this.sfNodeThaiLan.active=!0:"cn"==cc.RedT.language?this.sfNodeTrung.active=!0:"es"==cc.RedT.language?this.sfNodeTayBanNha.active=!0:"it"==cc.RedT.language?this.sfNodeItalia.active=!0:"pt"==cc.RedT.language?this.sfNodeBoDaoNha.active=!0:"kh"==cc.RedT.language?this.sfNodeCompodia.active=!0:"kr"==cc.RedT.language?this.sfNodeHanQuoc.active=!0:"jp"==cc.RedT.language?this.sfNodeNhat.active=!0:"fr"==cc.RedT.language?this.sfNodePhap.active=!0:"id"==cc.RedT.language?this.sfNodeIndo.active=!0:"my"==cc.RedT.language?this.sfNodeMalay.active=!0:"ru"==cc.RedT.language&&(this.sfNodeNga.active=!0)},hideBoxChose:function(){this.boxChose.active=!1},onBtnChangeLanguage:function(e,t){cc.RedT.MainGame.changeLanguage(t),this.initLanguage(t),this.hideBoxChose()},onDisable:function(){cc.RedT.inGame.dialog.resetSizeDialog(this.node)},setMusic:function(){null==localStorage.getItem("SOUND_GAME")?cc.RedT.setSoundGame(!0):cc.RedT.isSoundGame()?cc.RedT.IS_SOUND=!0:cc.RedT.IS_SOUND=!1},OnChangerNhacNen:function(){cc.RedT.setSoundBackground(this.NhacNen.isChecked),this.NhacNen.isChecked?cc.RedT.inGame.playMusic():cc.RedT.inGame.pauseMusic()},OnChangerNhacGame:function(){cc.RedT.setSoundGame(this.NhacGame.isChecked),this.NhacGame.isChecked?cc.RedT.IS_SOUND=!0:cc.RedT.IS_SOUND=!1},OnSignOutClick:function(){cc.RedT.inGame.notice.show({title:cc.RedT.Frontendlanguages[cc.RedT.language].logout,text:cc.RedT.Frontendlanguages[cc.RedT.language].logout_warn,button:{type:"sign_out",text:cc.RedT.Frontendlanguages[cc.RedT.language].logout}})}}),cc._RF.pop()},{CheckOut:"CheckOut",EventDispatcher:"EventDispatcher"}],Shop:[function(e,t){"use strict";cc._RF.push(t,"7c3a2CceMBL14CXynIjq7O1","Shop");var i=e("Bank"),n=e("Momo"),a=e("Coin"),o=e("EventDispatcher");cc.Class({extends:cc.Component,properties:{header:{default:null,type:cc.Node},TieuRed:{default:null,type:cc.Node},NapIAP:{default:null,type:cc.Node},ChuyenRed:{default:null,type:cc.Node},Bank:i,Momo:n,Coin:a,uiItemHeadNapIAP:cc.Node,uiItemHeadTieuRed:cc.Node,uiItemHeadChuyenRed:cc.Node,uiItemHeadCoin:cc.Node,uiItemHeadBank:cc.Node,uiItemHeadMomo:cc.Node,uiItemHeadNap:cc.Node,uiItemHeadRut:cc.Node},init:function(){var e=this;this.TieuRed=this.TieuRed.getComponent("TieuRed"),this.NapIAP=this.NapIAP.getComponent("NapIAP"),this.ChuyenRed=this.ChuyenRed.getComponent("ChuyenRed"),this.TieuRed.init(),this.NapIAP.init(),this.ChuyenRed.init(),this.Bank.init(),this.Momo.init(),this.Coin.init(),this.body=[this.TieuRed,this.NapIAP,this.ChuyenRed,this.Momo,this.Bank,this.Coin],Promise.all(this.header.children.map(function(e){return e.getComponent("itemHeadMenu")})).then(function(t){e.header=t})},onEnable:function(){null==cc.RedT.language_shop&&cc.RedT.send({shop:{pttext:!0}})},onSelectHead:function(e,t){Promise.all(this.header.map(function(e){e.node.name==t?e.select():e.unselect()})),Promise.all(this.body.map(function(e){e.node.name==t?e.node.active=!0:e.node.active=!1}))},superView:function(e){0==cc.RedT.user.showall?(this.uiItemHeadBank.active=!1,this.uiItemHeadMomo.active=!1,this.uiItemHeadNap.active=!1,this.uiItemHeadRut&&(this.uiItemHeadRut.active=!1),this.uiItemHeadChuyenRed.active=!1,this.uiItemHeadCoin.active=!1,this.uiItemHeadNapIAP.active=!0):1==cc.RedT.user.showall?(this.uiItemHeadBank.active=!0,this.uiItemHeadMomo.active=!0,this.uiItemHeadNap.active=!0,this.uiItemHeadRut&&(this.uiItemHeadRut.active=!0),this.uiItemHeadChuyenRed.active=!0,this.uiItemHeadCoin.active=!1,this.uiItemHeadNapIAP.active=!1):2==cc.RedT.user.showall?(this.uiItemHeadBank.active=!0,this.uiItemHeadMomo.active=!0,this.uiItemHeadNap.active=!0,this.uiItemHeadRut&&(this.uiItemHeadRut.active=!0),this.uiItemHeadChuyenRed.active=!0,this.uiItemHeadCoin.active=!1,this.uiItemHeadNapIAP.active=!1):3==cc.RedT.user.showall?(this.uiItemHeadBank.active=!0,this.uiItemHeadMomo.active=!0,this.uiItemHeadNap.active=!0,this.uiItemHeadRut&&(this.uiItemHeadRut.active=!0),this.uiItemHeadChuyenRed.active=!0,this.uiItemHeadCoin.active=!1,this.uiItemHeadNapIAP.active=!0):4==cc.RedT.user.showall?(this.uiItemHeadBank.active=!0,this.uiItemHeadMomo.active=!0,this.uiItemHeadNap.active=!0,this.uiItemHeadRut&&(this.uiItemHeadRut.active=!0),this.uiItemHeadChuyenRed.active=!0,this.uiItemHeadCoin.active=!1,this.uiItemHeadNapIAP.active=!0):5==cc.RedT.user.showall?(this.uiItemHeadBank.active=!1,this.uiItemHeadMomo.active=!1,this.uiItemHeadNap.active=!1,this.uiItemHeadRut&&(this.uiItemHeadRut.active=!1),this.uiItemHeadChuyenRed.active=!1,this.uiItemHeadCoin.active=!0,this.uiItemHeadNapIAP.active=!1):6==cc.RedT.user.showall?(this.uiItemHeadBank.active=!1,this.uiItemHeadMomo.active=!1,this.uiItemHeadNap.active=!1,this.uiItemHeadRut&&(this.uiItemHeadRut.active=!1),this.uiItemHeadChuyenRed.active=!1,this.uiItemHeadCoin.active=!0,this.uiItemHeadNapIAP.active=!1):7==cc.RedT.user.showall?(this.uiItemHeadBank.active=!1,this.uiItemHeadMomo.active=!1,this.uiItemHeadNap.active=!1,this.uiItemHeadRut&&(this.uiItemHeadRut.active=!1),this.uiItemHeadChuyenRed.active=!1,this.uiItemHeadCoin.active=!0,this.uiItemHeadNapIAP.active=!0):8==cc.RedT.user.showall?(this.uiItemHeadBank.active=!1,this.uiItemHeadMomo.active=!1,this.uiItemHeadNap.active=!1,this.uiItemHeadRut&&(this.uiItemHeadRut.active=!1),this.uiItemHeadChuyenRed.active=!1,this.uiItemHeadCoin.active=!0,this.uiItemHeadNapIAP.active=!0):9==cc.RedT.user.showall&&(this.uiItemHeadBank.active=!0,this.uiItemHeadMomo.active=!0,this.uiItemHeadNap.active=!0,this.uiItemHeadRut&&(this.uiItemHeadRut.active=!0),this.uiItemHeadChuyenRed.active=!0,this.uiItemHeadCoin.active=!0,this.uiItemHeadNapIAP.active=!0),"TR"==e||"MuaXu"==e||"MuaTheNap"==e?(this.onSelectHead(null,"TR"),"TR"!=e&&this.TieuRed.onSelectHead(null,e)):"CR"==e?this.onSelectHead(null,"CR"):"IAP"==e?this.onSelectHead(null,"IAP"):"B"==e?this.onSelectHead(null,"B"):"C"==e&&this.onSelectHead(null,"C")},onData:function(e){void 0!==e.language&&(cc.RedT.language_shop=e.language,o.dispatchEvent({type:"changeLanguage",data:cc.RedT.language})),void 0!==e.nap_red&&(this.Momo.nap.onData(e.nap_red),this.Momo.rut.onData(e.nap_red)),void 0!==e.mua_the_nap&&this.TieuRed.MuaTheCao.onData(e.mua_the_nap),void 0!==e.nap_momo&&this.Momo.nap.onData(e),void 0!==e.mua_momo&&this.Momo.rut.onData(e),void 0!==e.nap_bank&&this.Bank.nap.onData(e),void 0!==e.nap_coin&&this.Coin.nap.onData(e),void 0!==e.mua_bank&&this.Bank.rut.onData(e),void 0!==e.mua_coin&&this.Coin.rut.onData(e.mua_coin.info),void 0!==e.chuyen_red&&this.ChuyenRed.onData(e.chuyen_red),e.bank&&this.Bank.onData(e.bank),e.coin&&this.Coin.onData(e.coin),e.momoAccountLists&&this.Momo.onData(e),void 0!==e.daily&&this.ChuyenRed.onDaiLy(e)}}),cc._RF.pop()},{Bank:"Bank",Coin:"Coin",EventDispatcher:"EventDispatcher",Momo:"Momo"}],SicboChat:[function(e,t){"use strict";cc._RF.push(t,"2cb85MXYslCTrRTeTKrRbX/","SicboChat");var i=e("Helper"),n=e("BrowserUtil");cc.Class({extends:cc.Component,properties:{content:{default:null,type:cc.ScrollView},item:{default:null,type:cc.Prefab},input:{default:null,type:cc.EditBox},layout:{default:null,type:cc.Layout},isLoad:!1},init:function(e){this.RedT=e,void 0!==cc.RedT.setting.sicbo.chat_active&&(this.node.active=cc.RedT.setting.sicbo.chat_active)},onLoad:function(){var e=this;this.keyHandle=function(t){return t.keyCode===cc.macro.KEY.tab?(t.preventDefault&&t.preventDefault(),!1):t.keyCode===cc.macro.KEY.enter?(n.focusGame(),e.onChatClick(),t.preventDefault&&t.preventDefault(),!1):void 0}},onEnable:function(){cc.sys.isBrowser&&this.addEvent(),this.isLoad||this.getData()},onDisable:function(){cc.sys.isBrowser&&this.removeEvent(),this.clean()},addEvent:function(){n.getHTMLElementByEditBox(this.input).addEventListener("keydown",this.keyHandle,!1)},removeEvent:function(){n.getHTMLElementByEditBox(this.input).removeEventListener("keydown",this.keyHandle,!1)},getData:function(){this.isLoad=!0,cc.RedT.send({g:{sicbo:{getLogChat:!0}}})},message:function(e,t){void 0===t&&(t=!1);var i=cc.instantiate(this.item);i.getComponent(cc.Label).string=e.user+": "+e.value,i.children[0].getComponent(cc.Label).string=e.user,this.content.content.addChild(i),t&&this.layout.node.height>300&&this.layout.node.height-this.layout.node.position.y-134<70&&setTimeout(function(){this.content.scrollToBottom(.1)}.bind(this),100)},logs:function(e){var t=this;if(e.length){var i=this;Promise.all(e.map(function(e){return i.message(e)})).then(function(){setTimeout(function(){this.content.scrollToBottom(.1)}.bind(t),100)})}},onData:function(e){void 0!==e.message&&this.message(e.message,!0),void 0!==e.logs&&this.logs(e.logs)},onChatClick:function(){i.isEmpty(this.input.string)?this.RedT.onData({err:cc.RedT.Frontendlanguages[cc.RedT.language].chat_err}):(cc.RedT.send({g:{sicbo:{chat:this.input.string}}}),this.onData({message:{user:cc.RedT.user.name,value:this.input.string}}),this.clean())},toggle:function(){cc.RedT.audio.playClick(),this.node.active=cc.RedT.setting.sicbo.chat_active=!this.node.active},clean:function(){this.input.string=""},reset:function(){this.content.content.destroyAllChildren(),this.node.active=!1}}),cc._RF.pop()},{BrowserUtil:"BrowserUtil",Helper:"Helper"}],Sicbo_dialog:[function(e,t){"use strict";cc._RF.push(t,"87554bSuFtJ9pcFUM7Vqat1","Sicbo_dialog");var i=e("Sicbo_history"),n=e("Sicbo_top"),a=e("Sicbo_setting");cc.Class({extends:cc.Component,properties:{history:i,top:n,setting:a},init:function(){this.actionShow=cc.spawn(cc.scaleTo(.5,1).easing(cc.easeBackOut(2.5)),cc.fadeTo(.5,255)),this.objShow=null,this.objTmp=null},onClickBack:function(){cc.RedT.audio.playUnClick(),this.onBack()},onBack:function(){null!=this.objShow?null==this.objShow.previous||null==this.objShow.previous?(this.objShow.active=!1,this.node.active=!1,this.objShow=null):(this.objTmp=this.objShow,this.objShow=this.objShow.previous,this.objTmp.previous=null,this.objTmp.active=!1,this.objShow.active=!0,this.objTmp=null):this.node.active=!1},onClosePrevious:function(e){void 0!==e.previous&&null!==e.previous&&(this.onClosePrevious(e.previous),delete e.previous),e.active=!1},onCloseDialog:function(){null!=this.objShow?null==this.objShow.previous||null==this.objShow.previous?(this.objShow.active=this.node.active=!1,this.objShow=null):(this.onClosePrevious(this.objShow.previous),this.objShow.active=this.node.active=!1,delete this.objShow.previous,this.objShow=null):this.node.active=!1},resetSizeDialog:function(e){e.stopAllActions(),e.scale=.5,e.opacity=0},showHistory:function(){this.node.active=this.history.node.active=!0,this.objShow=this.history.node},showTop:function(){this.node.active=this.top.node.active=!0,this.objShow=this.top.node},showSetting:function(){this.node.active=this.setting.node.active=!0,this.objShow=this.setting.node}}),cc._RF.pop()},{Sicbo_history:"Sicbo_history",Sicbo_setting:"Sicbo_setting",Sicbo_top:"Sicbo_top"}],Sicbo_history_item:[function(e,t){"use strict";cc._RF.push(t,"efc73e326xJDaQEojSiEAFz","Sicbo_history_item");var i=e("Helper");cc.Class({extends:cc.Component,properties:{txtCuoc:cc.Label,dices:{default:[],type:cc.Sprite},spriteDices:{default:[],type:cc.SpriteFrame},txtDice:cc.Label},init:function(e,t){this.txtCuoc.string=i.nFormatter(t),this.txtDice.string="";for(var n=0;n<this.dices.length;n++)this.dices[n].spriteFrame=null;switch(e){case"dai":this.txtDice.string="Tai";break;case"xiu":this.txtDice.string="Xiu";break;case"even":this.txtDice.string=cc.RedT.Frontendlanguages[cc.RedT.language].even;break;case"odd":this.txtDice.string=cc.RedT.Frontendlanguages[cc.RedT.language].odd;break;case"double1":this.dices[0].spriteFrame=this.spriteDices[0],this.dices[1].spriteFrame=this.spriteDices[0];break;case"double2":this.dices[0].spriteFrame=this.spriteDices[1],this.dices[1].spriteFrame=this.spriteDices[1];break;case"double3":this.dices[0].spriteFrame=this.spriteDices[2],this.dices[1].spriteFrame=this.spriteDices[2];break;case"double4":this.dices[0].spriteFrame=this.spriteDices[3],this.dices[1].spriteFrame=this.spriteDices[3];break;case"double5":this.dices[0].spriteFrame=this.spriteDices[4],this.dices[1].spriteFrame=this.spriteDices[4];break;case"double6":this.dices[0].spriteFrame=this.spriteDices[5],this.dices[1].spriteFrame=this.spriteDices[5];break;case"triple1":this.dices[0].spriteFrame=this.spriteDices[0],this.dices[1].spriteFrame=this.spriteDices[0],this.dices[2].spriteFrame=this.spriteDices[0];break;case"triple2":this.dices[0].spriteFrame=this.spriteDices[1],this.dices[1].spriteFrame=this.spriteDices[1],this.dices[2].spriteFrame=this.spriteDices[1];break;case"triple3":this.dices[0].spriteFrame=this.spriteDices[2],this.dices[1].spriteFrame=this.spriteDices[2],this.dices[2].spriteFrame=this.spriteDices[2];break;case"triple4":this.dices[0].spriteFrame=this.spriteDices[3],this.dices[1].spriteFrame=this.spriteDices[3],this.dices[2].spriteFrame=this.spriteDices[3];break;case"triple5":this.dices[0].spriteFrame=this.spriteDices[4],this.dices[1].spriteFrame=this.spriteDices[4],this.dices[2].spriteFrame=this.spriteDices[4];break;case"triple6":this.dices[0].spriteFrame=this.spriteDices[5],this.dices[1].spriteFrame=this.spriteDices[5],this.dices[2].spriteFrame=this.spriteDices[5];break;case"point04":this.txtDice.string=cc.RedT.Frontendlanguages[cc.RedT.language].sum4;break;case"point05":this.txtDice.string=cc.RedT.Frontendlanguages[cc.RedT.language].sum5;break;case"point06":this.txtDice.string=cc.RedT.Frontendlanguages[cc.RedT.language].sum6;break;case"point07":this.txtDice.string=cc.RedT.Frontendlanguages[cc.RedT.language].sum7;break;case"point08":this.txtDice.string=cc.RedT.Frontendlanguages[cc.RedT.language].sum8;break;case"point09":this.txtDice.string=cc.RedT.Frontendlanguages[cc.RedT.language].sum9;break;case"point10":this.txtDice.string=cc.RedT.Frontendlanguages[cc.RedT.language].sum10;break;case"point11":this.txtDice.string=cc.RedT.Frontendlanguages[cc.RedT.language].sum11;break;case"point12":this.txtDice.string=cc.RedT.Frontendlanguages[cc.RedT.language].sum12;break;case"point13":this.txtDice.string=cc.RedT.Frontendlanguages[cc.RedT.language].sum13;break;case"point14":this.txtDice.string=cc.RedT.Frontendlanguages[cc.RedT.language].sum14;break;case"point15":this.txtDice.string=cc.RedT.Frontendlanguages[cc.RedT.language].sum15;break;case"point16":this.txtDice.string=cc.RedT.Frontendlanguages[cc.RedT.language].sum16;break;case"point17":this.txtDice.string=cc.RedT.Frontendlanguages[cc.RedT.language].sum17;break;case"one2":this.dices[0].spriteFrame=this.spriteDices[0],this.dices[1].spriteFrame=this.spriteDices[1];break;case"one3":this.dices[0].spriteFrame=this.spriteDices[0],this.dices[1].spriteFrame=this.spriteDices[2];break;case"one4":this.dices[0].spriteFrame=this.spriteDices[0],this.dices[1].spriteFrame=this.spriteDices[3];break;case"one5":this.dices[0].spriteFrame=this.spriteDices[0],this.dices[1].spriteFrame=this.spriteDices[4];break;case"one6":this.dices[0].spriteFrame=this.spriteDices[0],this.dices[1].spriteFrame=this.spriteDices[5];break;case"two3":this.dices[0].spriteFrame=this.spriteDices[1],this.dices[1].spriteFrame=this.spriteDices[2];break;case"two4":this.dices[0].spriteFrame=this.spriteDices[1],this.dices[1].spriteFrame=this.spriteDices[3];break;case"two5":this.dices[0].spriteFrame=this.spriteDices[1],this.dices[1].spriteFrame=this.spriteDices[4];break;case"two6":this.dices[0].spriteFrame=this.spriteDices[1],this.dices[1].spriteFrame=this.spriteDices[5];break;case"three4":this.dices[0].spriteFrame=this.spriteDices[2],this.dices[1].spriteFrame=this.spriteDices[3];break;case"three5":this.dices[0].spriteFrame=this.spriteDices[2],this.dices[1].spriteFrame=this.spriteDices[4];break;case"three6":this.dices[0].spriteFrame=this.spriteDices[2],this.dices[1].spriteFrame=this.spriteDices[5];break;case"four5":this.dices[0].spriteFrame=this.spriteDices[3],this.dices[1].spriteFrame=this.spriteDices[4];break;case"four6":this.dices[0].spriteFrame=this.spriteDices[3],this.dices[1].spriteFrame=this.spriteDices[5];break;case"five6":this.dices[0].spriteFrame=this.spriteDices[4],this.dices[1].spriteFrame=this.spriteDices[5];break;case"one":this.dices[0].spriteFrame=this.spriteDices[0];break;case"two":this.dices[0].spriteFrame=this.spriteDices[1];break;case"three":this.dices[0].spriteFrame=this.spriteDices[2];break;case"four":this.dices[0].spriteFrame=this.spriteDices[3];break;case"five":this.dices[0].spriteFrame=this.spriteDices[4];break;case"six":this.dices[0].spriteFrame=this.spriteDices[5]}}}),cc._RF.pop()},{Helper:"Helper"}],Sicbo_history:[function(e,t){"use strict";cc._RF.push(t,"b1827BTq4tJxb7M/BsVvAyW","Sicbo_history");var i=e("Helper");cc.Class({extends:cc.Component,properties:{contentLeft:cc.Node,contentRight:cc.Node,prefab:cc.Node,txtPhien:cc.Label,btnBack:cc.Node,btnNext:cc.Node,txtTotalWin:cc.Label,dices:{default:[],type:cc.Sprite},spriteDices:{default:[],type:cc.SpriteFrame},txtDice:cc.Label},onLoad:function(){},onEnable:function(){this.get_data()},onDisable:function(){},get_data:function(e){void 0===e&&(e=1),cc.RedT.send({g:{sicbo:{viewlogs:{page:e}}}})},onBtnBack:function(){this.indexCurrent++,this.indexCurrent>=this.data.length?this.indexCurrent=this.data.length-1:this.updateInfo()},onBtnNext:function(){this.indexCurrent--,this.indexCurrent<0?this.indexCurrent=0:this.updateInfo()},updateInfo:function(){if(this.contentLeft.removeAllChildren(),this.contentRight.removeAllChildren(),-1==this.indexCurrent){this.txtPhien.string="#",this.txtKetQua.string="",this.txtTotalWin.string="",this.txtDice.string="";for(var e=0;e<this.dices.length;e++)this.dices[e].spriteFrame=null}else{var t=this.data[this.indexCurrent];this.txtPhien.string="#"+t.session;var n=0;for(e=0;e<this.dices.length;e++)this.dices[e].spriteFrame=this.spriteDices[t.kq[e]-1],n+=t.kq[e];this.txtDice.string=n+" / "+n>=11?"Tai":"Xiu",this.txtTotalWin.string="+"+i.nFormatter(t.betwin);var a=Object.assign({},t);delete a.server,delete a.bigWin,delete a.betwin,delete a.name,delete a.session,delete a.time,delete a.kq;var o=0;for(var s in a)if(a[s]>0){var c=cc.instantiate(this.prefab);c.parent=o%2==0?this.contentLeft:this.contentRight,c.position=cc.v2(0,0),c.getComponent("Sicbo_history_item").init(s,a[s]),o++}}},onData:function(e){this.data=e,null==this.data||0==this.data.length?this.indexCurrent=-1:this.indexCurrent=0,this.updateInfo()}}),cc._RF.pop()},{Helper:"Helper"}],Sicbo_setting:[function(e,t){"use strict";cc._RF.push(t,"c8870vMmaBDs6v1Irtw/Kvu","Sicbo_setting");var i=e("CheckOut");cc.Class({extends:cc.Component,properties:{NhacNen:i,NhacGame:i,audioBG:cc.AudioSource},onLoad:function(){},OnChangerNhacNen:function(){cc.RedT.setSoundBackground(this.NhacNen.isChecked),this.NhacNen.isChecked?this.audioBG.play():this.audioBG.pause()},OnChangerNhacGame:function(){cc.RedT.setSoundGame(this.NhacGame.isChecked),this.NhacGame.isChecked?cc.RedT.IS_SOUND=!0:cc.RedT.IS_SOUND=!1}}),cc._RF.pop()},{CheckOut:"CheckOut"}],Sicbo_top_item:[function(e,t){"use strict";cc._RF.push(t,"e0615SGNb1P6JhqMOxkd7kw","Sicbo_top_item"),cc.Class({extends:cc.Component,properties:{userName:cc.Label,win:cc.Label}}),cc._RF.pop()},{}],Sicbo_top:[function(e,t){"use strict";cc._RF.push(t,"41e3e3cyvFLnLnq/J9GDE5W","Sicbo_top");var i=e("Helper");cc.Class({extends:cc.Component,properties:{item:cc.Prefab,content:cc.Node,cointRed:cc.Node,cointXu:cc.Node,red:!0},onEnable:function(){this.get_data()},get_data:function(e){void 0===e&&(e=1),cc.RedT.send({g:{sicbo:{tops:this.red}}})},changerCoint:function(){this.red=!this.red,this.cointRed.active=!this.cointRed.active,this.cointXu.active=!this.cointXu.active,this.get_data()},onData:function(e){this.content.removeAllChildren();var t=this;Promise.all(e.map(function(e,n){var a=cc.instantiate(t.item),o=a.getComponent("Sicbo_top_item");o.userName.string=e.name,o.win.string=i.numberWithCommas(e.bet),a.children[0].active=!(1&n),t.content.addChild(a)}))}}),cc._RF.pop()},{Helper:"Helper"}],SignIn:[function(e,t){"use strict";cc._RF.push(t,"1c678NmitZCp6ybtgqTKrnQ","SignIn");var i=e("BrowserUtil"),n=e("GameConfig");e("Helper"),cc.Class({extends:cc.Component,properties:{username:{default:null,type:cc.EditBox},password:{default:null,type:cc.EditBox},remember:{default:null,type:cc.Toggle},SpriteLanguage:cc.Sprite,ArrKeyLanguage:{default:[],type:cc.String},ArrSpriteFrameLanguage:{default:[],type:cc.SpriteFrame},btnFb:{default:null,type:cc.Node},btnApple:{default:null,type:cc.Node},txtLanguage:cc.Label,boxChose:cc.Node,sfNhat:cc.SpriteFrame,sfViet:cc.SpriteFrame,sfAnh:cc.SpriteFrame,sfTrung:cc.SpriteFrame,sfDuc:cc.SpriteFrame,sfPhap:cc.SpriteFrame,sfTayBanNha:cc.SpriteFrame,sfItalia:cc.SpriteFrame,sfBoDaoNha:cc.SpriteFrame,sfCompodia:cc.SpriteFrame,sfHanQuoc:cc.SpriteFrame,sfThaiLan:cc.SpriteFrame,sfIndo:cc.SpriteFrame,sfMalay:cc.SpriteFrame,sfNga:cc.SpriteFrame,sfNodeNhat:cc.Node,sfNodeViet:cc.Node,sfNodeAnh:cc.Node,sfNodeTrung:cc.Node,sfNodeDuc:cc.Node,sfNodePhap:cc.Node,sfNodeTayBanNha:cc.Node,sfNodeItalia:cc.Node,sfNodeBoDaoNha:cc.Node,sfNodeCompodia:cc.Node,sfNodeHanQuoc:cc.Node,sfNodeThaiLan:cc.Node,sfNodeIndo:cc.Node,sfNodeMalay:cc.Node,sfNodeNga:cc.Node},onLoad:function(){var e=this;cc.sys.localStorage.getItem("remember")?this.remember.isChecked=!0:this.remember.isChecked=!1,this.editboxs=[this.username,this.password],this.editboxs_i=0,this.keyHandle=function(t){return t.keyCode===cc.macro.KEY.tab?(e.changeNextFocusEditBox(),t.preventDefault&&t.preventDefault(),!1):t.keyCode===cc.macro.KEY.enter?(i.focusGame(),e.onLoginClick(),t.preventDefault&&t.preventDefault(),!1):t.keyCode===cc.macro.KEY.escape?(cc.RedT.inGame.dialog.onClickBack(),t.preventDefault&&t.preventDefault(),!1):void 0},e.initLanguage(cc.sys.localStorage.getItem("user_lang"))},onEnable:function(){cc.sys.isBrowser&&this.addEvent(),this.username.string=null==cc.sys.localStorage.getItem("username")?"":cc.sys.localStorage.getItem("username"),this.password.string=null==cc.sys.localStorage.getItem("password")?"":cc.sys.localStorage.getItem("password"),this.node.runAction(cc.RedT.inGame.dialog.actionShow),cc.sys.os==cc.sys.OS_IOS?(this.btnApple.active=!0,this.btnFb.active=!0):cc.sys.os==cc.sys.OS_OSX?(this.btnApple.active=!0,this.btnFb.active=!1):(this.btnApple.active=!1,this.btnFb.active=!0)},setLanguageDefault:function(){},initLanguage:function(e){"vn"==e?(this.SpriteLanguage.spriteFrame=this.sfViet,this.txtLanguage.string="Ti\u1ebfng Vi\u1ec7t"):"jp"==e?(this.SpriteLanguage.spriteFrame=this.sfNhat,this.txtLanguage.string="\u65e5\u672c\u8a9e"):"de"==e?(this.SpriteLanguage.spriteFrame=this.sfDuc,this.txtLanguage.string="Deutsch"):"en"==e?(this.SpriteLanguage.spriteFrame=this.sfAnh,this.txtLanguage.string="English"):"th"==e?(this.SpriteLanguage.spriteFrame=this.sfThaiLan,this.txtLanguage.string="\u0e44\u0e17\u0e22"):"cn"==e?(this.SpriteLanguage.spriteFrame=this.sfTrung,this.txtLanguage.string="\u7b80\u4f53\u4e2d\u6587"):"es"==e?(this.SpriteLanguage.spriteFrame=this.sfTayBanNha,this.txtLanguage.string="Espa\xf1ol"):"fr"==e?(this.SpriteLanguage.spriteFrame=this.sfPhap,this.txtLanguage.string="Fran\xe7ais"):"it"==e?(this.SpriteLanguage.spriteFrame=this.sfItalia,this.txtLanguage.string="Italiano"):"pt"==e?(this.SpriteLanguage.spriteFrame=this.sfBoDaoNha,this.txtLanguage.string="Portugu\xeas"):"kh"==e?(this.SpriteLanguage.spriteFrame=this.sfCompodia,this.txtLanguage.string="\u1797\u17b6\u179f\u17b6\u179a\u1781\u17d2\u1798\u17c2\u179a"):"kr"==e?(this.SpriteLanguage.spriteFrame=this.sfHanQuoc,this.txtLanguage.string="\ud55c\uad6d\uc5b4"):"id"==e?(this.SpriteLanguage.spriteFrame=this.sfIndo,this.txtLanguage.string="Indonesia"):"my"==e?(this.SpriteLanguage.spriteFrame=this.sfMalay,this.txtLanguage.string="Melayu"):"ru"==e&&(this.SpriteLanguage.spriteFrame=this.sfNga,this.txtLanguage.string="\u0440\u0443\u0441\u0441\u043a\u0438\u0439")},showBoxChose:function(){this.boxChose.active=!0,this.sfNodeNhat.active=!1,this.sfNodeViet.active=!1,this.sfNodeAnh.active=!1,this.sfNodeDuc.active=!1,this.sfNodePhap.active=!1,this.sfNodeTayBanNha.active=!1,this.sfNodeThaiLan.active=!1,this.sfNodeBoDaoNha.active=!1,this.sfNodeHanQuoc.active=!1,this.sfNodeItalia.active=!1,this.sfNodeCompodia.active=!1,this.sfNodeTrung.active=!1,this.sfNodeIndo.active=!1,this.sfNodeMalay.active=!1,this.sfNodeNga.active=!1,"vn"==cc.RedT.language?this.sfNodeViet.active=!0:"de"==cc.RedT.language?this.sfNodeDuc.active=!0:"en"==cc.RedT.language?this.sfNodeAnh.active=!0:"th"==cc.RedT.language?this.sfNodeThaiLan.active=!0:"cn"==cc.RedT.language?this.sfNodeTrung.active=!0:"es"==cc.RedT.language?this.sfNodeTayBanNha.active=!0:"it"==cc.RedT.language?this.sfNodeItalia.active=!0:"pt"==cc.RedT.language?this.sfNodeBoDaoNha.active=!0:"kh"==cc.RedT.language?this.sfNodeCompodia.active=!0:"kr"==cc.RedT.language?this.sfNodeHanQuoc.active=!0:"jp"==cc.RedT.language?this.sfNodeNhat.active=!0:"fr"==cc.RedT.language?this.sfNodePhap.active=!0:"id"==cc.RedT.language?this.sfNodeIndo.active=!0:"my"==cc.RedT.language?this.sfNodeMalay.active=!0:"ru"==cc.RedT.language&&(this.sfNodeNga.active=!0)},onBtnChangeLanguage:function(e,t){cc.RedT.MainGame.changeLanguage(t),this.initLanguage(t),this.hideBoxChose()},hideBoxChose:function(){this.boxChose.active=!1},onDisable:function(){cc.sys.isBrowser&&this.removeEvent(),this.clean(),cc.RedT.inGame.dialog.resetSizeDialog(this.node)},addEvent:function(){for(var e in cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),this.editboxs)i.getHTMLElementByEditBox(this.editboxs[e]).addEventListener("keydown",this.keyHandle,!1)},removeEvent:function(){for(var e in this.editboxs)i.getHTMLElementByEditBox(this.editboxs[e]).removeEventListener("keydown",this.keyHandle,!1);cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},onKeyDown:function(e){switch(e.keyCode){case cc.macro.KEY.escape:this.isTop()&&cc.RedT.inGame.dialog.onClickBack();break;case cc.macro.KEY.tab:this.isTop()&&this.changeNextFocusEditBox();break;case cc.macro.KEY.enter:this.isTop()&&this.onLoginClick()}},changeNextFocusEditBox:function(){for(var e=!1,t=0,n=this.editboxs.length;t<n;t++)if(i.checkEditBoxFocus(this.editboxs[t])){i.focusEditBox(this.editboxs[t]),e=!0;break}!e&&0<this.editboxs.length&&i.focusEditBox(this.editboxs[0])},isTop:function(){return!cc.RedT.inGame.notice.node.active&&!cc.RedT.inGame.loading.active},clean:function(){this.username.string=this.password.string=""},onLoginClick:function(){var e=null;this.username.string.length>32||this.username.string.length<3||null===this.username.string.match(new RegExp("^[a-zA-Z0-9]+$"))?e=cc.RedT.Frontendlanguages[cc.RedT.language].err_username:(this.password.string.length>32||this.password.string.length<6)&&(e=cc.RedT.Frontendlanguages[cc.RedT.language].err_pass),e?cc.RedT.inGame.notice.show({title:"LOGIN",text:e}):(this.remember.isChecked?(cc.sys.localStorage.setItem("remember",!0),cc.sys.localStorage.setItem("username",this.username.string),cc.sys.localStorage.setItem("password",this.password.string)):cc.sys.localStorage.setItem("remember",!1),cc.RedT.inGame.auth({authentication:{username:this.username.string,password:this.password.string,isStore:n.isStore,store:n.store,version:n.version}}),cc.sys.localStorage.setItem("isAutoLogin",!1))}}),cc._RF.pop()},{BrowserUtil:"BrowserUtil",GameConfig:"GameConfig",Helper:"Helper"}],SignName:[function(e,t){"use strict";cc._RF.push(t,"428fapqUBNMxZBikn0+ylYv","SignName");var i=e("BrowserUtil");cc.Class({extends:cc.Component,properties:{username:{default:null,type:cc.EditBox}},onLoad:function(){var e=this;this.keyHandle=function(t){return t.keyCode===cc.macro.KEY.tab?(e.changeNextFocusEditBox(),t.preventDefault&&t.preventDefault(),!1):t.keyCode===cc.macro.KEY.enter?(i.focusGame(),e.onSignNameClick(),t.preventDefault&&t.preventDefault(),!1):void 0}},onEnable:function(){cc.sys.isBrowser&&this.addEvent(),this.node.runAction(cc.RedT.inGame.dialog.actionShow)},onDisable:function(){cc.sys.isBrowser&&this.removeEvent(),this.clean(),cc.RedT.inGame.dialog.resetSizeDialog(this.node)},addEvent:function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),i.getHTMLElementByEditBox(this.username).addEventListener("keydown",this.keyHandle,!1)},removeEvent:function(){i.getHTMLElementByEditBox(this.username).removeEventListener("keydown",this.keyHandle,!1),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},onKeyDown:function(e){switch(e.keyCode){case cc.macro.KEY.tab:this.isTop()&&this.changeNextFocusEditBox();break;case cc.macro.KEY.enter:this.isTop()&&this.onSignNameClick()}},changeNextFocusEditBox:function(){i.focusEditBox(this.username)},isTop:function(){return!cc.RedT.inGame.notice.node.active&&!cc.RedT.inGame.loading.active},clean:function(){this.username.string=""},onSignNameClick:function(){this.username.string.length>14||this.username.string.length<3||null===this.username.string.match(new RegExp("^[a-zA-Z0-9]+$"))?cc.RedT.inGame.notice.show({title:cc.RedT.Frontendlanguages[cc.RedT.language].username,text:cc.RedT.Frontendlanguages[cc.RedT.language].err_username_check}):cc.RedT.send({signName:this.username.string})}}),cc._RF.pop()},{BrowserUtil:"BrowserUtil"}],SignOut:[function(e,t){"use strict";cc._RF.push(t,"1d01bAfcztH8oV27UvkQBVe","SignOut"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],SignUp:[function(e,t){"use strict";cc._RF.push(t,"0dcbdkfFWFJo7s1gZAEcYsa","SignUp");var i=e("BrowserUtil"),n=(e("Helper"),e("GameConfig"));cc.Class({extends:cc.Component,properties:{username:{default:null,type:cc.EditBox},password:{default:null,type:cc.EditBox},repassword:{default:null,type:cc.EditBox},captcha:{default:null,type:cc.EditBox},capchaSprite:cc.Sprite},onLoad:function(){var e=this;this.editboxs=[this.username,this.password,this.repassword,this.captcha],this.keyHandle=function(t){return t.keyCode===cc.macro.KEY.tab?(e.changeNextFocusEditBox(),t.preventDefault&&t.preventDefault(),!1):t.keyCode===cc.macro.KEY.enter?(i.focusGame(),e.onSignUpClick(),t.preventDefault&&t.preventDefault(),!1):t.keyCode===cc.macro.KEY.escape?(cc.RedT.inGame.dialog.onClickBack(),t.preventDefault&&t.preventDefault(),!1):void 0}},onEnable:function(){cc.sys.isBrowser&&this.addEvent(),this.node.runAction(cc.RedT.inGame.dialog.actionShow),this.reCaptcha()},onDisable:function(){cc.sys.isBrowser&&this.removeEvent(),this.clean(),cc.RedT.inGame.dialog.resetSizeDialog(this.node)},addEvent:function(){for(var e in cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),this.editboxs)i.getHTMLElementByEditBox(this.editboxs[e]).addEventListener("keydown",this.keyHandle,!1)},removeEvent:function(){for(var e in this.editboxs)i.getHTMLElementByEditBox(this.editboxs[e]).removeEventListener("keydown",this.keyHandle,!1);cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},onKeyDown:function(e){switch(e.keyCode){case cc.macro.KEY.escape:this.isTop()&&cc.RedT.inGame.dialog.onClickBack();break;case cc.macro.KEY.tab:this.isTop()&&this.changeNextFocusEditBox();break;case cc.macro.KEY.enter:this.isTop()&&this.onSignUpClick()}},changeNextFocusEditBox:function(){for(var e=!1,t=0,n=this.editboxs.length;t<n;t++)if(i.checkEditBoxFocus(this.editboxs[t])){i.focusEditBox(this.editboxs[t]),e=!0;break}!e&&0<this.editboxs.length&&i.focusEditBox(this.editboxs[0])},isTop:function(){return!cc.RedT.inGame.notice.node.active&&!cc.RedT.inGame.loading.active},clean:function(){this.username.string=this.password.string=this.repassword.string=this.captcha.string=""},onSignUpClick:function(){var e=null;this.username.string.length>32||this.username.string.length<3?e=cc.RedT.Frontendlanguages[cc.RedT.language].err_username_len:this.password.string.length>32||this.password.string.length<6?e=cc.RedT.Frontendlanguages[cc.RedT.language].err_pass_leng:this.password.string!==this.repassword.string?e=cc.RedT.Frontendlanguages[cc.RedT.language].err_pass_cf:this.captcha.string.length<4?e=cc.RedT.Frontendlanguages[cc.RedT.language].err_captcha_fill:this.username.string==this.password.string?e=cc.RedT.Frontendlanguages[cc.RedT.language].err_user_pass:null===this.username.string.match(new RegExp("^[a-zA-Z0-9]+$"))&&(e=cc.RedT.Frontendlanguages[cc.RedT.language].err_username_cha),e?cc.RedT.inGame.notice.show({title:cc.RedT.Frontendlanguages[cc.RedT.language].signup,text:e}):(cc.sys.localStorage.setItem("remember",!0),cc.sys.localStorage.setItem("username",this.username.string),cc.sys.localStorage.setItem("password",this.password.string),cc.RedT.inGame.auth({authentication:{username:this.username.string,password:this.password.string,register:!0,captcha:this.captcha.string,isStore:n.isStore,store:n.store,version:n.version}}))},initCaptcha:function(e){var t=this,i=new Image;i.src=e,i.width=150,i.height=50,setTimeout(function(){var e=new cc.Texture2D;e.initWithElement(i),e.handleLoadedTexture();var n=new cc.SpriteFrame(e);t.capchaSprite.spriteFrame=n},10)},reCaptcha:function(){cc.RedT.send({captcha:"signUp"})}}),cc._RF.pop()},{BrowserUtil:"BrowserUtil",GameConfig:"GameConfig",Helper:"Helper"}],Slot25_bonus_item:[function(e,t){"use strict";cc._RF.push(t,"de9aeYIbBFDtLjR+lTN9LDH","Slot25_bonus_item"),cc.Class({extends:cc.Component,properties:{open:cc.Node,close:cc.Node,text:cc.Label}}),cc._RF.pop()},{}],SlotBingo_bonus_item:[function(e,t){"use strict";cc._RF.push(t,"0023dJWKJFJOZXuKmK/mqIT","SlotBingo_bonus_item"),cc.Class({extends:cc.Component,properties:{open:cc.Node,close:cc.Node,text:cc.Label}}),cc._RF.pop()},{}],SlotBingo_dialog:[function(e,t){"use strict";cc._RF.push(t,"88434zB0LpByrbi+FeJkV/o","SlotBingo_dialog");var i=e("SlotBingo_history"),n=e("SlotBingo_top"),a=e("SlotBingo_setting");cc.Class({extends:cc.Component,properties:{history:i,top:n,help:cc.Node,setting:a},init:function(){this.actionShow=cc.spawn(cc.scaleTo(.5,1).easing(cc.easeBackOut(2.5)),cc.fadeTo(.5,255)),this.objShow=null,this.objTmp=null},onClickBack:function(){cc.RedT.audio.playUnClick(),this.onBack()},onBack:function(){null!=this.objShow?null==this.objShow.previous||null==this.objShow.previous?(this.objShow.active=!1,this.node.active=!1,this.objShow=null):(this.objTmp=this.objShow,this.objShow=this.objShow.previous,this.objTmp.previous=null,this.objTmp.active=!1,this.objShow.active=!0,this.objTmp=null):this.node.active=!1},onClosePrevious:function(e){void 0!==e.previous&&null!==e.previous&&(this.onClosePrevious(e.previous),delete e.previous),e.active=!1},onCloseDialog:function(){null!=this.objShow?null==this.objShow.previous||null==this.objShow.previous?(this.objShow.active=this.node.active=!1,this.objShow=null):(this.onClosePrevious(this.objShow.previous),this.objShow.active=this.node.active=!1,delete this.objShow.previous,this.objShow=null):this.node.active=!1},resetSizeDialog:function(e){e.stopAllActions(),e.scale=.5,e.opacity=0},showHistory:function(){this.node.active=this.setting.node.active=!1,this.node.active=this.history.node.active=!0,this.objShow=this.history.node},showTop:function(){this.node.active=this.setting.node.active=!1,this.node.active=this.top.node.active=!0,this.objShow=this.top.node},showHelp:function(){this.node.active=this.help.active=!0,this.objShow=this.help},showSetting:function(){this.node.active=this.setting.node.active=!0,this.objShow=this.setting.node}}),cc._RF.pop()},{SlotBingo_history:"SlotBingo_history",SlotBingo_setting:"SlotBingo_setting",SlotBingo_top:"SlotBingo_top"}],SlotBingo_history_item:[function(e,t){"use strict";cc._RF.push(t,"95d5aIW7xZHfKL9yYH2NHME","SlotBingo_history_item"),cc.Class({extends:cc.Component,properties:{time:cc.Label,phien:cc.Label,cuoc:cc.Label,line:cc.Label,win:cc.Label}}),cc._RF.pop()},{}],SlotBingo_history:[function(e,t){"use strict";cc._RF.push(t,"89676Zx8oRO4KIzkpkCy5Hq","SlotBingo_history");var i=e("Helper");cc.Class({extends:cc.Component,properties:{page:cc.Prefab,content:cc.Node,red:!0,is2NewGame:!1},onLoad:function(){var e=this,t=cc.instantiate(this.page);t.y=-285,this.node.addChild(t),this.page=t.getComponent("Pagination"),Promise.all(this.content.children.map(function(e){return e.getComponent("SlotBingo_history_item")})).then(function(t){e.content=t}),this.page.init(this)},onEnable:function(){this.get_data()},get_data:function(e){void 0===e&&(e=1),cc.RedT.send({g:{slotBingo:{log:{red:this.red,page:e}}}})},changerCoint:function(){this.red=!this.red,this.get_data()},onResponseServer:function(e){this.page.onSet(e.page,e.kmess,e.total),Promise.all(this.content.map(function(t,n){var a=e.data[n];void 0!==a?(t.node.active=!0,t.time.string=i.getStringDateByTime(a.time),t.phien.string=a.id,t.cuoc.string=i.numberWithCommas(a.bet),t.win.string=a.line+i.getLang(cc.RedT.language,"line_history"),t.line.string=i.numberWithCommas(a.win)):t.node.active=!1}))}}),cc._RF.pop()},{Helper:"Helper"}],SlotBingo_iline:[function(e,t){"use strict";cc._RF.push(t,"846ba+ck/5Ez62leZJ7v614","SlotBingo_iline"),cc.Class({extends:cc.Component,properties:{line:cc.Node,ef:!1},onEnable:function(){this.node.on(cc.Node.EventType.MOUSE_ENTER,this.onShow,this),this.node.on(cc.Node.EventType.MOUSE_LEAVE,this.onHidden,this)},onDisable:function(){this.node.off(cc.Node.EventType.MOUSE_ENTER,this.onShow,this),this.node.off(cc.Node.EventType.MOUSE_LEAVE,this.onHidden,this)},onShow:function(){this.line.active=!0},onHidden:function(){!this.ef&&(this.line.active=!1)}}),cc._RF.pop()},{}],SlotBingo_item:[function(e,t){"use strict";cc._RF.push(t,"fcb34krtXlN66KnmT4HIAyT","SlotBingo_item"),cc.Class({extends:cc.Component,properties:{icon:sp.Skeleton,free:cc.Node,bonus:cc.Node,hu:cc.Node,wind:cc.Node},init:function(e){this.RedT=e},random:function(){var e=11*Math.random()>>0;return this.setIcon(e),e},setIcon:function(e,t){void 0===t&&(t=!1),11==e?(this.free.active=!0,this.icon.node.active=this.wind.active=this.bonus.active=this.hu.active=!1):10==e?(this.bonus.active=!0,this.icon.node.active=this.free.active=this.wind.active=this.hu.active=!1):(this.icon.node.active=!0,this.icon.skeletonData=this.RedT.icons[e],this.icon.setAnimation(0,"animation",!0),this.free.active=this.wind.active=this.bonus.active=this.hu.active=!1),t&&(this.data=e)}}),cc._RF.pop()},{}],SlotBingo_lines:[function(e,t){"use strict";cc._RF.push(t,"f0cc25QW1BBlrdxfkZq24z5","SlotBingo_lines");var i=e("Helper");cc.Class({extends:cc.Component,properties:{lines:cc.Node,mainLines:cc.Node},init:function(e){var t=this;this.linew={1:[0,0,0,0,0],2:[1,1,1,1,1],3:[2,2,2,2,2],4:[3,3,3,3,3],5:[4,4,4,4,4],6:[0,1,0,1,0],7:[1,2,1,2,1],8:[2,3,2,3,2],9:[3,4,3,4,3],10:[1,0,1,0,1],11:[2,1,2,1,2],12:[3,2,3,2,3],13:[4,3,4,3,4],14:[0,1,2,1,0],15:[1,2,3,2,1],16:[2,3,4,3,2],17:[2,1,0,1,2],18:[3,2,1,2,3],19:[4,3,2,3,4],20:[0,1,1,1,0],21:[1,2,2,2,1],22:[2,3,3,3,2],23:[3,4,4,4,3],24:[1,0,0,0,1],25:[2,1,1,1,2],26:[3,2,2,2,3],27:[4,3,3,3,4],28:[0,0,1,0,0],29:[1,1,2,1,1],30:[2,2,3,2,2],31:[3,3,4,3,3],32:[1,1,0,1,1],33:[2,2,1,2,2],34:[3,3,2,3,3],35:[4,4,3,4,4]},this.RedT=e,Promise.all(this.mainLines.children.map(function(e){return e.getComponent("SlotBingo_iline")})).then(function(e){t.mainLines=e}),this.selectAll(null,"1")},onOpen:function(){this.node.active=!0},onClose:function(){this.RedT.playClick(),this.node.active&&this.data.length<1?this.RedT.notice.show({title:i.getLang(cc.RedT.language,"warning"),text:i.getLang(cc.RedT.language,"oneline_least")}):this.node.active=!1},select:function(e){this.RedT.playClick();var t=e.target;t.color._val!=cc.Color.WHITE._val?t.color=cc.Color.WHITE:t.color=t.color.fromHEX("#8A8A8A"),this.check()},check:function(){var e=this;Promise.all(this.lines.children.map(function(e,t){return e.color._val==cc.Color.WHITE._val?t+1:void 0})).then(function(t){Promise.all(t.filter(function(e){return void 0!==e})).then(function(t){e.data=t,e.RedT.labelLine.string=t.length})})},selectChan:function(){var e=this;Promise.all(this.lines.children.map(function(e,t){var i=t+1;if(!(i%2))return e.color=cc.Color.WHITE,i;e.color=e.color.fromHEX("#8A8A8A")})).then(function(t){Promise.all(t.filter(function(e){return void 0!==e})).then(function(t){e.data=t,e.RedT.labelLine.string=t.length})})},selectLe:function(){var e=this;Promise.all(this.lines.children.map(function(e,t){var i=t+1;if(i%2)return e.color=cc.Color.WHITE,i;e.color=e.color.fromHEX("#8A8A8A")})).then(function(t){Promise.all(t.filter(function(e){return void 0!==e})).then(function(t){e.data=t,e.RedT.labelLine.string=t.length})})},selectAll:function(e,t){var i=this;Promise.all(this.lines.children.map(function(e,i){var n="1"==t;return e.color=n?cc.Color.WHITE:e.color.fromHEX("#8A8A8A"),n?i+1:void 0})).then(function(e){Promise.all(e.filter(function(e){return void 0!==e})).then(function(e){i.data=e,i.RedT.labelLine.string=e.length})})}}),cc._RF.pop()},{Helper:"Helper"}],SlotBingo_playBonus:[function(e,t){"use strict";cc._RF.push(t,"9c69cVyCZJIH59jXRxl6d7F","SlotBingo_playBonus");var i=e("Helper");cc.Class({extends:cc.Component,properties:{listBox:cc.Node,notice:cc.Node,numberWin:cc.Label,iconBonus:cc.Prefab,prize1:cc.Label,prize2:cc.Label,prize3:cc.Label,reelPrize:cc.Node,arrow:cc.Node,blockBtn:cc.Node},init:function(e){var t=this;this.RedT=e,Promise.all(this.listBox.children.map(function(e){return e.getComponent("SlotBingo_bonus_item")})).then(function(e){t.listBox=e})},onPlay:function(){this.reset(),this.node.active=!0},onClickBox:function(e){this.RedT.playClick(),this.onSend(e.target.name)},closeNotice:function(){this.notice.active=this.node.active=!1},onResponseServer:function(e){if(void 0!==e.box){var t=this.listBox[e.box];t.open.active=!0,t.close.active=!1,t.text.string="UP",this.indexPrize++,this.currentPrize=this.prizeBox[this.indexPrize],this.upArrow(),this.blockBtn.active=!1}if(void 0!==e.win){this.icons[1].setIcon(e.pot>>0),this.RedT.H_win=e.win;var i=cc.moveTo(2,cc.v2(this.reelPrize.position.x,200-this.reelPrize.height)).easing(cc.easeInOut(3)),n=cc.callFunc(function(){this.replaceIconBingo(e.win),this.closeNotice()},this);this.reelPrize.runAction(cc.sequence(i,cc.delayTime(3),n))}if(void 0!==e.prize){n=cc.callFunc(function(){this.replaceIconBingo(e.prize),this.closeNotice()},this);var a=cc.callFunc(function(){var t=this.listBox[e.boxEnd];t.open.active=!0,t.close.active=!1,t.text.string="END"},this);this.node.runAction(cc.sequence(a,cc.delayTime(3),n))}},onSend:function(e){cc.RedT.send({g:{slotBingo:{bonus:{box:e,currentPrize:this.currentPrize}}}}),this.blockBtn.active=!0},initReel:function(){var e=this;this.icons=[],this.reelPrize.destroyAllChildren();var t=this;Promise.all([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].map(function(){var e=cc.instantiate(t.iconBonus);return t.reelPrize.addChild(e),(e=e.getComponent("BonusItem")).init(t.RedT),e.random(),e})).then(function(t){e.icons=t})},reset:function(){this.initReel(),this.arrow.position=cc.v2(0,-230),this.prize1.string=2*i.getOnlyNumberInString(this.RedT.bet.string),this.prize2.string=3*i.getOnlyNumberInString(this.RedT.bet.string),this.prize3.string=4*i.getOnlyNumberInString(this.RedT.bet.string),this.prizeBox=[this.prize1.string,this.prize2.string,this.prize3.string],this.currentPrize=this.prize1.string,this.indexPrize=0,this.blockBtn.active=!1,Promise.all(this.listBox.map(function(e){e.open._components[0].setAnimation(0,"animation",!0),e.open.active=!1,e.close.active=!0,e.text.string=""})),this.reelPrize.position=cc.v2(0,0)},upArrow:function(){this.indexPrize<3?this.arrow.runAction(cc.moveTo(.5,cc.v2(0,this.arrow.position.y+89))):this.arrow.runAction(cc.moveTo(.5,cc.v2(0,this.arrow.position.y+119)))},replaceIconBingo:function(e){var t=JSON.parse(localStorage.getItem(cc.RedT.user.UID+"BingoMatrix"));this.BingoMatrix=t[this.RedT.bet.string],this.RedT.winBingoReel.cross=[],this.RedT.reelBingo.children[2].children[2].destroyAllChildren();var n=cc.instantiate(this.RedT.iconBingo);n.parent=this.RedT.reelBingo.children[2].children[2];var a=n.getComponent("BingoItem");"string"==typeof e?(a.money.node.active=!1,"mini"==e?a.pot.spriteFrame=this.RedT.iconsPot[0]:"minor"==e?a.pot.spriteFrame=this.RedT.iconsPot[1]:"major"==e&&(a.pot.spriteFrame=this.RedT.iconsPot[2]),"grand"==e&&(a.pot.spriteFrame=this.RedT.iconsPot[3]),this.BingoMatrix[2][2]={pot:e}):(a.money.string=i.ToKMB(this.currentPrize),a.potNode.active=!1,this.BingoMatrix[2][2]={coins:e});var o=this.RedT.check_bingo(this.BingoMatrix);this.RedT.winBingoPos=o.winBingoPos,this.RedT.winBingoReel=o.bingo_reel,this.RedT.onSendBingo()}}),cc._RF.pop()},{Helper:"Helper"}],SlotBingo_reel:[function(e,t){"use strict";cc._RF.push(t,"46703d92yxJ94jTBiM3fuuV","SlotBingo_reel"),cc.Class({extends:cc.Component,init:function(e){var t=this;this.RedT=e,this.icons=[];var i=this,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];Promise.all(n.map(function(e,t){var a=cc.instantiate(i.RedT.icon);return i.node.addChild(a),(a=a.getComponent("SlotBingo_item")).init(i.RedT),t>2&&t<n.length-3&&a.random(),a})).then(function(e){t.icons=e,t.icons[t.icons.length-1].setIcon(t.icons[4].random()),t.icons[t.icons.length-2].setIcon(t.icons[3].random()),t.icons[t.icons.length-3].setIcon(t.icons[2].random()),t.icons[t.icons.length-4].setIcon(t.icons[1].random()),t.icons[t.icons.length-5].setIcon(t.icons[0].random())})},spin:function(e){this.node.stopAllActions();var t=cc.moveTo(1,cc.v2(this.node.x,-(this.node.height-660))).easing(cc.easeInOut(3)),i=cc.callFunc(function(){0===e&&this.RedT.copy(),this.node.y=0},this);if(4===e){var n=cc.callFunc(function(){this.RedT.EF_vuathang(),this.node.y=0,this.RedT.random(),this.RedT.hieuUng()},this);this.node.runAction(cc.sequence(cc.delayTime(.1*e),t,n))}else this.node.runAction(cc.sequence(cc.delayTime(.1*e),t,i))},stop:function(){this.node.stopAllActions(),this.RedT.copy(),this.node.y=0}}),cc._RF.pop()},{}],SlotBingo_setting:[function(e,t){"use strict";cc._RF.push(t,"c740eMDfSRA66GqXuLxWl8d","SlotBingo_setting"),e("CheckOut");var i=e("UIPopupManager");cc.Class({extends:cc.Component,properties:{NhacNen:{default:null,type:cc.Toggle},NhacGame:{default:null,type:cc.Toggle}},onLoad:function(){},onEnable:function(){this.node.runAction(i.Instance.actionShow)},onDisable:function(){},OnChangerNhacNen:function(){cc.RedT.setSoundBackground(this.NhacNen.isChecked),this.NhacNen.isChecked?cc.RedT.inGame.playMusic():cc.RedT.inGame.pauseMusic()},OnChangerNhacGame:function(){cc.RedT.setSoundGame(this.NhacGame.isChecked),this.NhacGame.isChecked?cc.RedT.IS_SOUND=!0:cc.RedT.IS_SOUND=!1}}),cc._RF.pop()},{CheckOut:"CheckOut",UIPopupManager:"UIPopupManager"}],SlotBingo_top:[function(e,t){"use strict";cc._RF.push(t,"c630b0qZgVLe76291zEptTX","SlotBingo_top");var i=e("Helper");cc.Class({extends:cc.Component,properties:{item:cc.Prefab,content:cc.Node,red:!0},onEnable:function(){this.get_data()},get_data:function(e){void 0===e&&(e=1),cc.RedT.send({g:{slotBingo:{top:this.red}}})},changerCoint:function(){this.red=!this.red,this.get_data()},onResponseServer:function(e){this.content.removeAllChildren();var t=this;Promise.all(e.map(function(e,n){var a=cc.instantiate(t.item),o=a.getComponent("SlotBingo_history_item");o.time.string=i.getStringDateByTime(e.time),o.phien.string=e.name,o.cuoc.string=i.numberWithCommas(e.bet),o.line.string=i.numberWithCommas(e.win),o.win.string=2==e.type?"Jackpot":"Big Win",a.children[0].active=!(1&n),t.content.addChild(a)}))}}),cc._RF.pop()},{Helper:"Helper"}],SlotBingo:[function(e,t){"use strict";function i(e,t){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(i=e[Symbol.iterator]()).next.bind(i)}function n(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}cc._RF.push(t,"d4343ucEwlPPaNvLP9L/Oj8","SlotBingo");var o=e("Helper"),s=e("SlotBingo_reel"),c=e("SlotBingo_lines"),r=e("SlotBingo_playBonus"),l=e("Notice"),h=e("SlotBingo_dialog"),d=(e("BingoItem"),e("UIPopupManager"));cc.Class({extends:cc.Component,properties:{gameBonus:r,audioBG:cc.AudioSource,audioClickSpin:{default:null,type:cc.AudioClip},audioClick:{default:null,type:cc.AudioClip},audioWin:{default:null,type:cc.AudioClip},audioBigWin:{default:null,type:cc.AudioClip},audioJackpot:{default:null,type:cc.AudioClip},redhat:cc.Node,reels:{default:[],type:s},reelBingo:cc.Node,iconBingo:cc.Prefab,iconBonusCenter:cc.Prefab,icon:cc.Prefab,icons:{default:[],type:sp.SkeletonData},iconsPot:{default:[],type:cc.SpriteFrame},betString:{default:[],type:cc.String},audioIcons:{default:[],type:cc.SpriteFrame},audioIcon:cc.Sprite,nodeNotice:cc.Node,prefabNotice:cc.Prefab,loading:cc.Node,notice:l,dialog:h,Line:c,hu:cc.Label,taikhoan:cc.Label,vuathang:cc.Label,labelLine:cc.Label,bet:cc.Label,freeLabel:cc.Label,freespin:cc.Node,phien:cc.Label,BigWin:cc.Animation,BigWin_Label:cc.Label,NoHu_close:cc.Node,NoHu:cc.Animation,NoHu_Label:cc.Label,EF_Bonus:cc.Animation,EF_Free:cc.Animation,boardMoney:cc.Node,particel:cc.Prefab,buttonLine:cc.Node,buttonSpin:cc.Node,buttonBack:cc.Node,buttonBetLeft:cc.Node,buttonBetRight:cc.Node,maxBetBtn:cc.Node,holdSpin:cc.Node,buttonStop:cc.Node,spinTimes:cc.Label,huMini:cc.Label,huMinor:cc.Label,huMajor:cc.Label,huGrand:cc.Label,efline:cc.Node,posRunCoin:cc.Node,winningBingoReel:cc.Node,winningPlayReel:cc.Node,bingoWinPos:cc.Prefab,fontCong:{default:null,type:cc.BitmapFont},isAuto:!1,isSpin:!1,isFreeSpin:!1,red:!0,betSelect:0},onLoad:function(){cc.RedT.inGame=this;var e=this;this.Line.init(this),this.BigWin.on("finished",this.BigWinFinish,this),this.BigWin.on("play",this.BigWinPlay,this),this.EF_Free.on("finished",this.EF_FreeFinish,this),this.NoHu.on("play",this.NoHuPlay,this),this.EF_Bonus.on("finished",this.EF_BonusFinish,this),this.gameBonus.init(this),this.dialog.init(),this.autoTimes=null,this.spinTimes.string="",Promise.all(this.reels.map(function(t){t.init(e)})),this.buttonStop.active=!1,this.holdSpin.active=!0,cc.RedT.send({scene:"slotBingo"}),this.taikhoan.string=o.numberWithCommas(cc.RedT.user.red),this.speed=400,this.showBingoSide(),this.checkBingoPos(),this.onGetHu()},onEnable:function(){this.buttonSpin.on(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.buttonSpin.on(cc.Node.EventType.TOUCH_END,this.eventEnd,this)},onDisable:function(){this.buttonSpin.off(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.buttonSpin.off(cc.Node.EventType.TOUCH_END,this.eventEnd,this)},_playSFX:function(e){cc.RedT.IS_SOUND&&cc.audioEngine.playEffect(e,!1)},playClick:function(){this._playSFX(this.audioClick)},BigWinPlay:function(){var e=cc.callFunc(function(){this._playSFX(this.audioBigWin),o.numberTo(this.BigWin_Label,0,this.H_win,2e3,!0)},this);this.BigWin.node.runAction(cc.sequence(cc.delayTime(.3),e))},BigWinFinish:function(){this.isBigWin=!1,this.BigWin.node.active=!1,this.BigWin_Label.string="",this.showLineWin(!1),this.hieuUng()},NoHuPlay:function(){this.NoHu_Label.string="";var e=cc.callFunc(function(){this._playSFX(this.audioJackpot),o.numberTo(this.NoHu_Label,0,this.H_win,2e3,!0)},this);this.NoHu.node.runAction(cc.sequence(cc.delayTime(.3),e));var t=cc.callFunc(function(){this.NoHuClose()},this);this.NoHu.node.runAction(cc.sequence(cc.delayTime(4),t))},NoHuFinish:function(){this.isNoHu=!1,this.isAuto&&this.onAuto(),this.showLineWin(!1),this.hieuUng()},NoHuClose:function(){this.NoHu.node.active=this.NoHu_close.active=!1,this.NoHuFinish()},EF_BonusFinish:function(){this.EF_Bonus.node.active=!1,this.gameBonus.onPlay(this.isBonus),this.isBonus=0,this.showLineWin(!1)},EF_FreeFinish:function(){this.isFree=!1,this.EF_Free.node.active=!1,this.showLineWin(!1),this.hieuUng()},onData:function(e){void 0!==e.user&&(this.m_user=e.user,this.userData(e.user),cc.RedT.userData(e.user)),void 0!==e.slotBingo&&this.slotBingo(e.slotBingo),void 0!==e.TopHu&&this.onGetHu(),void 0!==e.notice&&this.addNotice(e.notice)},userData:function(e){e.red&&(this.taikhoan.string=o.numberWithCommas(e.red))},slotBingo:function(e){var t=this;void 0!==e.status&&(1===e.status?(this.cel=e.cel,Promise.all(e.cel.map(function(e,i){Promise.all(e.map(function(e,n){t.reels[i].icons[n].setIcon(e,!0)}))})),e.bingo&&(this.spinCel=e.cel,this.bingoPrize=e.bingo),this.runReels(),this.freeWild=e.freeWildArr,this.H_line_win=e.line_win,this.H_win=e.win,this.H_free=e.free,this.isBonus=e.isBonus,this.isNoHu=e.isNoHu,this.isBigWin=e.isBigWin,this.isFree=e.isFree,this.isFreeSpin=!!e.free):this.resetSpin()),e.bingoReward&&this.bingoReward(e.bingoReward),e.phien&&(this.phien.string="#"+e.phien),e.bonus&&this.gameBonus.onResponseServer(e.bonus),e.log&&this.dialog.history.onResponseServer(e.log),e.top&&this.dialog.top.onResponseServer(e.top),e.notice&&this.addNotice(e.notice)},EF_vuathang:function(){this.showLineWin(!0),this.buttonSpin.active=!this.H_free,this.freeLabel.string=this.H_free,this.freeLabel.node.active=this.freespin.active=!!this.H_free,this.buttonStop.active=!!this.autoTimes},onLineWin:function(e){var t=[3,8,11,14,19,21,26,29,34],n=this;Promise.all(this.H_line_win.map(function(a,o){for(var s,c=i(n.Line.linew[a.line].entries());!(s=c()).done;){var r=s.value,l=r[0],h=r[1];if(n.cel[l][h]==n.H_line_win[o].win)n.efline.children[l].children[h].active=e;else{if(!t.includes(n.H_line_win[o].line))break;n.efline.children[2].children[2].active=e}}}))},showLineWin:function(e){this.onLineWin(e),e||this.isNoHu||this.isBigWin||this.isAuto||this.isFreeSpin||(this.eflineN=0,this.efLineWin())},efLineWin:function(){if(this.H_line_win.length){this.node.stopAllActions(),void 0===this.H_line_win[this.eflineN]&&(this.eflineN=0),this.efOneLineWin(this.eflineN,!0);var e=cc.callFunc(function(){this.efOneLineWin(this.eflineN,!1),this.eflineN+=1,this.efLineWin()},this);this.node.runAction(cc.sequence(cc.delayTime(1.5),e))}},efOneLineWin:function(e,t){var n=[3,8,11,14,19,21,26,29,34];e=this.H_line_win[this.eflineN].line,win=this.H_line_win[this.eflineN].win;for(var a,o=i(this.Line.linew[e].entries());!(a=o()).done;){var s=a.value,c=s[0],r=s[1];if(this.cel[c][r]==win)this.efline.children[c].children[r].active=t;else{if(!n.includes(e))break;this.efline.children[2].children[2].active=t}}},hieuUng:function(){if(this.spinCel)this.Bingo();else if(this.isBigWin&&!this.isNoHu)this.BigWin.node.active=!0,this.BigWin.play(),this.oldBigWin=!0;else if(this.isNoHu)this.NoHu.node.active=!0,this.NoHu.play();else if(this.isBonus)this.EF_Bonus.node.active=!0,this.EF_Bonus.play(),cc.RedT.audio.playEf("bonus");else if(this.isFree)this.EF_Free.node.active=!0,this.EF_Free.play();else if(this.H_win>0){this.vuathang.string=o.numberWithCommas(this.H_win);var e={red:this.m_user.red};e.red+=this.H_win,cc.RedT.userData(e),this.userData(e),this.m_user=null;var t=new cc.Node;t.addComponent(cc.Label),(t=t.getComponent(cc.Label)).string="+"+o.numberWithCommas(this.H_win),t.font=this.fontCong,t.lineHeight=130,t.fontSize=25,t.node.position=cc.v2(0,21),this.posRunCoin.addChild(t.node),!this.oldBigWin&&this._playSFX(this.audioWin),t.node.runAction(cc.sequence(cc.moveTo(1.2,cc.v2(0,105)),cc.callFunc(function(){this.speed=1e3,t.node.destroy(),this.hieuUng(),this.showLineWin(!1)},this))),this.H_win=0,this.oldBigWin=!1}else this.isAuto||this.isFreeSpin?(this.isAuto&&this.buttonBack.resumeSystemEvents(),this.timeOut=setTimeout(function(){this.onAutoSpin(),this.speed=1e3}.bind(this),this.speed)):this.resetSpin()},Bingo:function(){var e=this,t=0,i=JSON.parse(localStorage.getItem(cc.RedT.user.UID+"BingoMatrix"));this.BingoMatrix=i[this.bet.string],this.spinCel.forEach(function(i,n){i.forEach(function(i,a){if(10==i){var s=e.reels[n].icons[a].node.parent.convertToWorldSpaceAR(e.reels[n].icons[a].node.getPosition());if(e.BingoMatrix[n][a]){var c=cc.callFunc(function(){var i=e.reelBingo.children[n].children[a].children[0].getComponent("BingoItem");if(e.BingoMatrix[n][a].hasOwnProperty("pot")&&e.BingoMatrix[n][a].hasOwnProperty("coins"))"string"!=typeof e.bingoPrize[t]&&(e.BingoMatrix[n][a].coins+=e.bingoPrize[t],i.money.string=o.ToKMB(e.BingoMatrix[n][a].coins),i.money.node.active=!0);else if(!e.BingoMatrix[n][a].hasOwnProperty("pot")&&e.BingoMatrix[n][a].hasOwnProperty("coins"))if("string"!=typeof e.bingoPrize[t])e.BingoMatrix[n][a].coins+=e.bingoPrize[t],i.money.string=o.ToKMB(e.BingoMatrix[n][a].coins);else{var s=e.bingoPrize[t];e.BingoMatrix[n][a].pot=s,"mini"==e.bingoPrize[t]?i.pot.spriteFrame=e.iconsPot[0]:"minor"==e.bingoPrize[t]?i.pot.spriteFrame=e.iconsPot[1]:"major"==e.bingoPrize[t]&&(i.pot.spriteFrame=e.iconsPot[2]),"grand"==e.bingoPrize[t]&&(i.pot.spriteFrame=e.iconsPot[3]),i.potNode.active=!0,i.plus.active=!0}else e.BingoMatrix[n][a].hasOwnProperty("pot")&&!e.BingoMatrix[n][a].hasOwnProperty("coins")&&"string"!=typeof e.bingoPrize[t]&&(s=e.bingoPrize[t],e.BingoMatrix[n][a].coins=s,i.money.string=o.ToKMB(e.BingoMatrix[n][a].coins),i.money.node.active=!0,i.plus.active=!0);t++},e),r=cc.callFunc(function(){l.destroy()}),l=cc.instantiate(e.iconBingo);d=l.getComponent("BingoItem"),"string"==typeof e.bingoPrize[t]?(u={pot:e.bingoPrize[t]},d.money.node.active=!1,"mini"==e.bingoPrize[t]?d.pot.spriteFrame=e.iconsPot[0]:"minor"==e.bingoPrize[t]?d.pot.spriteFrame=e.iconsPot[1]:"major"==e.bingoPrize[t]&&(d.pot.spriteFrame=e.iconsPot[2]),"grand"==e.bingoPrize[t]&&(d.pot.spriteFrame=e.iconsPot[3])):(u={coins:e.bingoPrize[t]},d.money.string=o.ToKMB(e.bingoPrize[t]),d.potNode.active=!1),p=(h=e.reelBingo.children[n].children[a].children[0]).convertToNodeSpaceAR(s),e.reelBingo.children[n].children[a].addChild(l),l.x=p.x,l.runAction(cc.sequence(cc.jumpTo(1,cc.v2(0,0),100,1).easing(cc.easeInOut(2)),c,r))}else{var h;(h=cc.instantiate(e.iconBingo)).parent=e.reelBingo.children[n].children[a];var d=h.getComponent("BingoItem");if("string"==typeof e.bingoPrize[t]){var u={pot:e.bingoPrize[t]};d.money.node.active=!1,"mini"==e.bingoPrize[t]?d.pot.spriteFrame=e.iconsPot[0]:"minor"==e.bingoPrize[t]?d.pot.spriteFrame=e.iconsPot[1]:"major"==e.bingoPrize[t]&&(d.pot.spriteFrame=e.iconsPot[2]),"grand"==e.bingoPrize[t]&&(d.pot.spriteFrame=e.iconsPot[3])}else{u={coins:e.bingoPrize[t]};d.money.string=o.ToKMB(e.bingoPrize[t]),d.potNode.active=!1}e.BingoMatrix[n][a]=u;var p=h.convertToNodeSpaceAR(s);h.x=p.x,h.runAction(cc.jumpTo(1,cc.v2(0,0),100,1).easing(cc.easeInOut(2))),t++}}})}),this.timeOutSave=setTimeout(function(){var t=0;e.freeWild&&e.spinCel.forEach(function(i,n){i.forEach(function(i,a){10==i&&(e.reelBingo.children[n]&&e.reelBingo.children[n].children[a+1]&&e.freeWildIcon(n,a+1,3,e.freeWild[t][3]),e.reelBingo.children[n-1]&&e.reelBingo.children[n-1].children[a]&&e.freeWildIcon(n-1,a,0,e.freeWild[t][0]),e.BingoMatrix[n]&&e.reelBingo.children[n].children[a-1]&&e.freeWildIcon(n,a-1,1,e.freeWild[t][1]),e.reelBingo.children[n+1]&&e.reelBingo.children[n+1].children[a]&&e.freeWildIcon(n+1,a,2,e.freeWild[t][2]),t++)})}),e.saveBingo()},1100)},onChangerBetRight:function(){this._playSFX(this.audioClick),this.betSelect++,this.betSelect>6&&(this.betSelect=0),this.bet.string=o.numberWithCommas(o.getOnlyNumberInString(this.betString[this.betSelect])),this.clearBingoSide(),this.showBingoSide(),this.onGetHu()},onChangerBetLeft:function(){this._playSFX(this.audioClick),this.betSelect--,this.betSelect<0&&(this.betSelect=6),this.bet.string=o.numberWithCommas(o.getOnlyNumberInString(this.betString[this.betSelect])),this.clearBingoSide(),this.showBingoSide(),this.onGetHu()},OnChangerMaxBet:function(){this._playSFX(this.audioClick),this.betSelect=6,this.bet.string=this.betString[this.betSelect],this.bet.string=o.numberWithCommas(o.getOnlyNumberInString(this.bet.string)),this.onGetHu()},saveBingo:function(){var e=JSON.parse(localStorage.getItem(cc.RedT.user.UID+"BingoMatrix",this.BingoMatrix));e[this.bet.string]=this.BingoMatrix,localStorage.setItem(cc.RedT.user.UID+"BingoMatrix",JSON.stringify(e)),this.currentBingoPos(this.BingoMatrix),this.spinCel=null;var t=this.check_bingo(this.BingoMatrix);this.checkBingoPos(),t.winBingoPos.length>0?(this.winBingoPos=t.winBingoPos,this.winBingoReel=t.bingo_reel,this.winBingoReel.cross.length>0?(this.EF_Bonus.node.active=!0,this.EF_Bonus.play(),cc.RedT.audio.playEf("bonus")):this.onSendBingo()):this.hieuUng()},currentBingoPos:function(e){var t=this,i=0;this.currentBingo=[],e.map(function(e){e.map(function(e){e.pot&&t.currentBingo.push(i),i++})})},freeWildIcon:function(e,t,i,n){(a=cc.instantiate(this.iconBingo)).parent=this.reelBingo.children[e].children[t],0==i?a.x+=100:1==i?a.y+=-100:2==i?a.x+=-100:3==i&&(a.y+=100);var a=a.getComponent("BingoItem"),s={coins:n};this.BingoMatrix[e][t]?this.BingoMatrix[e][t].hasOwnProperty("pot")&&this.BingoMatrix[e][t].hasOwnProperty("coins")?(this.BingoMatrix[e][t].coins+=s.coins,a.money.string=o.ToKMB(this.BingoMatrix[e][t].coins),a.money.node.active=!0):!this.BingoMatrix[e][t].hasOwnProperty("pot")&&this.BingoMatrix[e][t].hasOwnProperty("coins")?(this.BingoMatrix[e][t].coins+=s.coins,a.money.string=o.ToKMB(this.BingoMatrix[e][t].coins)):this.BingoMatrix[e][t].hasOwnProperty("pot")&&!this.BingoMatrix[e][t].hasOwnProperty("coins")&&(this.BingoMatrix[e][t].coins=s.coins,a.money.string=o.ToKMB(this.BingoMatrix[e][t].coins),a.money.node.active=!0,a.plus.active=!0):(a.money.string=s.coins,a.potNode.active=!1,this.BingoMatrix[e][t]=s),0==i?a.node.runAction(cc.moveTo(1,cc.v2(a.node.x-100,0)).easing(cc.easeInOut(2))):1==i?a.node.runAction(cc.moveTo(1,cc.v2(0,a.node.y+100)).easing(cc.easeInOut(2))):2==i?a.node.runAction(cc.moveTo(1,cc.v2(a.node.x+100,0)).easing(cc.easeInOut(2))):3==i&&a.node.runAction(cc.moveTo(1,cc.v2(0,a.node.y-100)).easing(cc.easeInOut(2)))},check_bingo:function(e){var t={straight:[],cross:[]},i=[],n=[],a=[],o=null,s=[];cross1=[e[0][0],e[1][1],e[2][2],e[3][3],e[4][4]],cross1.map(function(e,t){e?i.push(e):o=[t,t]}),5==i.length&&(t.cross.push(i),n.push([[0,0],[1,1],[2,2],[3,3],[4,4]])),4==i.length&&s.push(o),o=null,i=[],cross2=[e[0][4],e[1][3],e[2][2],e[3][1],e[4][0]],cross2.map(function(e,t){e?i.push(e):o=[t,4-t]}),5==i.length&&(t.cross.push(i),n.push([[0,4],[1,3],[2,2],[3,1],[4,0]])),4==i.length&&s.push(o),o=null,i=[],cross3=[e[0][2],e[1][2],e[2][2],e[3][2],e[4][2]],cross3.map(function(e,t){e?i.push(e):o=[t,2]}),5==i.length&&(n.push([[0,2],[1,2],[2,2],[3,2],[4,2]]),t.cross.push(i)),4==i.length&&s.push(o),o=null,i=[],cross4=[e[2][0],e[2][1],e[2][2],e[2][3],e[2][4]],cross4.map(function(e,t){e?i.push(e):o=[2,t]}),5==i.length&&(t.cross.push(i),n.push([[2,0],[2,1],[2,2],[2,3],[2,4]])),4==i.length&&s.push(o),o=null,i=[];for(var c=0;c<5;c++){for(var r=0;r<5;r++)2!=c&&(e[r][c]?(i.push(e[r][c]),a.push([r,c])):o=[r,c]);5==i.length&&(t.straight.push(i),n.push(a)),4==i.length&&s.push(o),o=null,a=[],i=[]}for(c=0;c<5;c++){for(r=0;r<5;r++)2!=c&&(e[c][r]?(i.push(e[c][r]),a.push([c,r])):o=[c,r]);5==i.length&&(t.straight.push(i),n.push(a)),4==i.length&&s.push(o),o=null,a=[],i=[]}return{bingo_reel:t,winBingoPos:n,posWin:s}},showBingoSide:function(){var e=this,t=JSON.parse(localStorage.getItem(cc.RedT.user.UID+"BingoMatrix"));if(t)this.BingoMatrix=t[this.bet.string],Promise.all(this.BingoMatrix.map(function(t,i){Promise.all(t.map(function(t,n){if(t){var a=cc.instantiate(e.iconBingo);a.parent=e.reelBingo.children[i].children[n];var s=a.getComponent("BingoItem");Object.keys(t).length>1?(s.plus.active=!0,s.money.string=o.ToKMB(t.coins),"minir"==t.pot?s.pot.spriteFrame=e.iconsPot[0]:"minor"==t.pot?s.pot.spriteFrame=e.iconsPot[1]:"major"==t.pot&&(s.pot.spriteFrame=e.iconsPot[2]),"grand"==t.pot&&(s.pot.spriteFrame=e.iconsPot[3])):t.hasOwnProperty("coins")?(s.money.string=o.ToKMB(t.coins),s.potNode.active=!1):t.hasOwnProperty("pot")&&(s.money.node.active=!1,"mini"==t.pot?s.pot.spriteFrame=e.iconsPot[0]:"minor"==t.pot?s.pot.spriteFrame=e.iconsPot[1]:"major"==t.pot&&(s.pot.spriteFrame=e.iconsPot[2]),"grand"==t.pot&&(s.pot.spriteFrame=e.iconsPot[3]))}}))}));else{for(var i={},n=[],a=0;a<5;a++){n[a]=[];for(var s=0;s<5;s++)n[a][s]=2==a&&2==s?10:0}this.BingoMatrix=n,this.betString.forEach(function(t){i[t]=e.BingoMatrix}),localStorage.setItem(cc.RedT.user.UID+"BingoMatrix",JSON.stringify(i))}this.currentBingoPos(this.BingoMatrix)},checkBingoPos:function(){var e=this,t=this.check_bingo(this.BingoMatrix);t.posWin.length>0&&(e.winningBingoReel.children.forEach(function(t,i){t.children.forEach(function(t,n){t.removeAllChildren(),e.winningPlayReel.children[i].children[n].removeAllChildren()})}),t.posWin.forEach(function(t){var i=cc.instantiate(e.bingoWinPos),n=cc.instantiate(e.bingoWinPos);e.winningBingoReel.children[t[0]].children[t[1]].addChild(i),e.winningPlayReel.children[t[0]].children[t[1]].addChild(n)}))},bingoReward:function(e){e&&(this.prizeArr=e);var t=this,i=!1,n=!1;this.posBoard=this.boardMoney.parent.convertToWorldSpaceAR(this.boardMoney);var a=0;this.winBingoPos.forEach(function(e,s){setTimeout(function(){t.staticIconBingo(e),s==t.winBingoPos.length-1&&(i=!0),n=!1,e.forEach(function(c,r){t.reelBingo.children[c[0]].children[c[1]].children[0]._components[0].setAnimation(0,"animation",!0),setTimeout(function(){r==e.length-1&&(n=!0);var l=cc.instantiate(t.particel);l.position=t.reelBingo.children[c[0]].children[c[1]].children[0].position,t.reelBingo.children[c[0]].children[c[1]].addChild(l);var h=t.reelBingo.children[c[0]].children[c[1]].children[0].convertToNodeSpaceAR(t.posBoard);l.runAction(cc.sequence(cc.moveTo(1.5,h).easing(cc.easeInOut(1)),cc.callFunc(function(){l.destroy();var e=new cc.Node;e.addComponent(cc.Label),(e=e.getComponent(cc.Label)).string="+"+o.numberWithCommas(t.prizeArr[s][r]),e.font=t.fontCong,e.lineHeight=130,e.fontSize=20,e.node.position=cc.v2(0,50),t.posRunCoin.addChild(e.node),a+=t.prizeArr[s][r],t.vuathang.string=o.numberWithCommas(a),e.node.runAction(cc.sequence(cc.moveTo(1,cc.v2(0,105)),cc.callFunc(function(){e.node.destroy()},this))),n&&i&&(t.H_win=a,t.BigWin.node.active=!0,t.BigWin.play(),t.removeIconBingo())},this),cc.delayTime(1)))},2e3*r)})},2e3*s*e.length)})},staticIconBingo:function(){this.reelBingo.children.forEach(function(e){e.children.forEach(function(e){e.children[0]&&e.children[0]._components[0].clearTrack(0)})})},removeIconBingo:function(){for(var e=JSON.parse(localStorage.getItem(cc.RedT.user.UID+"BingoMatrix")),t=[],i=0;i<5;i++){t[i]=[];for(var n=0;n<5;n++)t[i][n]=2==i&&2==n?10:0}e[this.bet.string]=t,localStorage.setItem(cc.RedT.user.UID+"BingoMatrix",JSON.stringify(e)),this.showBingoSide(),this.clearBingoSide()},clearBingoSide:function(){var e=this;e.reelBingo.children.forEach(function(t,i){t.children.forEach(function(t,n){if(t.removeAllChildren(),e.winningBingoReel.children[i].children[n].removeAllChildren(),e.winningPlayReel.children[i].children[n].removeAllChildren(),2==i&&2==n){var a=cc.instantiate(e.iconBonusCenter);t.addChild(a)}})})},changerCoint:function(){this.red=!this.red,this.userData(cc.RedT.user),this.onGetHu()},onClickAuto:function(){this._playSFX(this.audioClick),this.onAuto()},onAuto:function(){this.isAuto=!0,this.isFreeSpin?this.buttonStop.active=!1:this.buttonStop.active=this.isSpin},onClickSpin:function(){this.onSpin(),this.holdSpin.active=!1},onAutoSpin:function(){this._playSFX(this.audioClickSpin),this.isFreeSpin?(this.buttonStop.active=!1,this.spinTimes.string="",this.holdSpin.active=!1,this._playSFX(this.audioClickSpin),this.onGetSpin()):null!=this.autoTimes&&(this.buttonStop.active=!0,this.autoTimes<0?(cc.RedT.IS_SOUND&&this._playSFX(this.audioClick),this.spinTimes.string="\u221e",this.onGetSpin()):this.autoTimes>0?(cc.RedT.IS_SOUND&&this._playSFX(this.audioClick),this.spinTimes.string=this.autoTimes,this.onGetSpin(),this.autoTimes--):(cc.RedT.IS_SOUND&&this._playSFX(this.audioClick),this.spinTimes.string="",this.onClickStop(),this.resetSpin()))},onSpin:function(){this.Line.data.length<1?this.addNotice(o.getLang(cc.RedT.language,"oneline_least")):this.isSpin||(this._playSFX(this.audioClickSpin),this.node.stopAllActions(),void 0!==this.eflineN&&void 0!==this.H_line_win&&this.H_line_win.length&&this.efOneLineWin(this.eflineN,!1),this.eflineO=this.eflineN=0,this.isSpin=!0,this.setSpin(),this.onGetSpin())},setSpin:function(){this.buttonLine.pauseSystemEvents(),this.buttonSpin.pauseSystemEvents(),this.buttonBack.pauseSystemEvents(),this.maxBetBtn.pauseSystemEvents(),this.buttonBetLeft.pauseSystemEvents(),this.buttonBetRight.pauseSystemEvents()},resetSpin:function(){this.isAuto&&this.onAuto(),this.isSpin=this.buttonStop.active=!1,this.spinTimes.string="",this.maxBetBtn.resumeSystemEvents(),this.buttonLine.resumeSystemEvents(),this.buttonSpin.resumeSystemEvents(),this.buttonBack.resumeSystemEvents(),this.buttonBetLeft.resumeSystemEvents(),this.buttonBetRight.resumeSystemEvents()},runReels:function(){Promise.all(this.reels.map(function(e,t){e.spin(t)}))},copy:function(){Promise.all(this.reels.map(function(e){e.icons[e.icons.length-1].setIcon(e.icons[4].data),e.icons[e.icons.length-2].setIcon(e.icons[3].data),e.icons[e.icons.length-3].setIcon(e.icons[2].data),e.icons[e.icons.length-4].setIcon(e.icons[1].data),e.icons[e.icons.length-5].setIcon(e.icons[0].data)}))},random:function(){Promise.all(this.reels.map(function(e){Promise.all(e.icons.map(function(t,i){i>4&&i<e.icons.length-5&&t.random()}))}))},onGetSpin:function(){cc.RedT.send({g:{slotBingo:{spin:{cuoc:o.getOnlyNumberInString(this.bet.string),red:this.red,currentBingo:this.currentBingo}}}})},onSendBingo:function(){var e=this.winBingoReel.cross.concat(this.winBingoReel.straight);cc.RedT.send({g:{slotBingo:{bingo:{prize:e,cuoc:o.getOnlyNumberInString(this.bet.string)}}}})},addNotice:function(e){"string"==typeof e?d.Instance.notice.show({title:o.getLang(cc.RedT.language,"taixiu_notice"),text:e}):void 0!==e.button?d.Instance.notice.show({title:e.title,text:e.text,button:{text:"notice",type:"watchVideo"}}):d.Instance.notice.show({title:e.title,text:e.text})},backGame:function(){this.loading.active=!0,void 0!==this.timeOut&&clearTimeout(this.timeOut),void 0!==this.timeOutSave&&clearTimeout(this.timeOutSave),localStorage.setItem("playing_game",""),localStorage.setItem("playing_money",0),cc.director.preloadScene("MainGame",function(){cc.director.loadScene("MainGame")})},signOut:function(){cc.director.preloadScene("MainGame",function(){cc.director.loadScene("MainGame"),cc.RedT.inGame.signOut()})},onGetHu:function(){if(void 0!==cc.RedT.setting.topHu&&void 0!==cc.RedT.setting.topHu.data){var e=this,t=o.getOnlyNumberInString(e.bet.string);Promise.all(cc.RedT.setting.topHu.data.slotBingo.filter(function(i){return i.type==t&&i.red==e.red})).then(function(t){var i=o.getOnlyNumberInString(e.huMini.string),n=t&&t[0]&&t[0].bet_mini?t[0].bet_mini:0;i-n!=0&&o.numberTo(e.huMini,i,n,2e3,!0);var a=o.getOnlyNumberInString(e.huMinor.string),s=t&&t[0]&&t[0].bet_minor?t[0].bet_minor:0;a-s!=0&&o.numberTo(e.huMinor,a,s,2e3,!0);var c=o.getOnlyNumberInString(e.huMajor.string),r=t&&t[0]&&t[0].bet_major?t[0].bet_major:0;c-r!=0&&o.numberTo(e.huMajor,c,r,2e3,!0);var l=o.getOnlyNumberInString(e.huGrand.string),h=t&&t[0]&&t[0].bet_grand?t[0].bet_grand:0;l-h!=0&&o.numberTo(e.huGrand,l,h,2e3,!0)})}},playMusic:function(){null!=this&&null!=this.audioBG&&this.audioBG.play()},pauseMusic:function(){null!=this&&null!=this.audioBG&&this.audioBG.pause()},onSetAudio:function(){this.audioIcon.spriteFrame==this.audioIcons[1]?(this.pauseMusic(),this.audioIcon.spriteFrame=this.audioIcons[0]):(this.playMusic(),this.audioIcon.spriteFrame=this.audioIcons[1])},closeHoldSpin:function(){this.holdSpin.active=!1},onHoldSpin:function(){this.buttonSpin.on(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.buttonSpin.on(cc.Node.EventType.MOUSE_DOWN,this.eventStart,this),this.buttonSpin.on(cc.Node.EventType.MOUSE_UP,this.eventEnd,this)},eventStart:function(){var e=this,t=0;void 0!==this.timeInterval&&clearInterval(this.timeInterval),this.isHold=!1,this.timeInterval=setInterval(function(){1==++t&&(e.holdSpin.active=!0,e.isHolding(),e.clearinterval())},1e3)},eventEnd:function(){this.isHold||(this.onClickSpin(),null!=this.timeInterval&&(clearInterval(this.timeInterval),this.timeInterval=null))},isHolding:function(){this.isHold=!0},clearinterval:function(){null!=this.timeInterval&&(clearInterval(this.timeInterval),this.timeInterval=null)},onSpinTimes:function(e,t){this.spinTimes.string=-1==t?"\u221e":t,this.autoTimes=t-1,this.holdSpin.active=!1,this.onClickSpin(),this.onAuto()},onClickStop:function(){this.autoTimes=null,this.spinTimes.string="",cc.RedT.audio.playClick(),this.isAuto=this.buttonStop.active=!1}}),cc._RF.pop()},{BingoItem:"BingoItem",Helper:"Helper",Notice:"Notice",SlotBingo_dialog:"SlotBingo_dialog",SlotBingo_lines:"SlotBingo_lines",SlotBingo_playBonus:"SlotBingo_playBonus",SlotBingo_reel:"SlotBingo_reel",UIPopupManager:"UIPopupManager"}],SpriteLanguage:[function(e,t){"use strict";cc._RF.push(t,"f48cfFZs0tMl5xUtHwOiv6I","SpriteLanguage");var i=e("EventDispatcher");cc.Class({extends:cc.Component,properties:{sprite:cc.Sprite,spriteFrame_VN:cc.SpriteFrame,spriteFrame_EN:cc.SpriteFrame,spriteFrame_DE:cc.SpriteFrame},onEnable:function(){this.changeLanguage(),i.addEventListener("changeLanguage",this)},onDisable:function(){i.removeEventListener("changeLanguage",this)},changeLanguage:function(){null!=cc.RedT.language&&null!=cc.RedT.Frontendlanguages&&("vn"==cc.RedT.language&&this.spriteFrame_VN&&(this.sprite.spriteFrame=this.spriteFrame_VN),"en"==cc.RedT.language&&this.spriteFrame_EN&&(this.sprite.spriteFrame=this.spriteFrame_EN),"de"==cc.RedT.language&&this.spriteFrame_DE&&(this.sprite.spriteFrame=this.spriteFrame_DE))}}),cc._RF.pop()},{EventDispatcher:"EventDispatcher"}],SystemPlugin:[function(e,t){"use strict";cc._RF.push(t,"7f8e4CHy4BMlbQiTCHvL4Xf","SystemPlugin"),window.AppleNative={onLoginFinished:null},cc._RF.pop()},{}],TLMN_Deck:[function(e,t){"use strict";function i(e,t,i){return!(t<0||i<0||e.length<=t||i>=e.length||"2"==e[i][0].card||"2"==e[t][0].card||1!=Math.abs(e[t][0].value-e[i][0].value))}function n(e,t){return t?[e[e.length-2],e[e.length-1]]:[e[0],e[1]]}function a(e,t,i){return!(t<0||i<0||e.length<=t||i>=e.length||e[t].length<2||e[i].length<2||"2"==e[t][0].card||"2"==e[i][0].card||1!=Math.abs(e[t][0].value-e[i][0].value))}function o(e,t){return t?e.value:e.valueS}cc._RF.push(t,"62facYU/UNAnKBaRdlvvhTR","TLMN_Deck"),t.exports.OrdinalValue_51={OrdinalValue:51,card:"2",suite:"S",value:15,valueS:15.3},t.exports.OrdinalValue_50={OrdinalValue:50,card:"2",suite:"H",value:15,valueS:15.2},t.exports.OrdinalValue_49={OrdinalValue:49,card:"2",suite:"D",value:15,valueS:15.1},t.exports.OrdinalValue_48={OrdinalValue:48,card:"2",suite:"C",value:15,valueS:15},t.exports.OrdinalValue_47={OrdinalValue:47,card:"A",suite:"S",value:14,valueS:14.3},t.exports.OrdinalValue_46={OrdinalValue:46,card:"A",suite:"H",value:14,valueS:14.2},t.exports.OrdinalValue_45={OrdinalValue:45,card:"A",suite:"D",value:14,valueS:14.1},t.exports.OrdinalValue_44={OrdinalValue:44,card:"A",suite:"C",value:14,valueS:14},t.exports.OrdinalValue_43={OrdinalValue:43,card:"K",suite:"S",value:13,valueS:13.3},t.exports.OrdinalValue_42={OrdinalValue:42,card:"K",suite:"H",value:13,valueS:13.2},t.exports.OrdinalValue_41={OrdinalValue:41,card:"K",suite:"D",value:13,valueS:13.1},t.exports.OrdinalValue_40={OrdinalValue:40,card:"K",suite:"C",value:13,valueS:13},t.exports.OrdinalValue_39={OrdinalValue:39,card:"Q",suite:"S",value:12,valueS:12.3},t.exports.OrdinalValue_38={OrdinalValue:38,card:"Q",suite:"H",value:12,valueS:12.2},t.exports.OrdinalValue_37={OrdinalValue:37,card:"Q",suite:"D",value:12,valueS:12.1},t.exports.OrdinalValue_36={OrdinalValue:36,card:"Q",suite:"C",value:12,valueS:12},t.exports.OrdinalValue_35={OrdinalValue:35,card:"J",suite:"S",value:11,valueS:11.3},t.exports.OrdinalValue_34={OrdinalValue:34,card:"J",suite:"H",value:11,valueS:11.2},t.exports.OrdinalValue_33={OrdinalValue:33,card:"J",suite:"D",value:11,valueS:11.1},t.exports.OrdinalValue_32={OrdinalValue:32,card:"J",suite:"C",value:11,valueS:11},t.exports.OrdinalValue_31={OrdinalValue:31,card:"T",suite:"S",value:10,valueS:10.3},t.exports.OrdinalValue_30={OrdinalValue:30,card:"T",suite:"H",value:10,valueS:10.2},t.exports.OrdinalValue_29={OrdinalValue:29,card:"T",suite:"D",value:10,valueS:10.1},t.exports.OrdinalValue_28={OrdinalValue:28,card:"T",suite:"C",value:10,valueS:10},t.exports.OrdinalValue_27={OrdinalValue:27,card:"9",suite:"S",value:9,valueS:9.3},t.exports.OrdinalValue_26={OrdinalValue:26,card:"9",suite:"H",value:9,valueS:9.2},t.exports.OrdinalValue_25={OrdinalValue:25,card:"9",suite:"D",value:9,valueS:9.1},t.exports.OrdinalValue_24={OrdinalValue:24,card:"9",suite:"C",value:9,valueS:9},t.exports.OrdinalValue_23={OrdinalValue:23,card:"8",suite:"S",value:8,valueS:8.3},t.exports.OrdinalValue_22={OrdinalValue:22,card:"8",suite:"H",value:8,valueS:8.2},t.exports.OrdinalValue_21={OrdinalValue:21,card:"8",suite:"D",value:8,valueS:8.1},t.exports.OrdinalValue_20={OrdinalValue:20,card:"8",suite:"C",value:8,valueS:8},t.exports.OrdinalValue_19={OrdinalValue:19,card:"7",suite:"S",value:7,valueS:7.3},t.exports.OrdinalValue_18={OrdinalValue:18,card:"7",suite:"H",value:7,valueS:7.2},t.exports.OrdinalValue_17={OrdinalValue:17,card:"7",suite:"D",value:7,valueS:7.1},t.exports.OrdinalValue_16={OrdinalValue:16,card:"7",suite:"C",value:7,valueS:7},t.exports.OrdinalValue_15={OrdinalValue:15,card:"6",suite:"S",value:6,valueS:6.3},t.exports.OrdinalValue_14={OrdinalValue:14,card:"6",suite:"H",value:6,valueS:6.2},t.exports.OrdinalValue_13={OrdinalValue:13,card:"6",suite:"C",value:6,valueS:6},t.exports.OrdinalValue_12={OrdinalValue:12,card:"6",suite:"D",value:6,valueS:6.1},t.exports.OrdinalValue_11={OrdinalValue:11,card:"5",suite:"S",value:5,valueS:5.3},t.exports.OrdinalValue_10={OrdinalValue:10,card:"5",suite:"H",value:5,valueS:5.2},t.exports.OrdinalValue_9={OrdinalValue:9,card:"5",suite:"D",value:5,valueS:5.1},t.exports.OrdinalValue_8={OrdinalValue:8,card:"5",suite:"C",value:5,valueS:5},t.exports.OrdinalValue_7={OrdinalValue:7,card:"4",suite:"S",value:4,valueS:4.3},t.exports.OrdinalValue_6={OrdinalValue:6,card:"4",suite:"H",value:4,valueS:4.2},t.exports.OrdinalValue_5={OrdinalValue:5,card:"4",suite:"D",value:4,valueS:4.1},t.exports.OrdinalValue_4={OrdinalValue:4,card:"4",suite:"C",value:4,valueS:4},t.exports.OrdinalValue_3={OrdinalValue:3,card:"3",suite:"S",value:3,valueS:3.3},t.exports.OrdinalValue_2={OrdinalValue:2,card:"3",suite:"H",value:3,valueS:3.2},t.exports.OrdinalValue_1={OrdinalValue:1,card:"3",suite:"D",value:3,valueS:3.1},t.exports.OrdinalValue_0={OrdinalValue:0,card:"3",suite:"C",value:3,valueS:3},t.exports.HIT_TYPE_LE=1,t.exports.HIT_TYPE_DOI=2,t.exports.HIT_TYPE_XAM_CO=3,t.exports.HIT_TYPE_TU_QUY=4,t.exports.HIT_TYPE_SANH=5,t.exports.HIT_TYPE_BA_DOI_THONG=6,t.exports.HIT_TYPE_BON_DOI_THONG=7,t.exports.getCardWithOrdiValue=function(e){var t=[];for(var i in e)t.push(this["OrdinalValue_"+e[i]]);return t},t.exports.checkHitType=function(e){if(1==e.length)return this.HIT_TYPE_LE;if(2==e.length&&e[0].value==e[1].value)return this.HIT_TYPE_DOI;if(3==e.length&&e[0].value==e[1].value&&e[0].value==e[2].value)return this.HIT_TYPE_XAM_CO;if(4==e.length&&e[0].value==e[1].value&&e[0].value==e[2].value&&e[0].value==e[3].value)return this.HIT_TYPE_TU_QUY;if(2==e.length)return-1;var t=!0;15==(n=e[0].value)&&(t=!1);for(var i=1;i<e.length;i++){if(e[i].value-n!=1||15==e[i].value){t=!1;break}n=e[i].value}if(1==t)return this.HIT_TYPE_SANH;if(e.length%2!=0||e.length<6)return-1;var n,a=!0;if((n=e[0].value)!=e[1].value)return-1;for(var o=2;o<e.length-1;o+=2){if(e[o].value-n!=1||e[o].value!=e[o+1].value){a=!1;break}n=e[o].value}return a?6==e.length?this.HIT_TYPE_BA_DOI_THONG:this.HIT_TYPE_BON_DOI_THONG:-1},t.exports.selectBaDoiThong=function(e,t){for(var i=[],o=0;o<e.length;o++){var s=e[o];for(var c in s)if(t.OrdinalValue==s[c].OrdinalValue){if(s.length<2)return null;2==(i=a(e,o,o+1)?a(e,o+1,o+2)?(i=(i=i.concat(this.selectDoi(e,t))).concat(n(e[o+1],!1))).concat(n(e[o+2],!0)):(i=i.concat(n(e[o],!1))).concat(n(e[o+1],!0)):i.concat(this.selectDoi(e,t))).length?a(e,o,o-1)&&(i=i.concat(n(e[o-1],!1))):1==i.length&&a(e,o,o-1)&&a(e,o-1,o-2)&&(i=(i=i.concat(n(e[o-1],!1))).concat(n(e[o-2],!0)))}}return 6!=i.length?null:i},t.exports.selectBonDoiThong=function(e,t){for(var i=[],o=0;o<e.length;o++){var s=e[o];for(var c in s)if(t.OrdinalValue==s[c].OrdinalValue){if(s.length<2)return null;i=i.concat(this.selectDoi(s,t));for(var r=o+1;r<e.length&&i.length<4;r++)a(e,r-1,r)&&(i=i.concat(n(e[r],!1)));for(r=o-1;r>=0&&i.length<4;r--)a(e,r+1,r)&&(i=i.concat(n(e[r],!1)))}}return 8!=i.length?null:i},t.exports.selectTuQuy=function(e,t){for(var i=0;i<e.length;i++){var n=e[i];for(var a in n)if(t.OrdinalValue==n[a].OrdinalValue)return 4!=n.length?null:n}return null},t.exports.selectDoi=function(e,t){for(var i=0;i<e.length;i++){var n=e[i];for(var a in n)if(t.OrdinalValue==n[a].OrdinalValue)return n.length<2?null:t.OrdinalValue==n[0].OrdinalValue?[t,n[1]]:[t,n[0]]}return null},t.exports.selectXamCo=function(e,t){for(var i=0;i<e.length;i++){var n=e[i];for(var a in n)if(t.OrdinalValue==n[a].OrdinalValue)return n.length<3?null:t.OrdinalValue==n[n.length-1].OrdinalValue?[t,n[1],n[0]]:[n[0],n[1],n[2]]}return null},t.exports.selectSanh=function(e,t,n){for(var a=[],o=0;o<e.length;o++){var s=e[o];for(var c in s)if(t.OrdinalValue==s[c].OrdinalValue){a.push(t);for(var r=o;r<e.length&&a.length<n&&i(e,r,r+1);r++)i(e,r+1,r+2)&&a.length+1<n?a.push(e[r+1][0]):a.push(e[r+1][e[r+1].length-1]);for(r=o;r>=0&&a.length<n&&i(e,r,r-1);r--)i(e,r-1,r-2)&&a.length+1<n?a.push(e[r-1][0]):a.push(e[r-1][e[r-1].length-1])}}return a.length!=n?null:a},t.exports.getSuggestCard=function(e,t,i,n){if(void 0===n&&(n=!1),null==t||0==t.length)return null;var a=[];e.sort(function(e,t){return e.OrdinalValue-t.OrdinalValue});for(var s=0;s<e.length;){for(var c=[e[s]],r=!1,l=s+1;l<e.length;l++,s++){if(r=!0,e[l].card!=e[s].card){s++;break}c.push(e[l])}a.push(c),0==r&&s++}var h=t,d=this.checkHitType(h),u=n?null:this.selectBaDoiThong(a,i),p=this.selectBonDoiThong(a,i),g=this.selectTuQuy(a,i);if(d==this.HIT_TYPE_LE){if("2"==h[0].card){if(null!=u)return u;if(null!=g)return g;if(null!=p)return p}if(o(i,n)>o(t[0],n))return[i]}else if(d==this.HIT_TYPE_DOI){var m=this.selectDoi(a,i);if(0==n&&"2"==h[0].card){if(null!=g)return g;if(null!=p)return p}if(null!=m&&o(m[m.length-1],n)>o(t[t.length-1],n))return m}if(d==this.HIT_TYPE_XAM_CO){var f=this.selectXamCo(a,i);if(null!=f&&f[f.length-1].valueS>t[t.length-1].valueS)return f}if(d==this.HIT_TYPE_TU_QUY){if(null!=p)return p;if(null!=g&&g[g.length-1].valueS>t[t.length-1].valueS)return g}if(d==this.HIT_TYPE_SANH){var v=this.selectSanh(a,i,t.length);if(null!=v&&v.length==t.length&&o(v[v.length-1],n)>o(t[t.length-1],n))return v}if(0==n&&d==this.HIT_TYPE_BA_DOI_THONG){if(null!=g)return g;if(null!=p)return p;if(null!=u&&o(u[u.length-1],n)>o(t[t.length-1],n))return u}return d==this.HIT_TYPE_BON_DOI_THONG&&null!=p&&o(p[p.length-1],n)>o(t[t.length-1],n)?p:null},cc._RF.pop()},{}],TLMN_Dialog:[function(e,t){"use strict";cc._RF.push(t,"e85ceQs8TJIp7hmyv82BW3J","TLMN_Dialog");var i=e("TLMN_History");cc.Class({extends:cc.Component,properties:{tlmnHistory:i,pokerHelp:cc.Node,pokerConfirmPopup:cc.Node,pokerSetting:cc.Node},onData:function(e){null!=e.history&&this.tlmnHistory.onData(e.history)},showHelp:function(){this.node.active=!0,this.pokerHelp.active=!0},hideHelp:function(){this.node.active=!1,this.pokerHelp.active=!1},showHistory:function(){this.node.active=!0,this.tlmnHistory.node.active=!0},hideHistory:function(){this.node.active=!1,this.tlmnHistory.node.active=!1},showSetting:function(){this.node.active=!0,this.pokerSetting.active=!0},hideSetting:function(){this.node.active=!1,this.pokerSetting.active=!1}}),cc._RF.pop()},{TLMN_History:"TLMN_History"}],TLMN_HistoryItem:[function(e,t){"use strict";cc._RF.push(t,"43f6595eNpI5pOebCpI6daN","TLMN_HistoryItem"),cc.Class({extends:cc.Component,properties:{time:cc.Label,round:cc.Label,myCard:{default:[],type:cc.Sprite},win:cc.Label},detailClick:function(){null!=this.history&&this.history.historyDetail.show(this.history.gameplay,this.data)},init:function(e,t){this.history=e,this.data=t}}),cc._RF.pop()},{}],TLMN_History_Detail_Item:[function(e,t){"use strict";cc._RF.push(t,"f3814p7EZxHMr3V/Tmwg/0W","TLMN_History_Detail_Item"),cc.Class({extends:cc.Component,properties:{playerName:cc.Label,red:cc.Label,cards:cc.Node,objWin:cc.Node,objLose:cc.Node,isMeBackground:cc.Node,isBinh:!1},initcard:function(e,t){if(null==this._cards){this._cards=[];for(var i=0;i<this.cards.childrenCount;i++)this._cards.push(this.cards.children[i].getComponent(cc.Sprite))}var n=this._cards;if(this.isBinh)for(var i in n)i>=t.length?n[i].node.active=!1:(n[i].node.active=!0,n[i].spriteFrame=e[t[t.length-1-i].OrdinalValue]);else for(var i in n)i>=t.length?n[i].node.active=!1:(n[i].node.active=!0,n[i].spriteFrame=e[t[i].OrdinalValue])}}),cc._RF.pop()},{}],TLMN_History:[function(e,t){"use strict";cc._RF.push(t,"979d8t+wepGtpA3SZcvPC24","TLMN_History");var i=e("Helper"),n=e("UIScreenGamePlayTienLenSolo");cc.Class({extends:cc.Component,properties:{historyDetail:cc.Node,gameplay:n,page:cc.Prefab,content:cc.Node,cointRed:cc.Node,cointXu:cc.Node,red:!0},onLoad:function(){var e=this;this.historyDetail=this.historyDetail.getComponent("TLMN_historyDetail"),this.page=cc.instantiate(this.page),this.page.y=-307,this.node.addChild(this.page),this.page=this.page.getComponent("Pagination"),Promise.all(this.content.children.map(function(e){return e.getComponent("TLMN_HistoryItem")})).then(function(t){e.content=t}),this.page.init(this)},onEnable:function(){this.get_data()},get_data:function(e){void 0===e&&(e=1),cc.RedT.send({g:{tlmn:{history:{page:e}}}})},changerCoint:function(){this.red=!this.red,this.cointRed.active=!this.cointRed.active,this.cointXu.active=!this.cointXu.active,this.get_data()},getMyIndex:function(e){for(var t=0;t<e.length;t++)if(e[t].UID==cc.RedT.user.UID)return t;return-1},onData:function(e){var t=this;this.page.onSet(e.page,e.kmess,e.total);var n=this.gameplay.prefabCard.getComponent("UIItemCardTienLenSolo").spriteFrameCardArr;Promise.all(this.content.map(function(a,o){var s=e.data[o];if(null!=s){var c=t.getMyIndex(s.players);s.players[c].playerName,a.init(t,s),a.node.active=!0,a.time.string=i.getStringDateByTime(s.time),a.round.string=s.id+"/"+s.CurrentGameLoopId;var r=s.players[c];for(var o in r.card.sort(function(e,t){return e.OrdinalValue-t.OrdinalValue}),r.card)a.myCard[o].spriteFrame=n[r.card[o].OrdinalValue];for(var l=0,h=0;h<s.result.length;h++){var d=s.result[h];d.AccountId==cc.RedT.user.UID&&(l+=d.Money)}a.win.string=i.numberWithCommas(l)}else a.node.active=!1}))}}),cc._RF.pop()},{Helper:"Helper",UIScreenGamePlayTienLenSolo:"UIScreenGamePlayTienLenSolo"}],TLMN_historyDetail:[function(e,t){"use strict";cc._RF.push(t,"7db54UTmYtMypcvuT2t+3nt","TLMN_historyDetail");var i=e("TLMN_History_Detail_Item"),n=e("Helper");cc.Class({extends:cc.Component,properties:{players:{default:[],type:i},isBinh:!1},show:function(e,t){this.node.active=!0;for(var i=t.players,a=e.prefabCard.getComponent("UIItemCardTienLenSolo").spriteFrameCardArr,o=0;o<this.players.length;o++)if(o>=i.length)this.players[o].node.active=!1;else{this.players[o].node.active=!0;var s=null;for(var c in t.result){var r=t.result[c];if(r.AccountId==i[o].UID){s=r;break}}if(null!=s){this.players[o].playerName.string=i[o].playerName,this.players[o].red.string=(s.Money>0?"+":"")+n.numberWithCommas(s.Money),this.players[o].red.node.color=s.Money>0?cc.Color.GREEN:cc.Color.RED,this.players[o].isMeBackground.active=cc.RedT.user.UID==i[o].UID,this.players[o].objWin.active=s.Money>0,this.players[o].objLose.active=s.Money<0;var l=s.card?s.card:[];0==this.isBinh&&l.sort(function(e,t){return e.OrdinalValue-t.OrdinalValue}),this.players[o].initcard(a,l)}else this.players[o].node.active=!1}},hide:function(){this.node.active=!1}}),cc._RF.pop()},{Helper:"Helper",TLMN_History_Detail_Item:"TLMN_History_Detail_Item"}],TaiXiuBoard_item:[function(e,t){"use strict";cc._RF.push(t,"e6c11CHYW1PjZKvnSwp1SEF","TaiXiuBoard_item"),cc.Class({extends:cc.Component,properties:{colorOn:"",colorOff:"",bgOn:{default:null,type:cc.SpriteFrame},bgOff:{default:null,type:cc.SpriteFrame},text:{default:null,type:cc.Node}},onLoad:function(){this.sprite=this.node.getComponent(cc.Sprite)},onEnable:function(){this.node.on(cc.Node.EventType.MOUSE_ENTER,this.eventOnENTER,this),this.node.on(cc.Node.EventType.MOUSE_LEAVE,this.eventOnLEAVE,this)},onDisable:function(){this.node.off(cc.Node.EventType.MOUSE_ENTER,this.eventOnENTER,this),this.node.off(cc.Node.EventType.MOUSE_LEAVE,this.eventOnLEAVE,this)},eventOnENTER:function(){this.text.color=this.text.color.fromHEX(this.colorOn),this.sprite.spriteFrame=this.bgOn},eventOnLEAVE:function(){this.text.color=this.text.color.fromHEX(this.colorOff),this.sprite.spriteFrame=this.bgOff}}),cc._RF.pop()},{}],TaiXiuBoard:[function(e,t){"use strict";cc._RF.push(t,"71423kGPWNLUrUcOrvZ688E","TaiXiuBoard");var i=e("Helper");cc.Class({extends:cc.Component,properties:{textType:{default:null,type:cc.Label},nodeChonTien:{default:null,type:cc.Node},nodeChonSo:{default:null,type:cc.Node}},init:function(e){this.RedT=e},ChonTienClick:function(e,t){this.RedT.input.string=i.numberWithCommas(1*i.getOnlyNumberInString(this.RedT.input.string)+1*t)},ChonSoClick:function(e,t){this.RedT.input.string=i.numberWithCommas(i.getOnlyNumberInString(this.RedT.input.string+t))},onBackClick:function(){var e=i.getOnlyNumberInString(this.RedT.input.string);this.RedT.input.string=i.numberWithCommas(e.slice(0,e.length-1))},onCleanClick:function(){this.RedT.input.string=""},onAllClick:function(){this.RedT.input.string=i.numberWithCommas(this.RedT.red?cc.RedT.user.red:cc.RedT.user.xu)},onChangerTypeClick:function(){this.nodeChonTien.active?(this.nodeChonTien.active=!1,this.nodeChonSo.active=!0,this.textType.string=i.getLang(cc.RedT.language,"select")):(this.nodeChonSo.active=!1,this.nodeChonTien.active=!0,this.textType.string=i.getLang(cc.RedT.language,"other"))},onCuocClick:function(){},onCloseClick:function(){this.node.active=!1,this.RedT.input.string=i.getLang(cc.RedT.language,"bet_amount")}}),cc._RF.pop()},{Helper:"Helper"}],TaiXiuChat:[function(e,t){"use strict";cc._RF.push(t,"e4b59QQx49GyaeME6czSwsj","TaiXiuChat");var i=e("Helper"),n=e("BrowserUtil");cc.Class({extends:cc.Component,properties:{content:{default:null,type:cc.ScrollView},item:{default:null,type:cc.Prefab},input:{default:null,type:cc.EditBox},layout:{default:null,type:cc.Layout},isLoad:!1},init:function(e){this.RedT=e,void 0!==cc.RedT.setting.taixiu.chat_active&&(this.node.active=cc.RedT.setting.taixiu.chat_active)},onLoad:function(){var e=this;this.keyHandle=function(t){return t.keyCode===cc.macro.KEY.tab?(t.preventDefault&&t.preventDefault(),!1):t.keyCode===cc.macro.KEY.enter?(n.focusGame(),e.onChatClick(),t.preventDefault&&t.preventDefault(),!1):void 0}},onEnable:function(){cc.sys.isBrowser&&this.addEvent(),this.isLoad||this.getData()},onDisable:function(){cc.sys.isBrowser&&this.removeEvent(),this.clean()},addEvent:function(){n.getHTMLElementByEditBox(this.input).addEventListener("keydown",this.keyHandle,!1)},removeEvent:function(){n.getHTMLElementByEditBox(this.input).removeEventListener("keydown",this.keyHandle,!1)},getData:function(){this.isLoad=!0,cc.RedT.send({taixiu:{getLogChat:!0}})},message:function(e,t){void 0===t&&(t=!1);var i=cc.instantiate(this.item),n=i.getComponent(cc.Label);e.value=e.value.replace("\r",""),n.string=e.user+": "+e.value,i.children[0].getComponent(cc.Label).string=e.user,this.content.content.addChild(i),t&&this.layout.node.height>300&&this.layout.node.height-this.layout.node.position.y-134<70&&setTimeout(function(){this.content&&this.content.scrollToBottom(.1)}.bind(this),100)},logs:function(e){var t=this;if(e.length){var i=this;Promise.all(e.map(function(e){return i.message(e)})).then(function(){setTimeout(function(){this.content&&this.content.scrollToBottom(.1)}.bind(t),100)})}},onData:function(e){void 0!==e.message&&this.message(e.message,!0),void 0!==e.logs&&this.logs(e.logs)},onChatClick:function(){i.isEmpty(this.input.string)?this.RedT.onData({err:i.getLang(cc.RedT.language,"chat_err")}):(cc.RedT.send({taixiu:{chat:this.input.string}}),this.onData({message:{user:cc.RedT.user.name,value:this.input.string}}),this.clean())},toggle:function(){this.RedT.setTop(),cc.RedT.audio.playClick(),this.node.active=cc.RedT.setting.taixiu.chat_active=!this.node.active},clean:function(){this.input.string=""},reset:function(){this.content.content.destroyAllChildren(),this.node.active=!1}}),cc._RF.pop()},{BrowserUtil:"BrowserUtil",Helper:"Helper"}],TaiXiuLichSuPhien_item:[function(e,t){"use strict";cc._RF.push(t,"47ebeX3OGJIioJo+XYY5AW7","TaiXiuLichSuPhien_item"),cc.Class({extends:cc.Component,properties:{time:{default:null,type:cc.Label},user:{default:null,type:cc.Label},cuoc:{default:null,type:cc.Label},tralai:{default:null,type:cc.Label}}}),cc._RF.pop()},{}],TaiXiuLichSuPhien:[function(e,t){"use strict";cc._RF.push(t,"66490CKFvdK6JST1Zi6Whaj","TaiXiuLichSuPhien");var i=e("Helper"),n=e("UIPopupManager");cc.Class({extends:cc.Component,properties:{background:cc.Node,itemPrefab:{default:null,type:cc.Prefab},dice:{default:[],type:cc.Sprite},leftCuoc:{default:null,type:cc.Label},leftTraLai:{default:null,type:cc.Label},rightCuoc:{default:null,type:cc.Label},rightTraLai:{default:null,type:cc.Label},phien:{default:null,type:cc.Label},nodeTai:{default:null,type:cc.Node},nodeXiu:{default:null,type:cc.Node},nodeChan:{default:null,type:cc.Node},nodeLe:{default:null,type:cc.Node},scrollViewLeft:{default:null,type:cc.ScrollView},scrollViewRight:{default:null,type:cc.ScrollView},nodeNext:{default:null,type:cc.Node},nodePrevious:{default:null,type:cc.Node},labelGame:{default:null,type:cc.Label},nodeRED:{default:null,type:cc.Node},nodeXU:{default:null,type:cc.Node}},show:function(e,t){this.RedT=e,this.setTop(),this.onGetPhienClick(t)},hide:function(){n.Instance.hideGameTaiXiu_LichSuPhien()},onEnable:function(){this.background.on(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.background.on(cc.Node.EventType.TOUCH_MOVE,this.eventMove,this),this.background.on(cc.Node.EventType.TOUCH_END,this.eventEnd,this),this.background.on(cc.Node.EventType.TOUCH_CANCEL,this.eventEnd,this)},onDisable:function(){this.background.off(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.background.off(cc.Node.EventType.TOUCH_MOVE,this.eventMove,this),this.background.off(cc.Node.EventType.TOUCH_END,this.eventEnd,this),this.background.off(cc.Node.EventType.TOUCH_CANCEL,this.eventEnd,this)},eventStart:function(e){this.setTop(),this.ttOffset=cc.v2(e.touch.getLocationX()-this.node.position.x,e.touch.getLocationY()-this.node.position.y)},eventMove:function(e){this.node.position=cc.v2(e.touch.getLocationX()-this.ttOffset.x,e.touch.getLocationY()-this.ttOffset.y)},eventEnd:function(){},setTop:function(){this.node.parent.insertChild(this.node)},onChangerGame:function(){this.labelGame.string=this.RedT.TX_Main.taixiu?i.getLang(cc.RedT.language,"even_odd"):"Tai Xiu",this.nodeTai.active=this.RedT.TX_Main.taixiu,this.nodeXiu.active=this.RedT.TX_Main.taixiu,this.nodeChan.active=!this.RedT.TX_Main.taixiu,this.nodeLe.active=!this.RedT.TX_Main.taixiu},onChangerCoint:function(){this.nodeRED.active=!this.nodeRED.active,this.nodeXU.active=!this.nodeXU.active},onChangerGameClick:function(){this.RedT.TX_Main.onChangerGame(),this.getPhien(this.isPhien)},onChangerCointClick:function(){this.RedT.TX_Main.onChangerRED(),this.getPhien(this.isPhien)},onGetPhienClick:function(e){this.getPhien(e.target.phien)},getPhien:function(e){void 0===e&&(e=null),e&&(cc.RedT.inGame.loading.active=!0,cc.RedT.send({taixiu:{get_phien:{red:this.RedT.TX_Main.red,taixiu:this.RedT.TX_Main.taixiu,phien:e}}}))},onNextClick:function(){this.getPhien(this.isPhien+1)},onPreviousClick:function(){this.getPhien(this.isPhien-1)},onData:function(e){var t=this;this.setNew(),cc.RedT.inGame.loading.active=!1,this.leftCuoc.string=i.numberWithCommas(e.tong_L),this.rightCuoc.string=i.numberWithCommas(e.tong_R),this.leftTraLai.string=i.numberWithCommas(e.tong_tralai_L),this.rightTraLai.string=i.numberWithCommas(e.tong_tralai_R),this.phien.string=e.phien+"  -  "+i.getStringDateByTime(e.time),this.isPhien=e.phien;var n=e.dice[0]+e.dice[1]+e.dice[2],a=cc.RedT.setting.taixiu.logs[0].phien-e.phien;this.nodePrevious.active=!(a>17),this.nodeNext.active=!(a<1),Promise.all(this.dice.map(function(i,n){var a=e.dice[n];i.spriteFrame=t.RedT.TX_Main.diceSF[a-1]})),this.RedT.TX_Main.taixiu?(this.nodeTai.color=n>10?cc.Color.WHITE:this.nodeTai.color.fromHEX("#ACACAC"),this.nodeXiu.color=n>10?this.nodeTai.color.fromHEX("#ACACAC"):cc.Color.WHITE,this.nodeTai.opacity=n>10?255:100,this.nodeXiu.opacity=n>10?100:255):(this.nodeChan.color=n%2?this.nodeChan.color.fromHEX("#ACACAC"):cc.Color.WHITE,this.nodeLe.color=n%2?cc.Color.WHITE:this.nodeChan.color.fromHEX("#ACACAC"),this.nodeChan.opacity=n%2?100:255,this.nodeLe.opacity=n%2?255:100),Promise.all(e.dataL.map(function(e){var n=cc.instantiate(t.itemPrefab),a=n.getComponent("TaiXiuLichSuPhien_item");a.time.string=i.getStringHourByTime(e.time),a.user.string=e.name,a.cuoc.string=i.numberWithCommas(e.bet),a.tralai.string=i.numberWithCommas(e.tralai),t.scrollViewLeft.content.addChild(n)})),Promise.all(e.dataR.map(function(e){var n=cc.instantiate(t.itemPrefab),a=n.getComponent("TaiXiuLichSuPhien_item");a.time.string=i.getStringHourByTime(e.time),a.user.string=e.name,a.cuoc.string=i.numberWithCommas(e.bet),a.tralai.string=i.numberWithCommas(e.tralai),t.scrollViewRight.content.addChild(n)}))},setNew:function(){this.scrollViewLeft.content.destroyAllChildren(),this.scrollViewRight.content.destroyAllChildren()}}),cc._RF.pop()},{Helper:"Helper",UIPopupManager:"UIPopupManager"}],TaiXiuLichSu_item:[function(e,t){"use strict";cc._RF.push(t,"06a2bfDqLRFiorJC/4mw+4h","TaiXiuLichSu_item"),cc.Class({extends:cc.Component,properties:{time:{default:null,type:cc.Label},phien:{default:null,type:cc.Label},dat:{default:null,type:cc.Label},ketqua:{default:null,type:cc.Label},cuoc:{default:null,type:cc.Label},donvi:{default:null,type:cc.Label},tralai:{default:null,type:cc.Label}}}),cc._RF.pop()},{}],TaiXiuLichSu:[function(e,t){"use strict";cc._RF.push(t,"80da9UrNe9D45tJEXBxj5Wd","TaiXiuLichSu");var i=e("Helper"),n=e("Pagination"),a=e("UIPopupManager");cc.Class({extends:cc.Component,properties:{background:cc.Node,content:cc.Node,page:n},show:function(e){this.RedT=e,this.setTop()},hide:function(){a.Instance.hideGameTaiXiu_LichSu()},onLoad:function(){var e=this;this.page.init(this),Promise.all(this.content.children.map(function(e){return e.getComponent("TaiXiuLichSu_item")})).then(function(t){e.content=t})},onEnable:function(){this.get_data()},onDisable:function(){},eventStart:function(e){this.setTop(),this.ttOffset=cc.v2(e.touch.getLocationX()-this.node.position.x,e.touch.getLocationY()-this.node.position.y)},eventMove:function(e){this.node.position=cc.v2(e.touch.getLocationX()-this.ttOffset.x,e.touch.getLocationY()-this.ttOffset.y)},eventEnd:function(){},setTop:function(){this.node.parent.insertChild(this.node)},get_data:function(e){void 0===e&&(e=1),cc.RedT.send({taixiu:{get_log:{page:e}}})},onData:function(e){this.page.onSet(e.page,e.kmess,e.total),Promise.all(this.content.map(function(t,n){var a=e.data[n];if(void 0!==a){t.node.active=!0;var o=a.dice1+a.dice2+a.dice3;t.time.string=i.getStringDateByTime(a.time),t.phien.string=a.phien,t.dat.string=a.taixiu?a.select?"Tai":"Xiu":a.select?i.getLang(cc.RedT.language,"even"):helper.getLang(cc.RedT.language,"odd"),t.ketqua.string=a.dice1+"-"+a.dice2+"-"+a.dice3+"  "+o,t.cuoc.string=i.numberWithCommas(a.bet),t.tralai.string=i.numberWithCommas(a.tralai),t.donvi.string=a.betwin>0?i.numberWithCommas(a.bet+a.betwin):0,t.donvi.node.color=a.red?cc.Color.YELLOW:t.donvi.node.color.fromHEX("#E2E2E2"),t.time.node.color=a.win?cc.Color.YELLOW:t.time.node.color.fromHEX("#E2E2E2"),t.dat.node.color=a.win?cc.Color.YELLOW:t.dat.node.color.fromHEX("#E2E2E2")}else t.node.active=!1}))}}),cc._RF.pop()},{Helper:"Helper",Pagination:"Pagination",UIPopupManager:"UIPopupManager"}],TaiXiuMain_logTips:[function(e,t){"use strict";cc._RF.push(t,"43178FyrtFOhKXVCK9EK0Dk","TaiXiuMain_logTips"),cc.Class({extends:cc.Component,properties:{text:{default:null,type:cc.Label},tips:{default:null,type:cc.Node}},onLoad:function(){this.sprite=this.getComponent(cc.Sprite)},onEnable:function(){this.node.on(cc.Node.EventType.MOUSE_ENTER,this.eventOnENTER,this),this.node.on(cc.Node.EventType.MOUSE_LEAVE,this.eventOnLEAVE,this)},onDisable:function(){this.node.off(cc.Node.EventType.MOUSE_ENTER,this.eventOnENTER,this),this.node.off(cc.Node.EventType.MOUSE_LEAVE,this.eventOnLEAVE,this)},eventOnENTER:function(){this.tips.active=!0},eventOnLEAVE:function(){this.tips.active=!1}}),cc._RF.pop()},{}],TaiXiuMain:[function(e,t){"use strict";function i(e,t){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(i=e[Symbol.iterator]()).next.bind(i)}function n(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}cc._RF.push(t,"a1f5dGzy/ZDl7mqfiHNadfE","TaiXiuMain");var o=e("TaiXiuBoard"),s=e("TaiXiuChat"),c=e("BrowserUtil"),r=e("Helper"),l=e("TaiXiu_efScale"),h=e("UIPopupManager");cc.Class({extends:cc.Component,properties:{background:{default:null,type:cc.Node},inputL:cc.Node,inputR:cc.Node,inputLTxt:cc.Label,inputRTxt:cc.Label,inputLeft:{default:null,type:cc.EditBox},inputRight:{default:null,type:cc.EditBox},totalLeft:{default:null,type:cc.Label},totalRight:{default:null,type:cc.Label},myLeft:{default:null,type:cc.Label},myRight:{default:null,type:cc.Label},playerLeft:{default:null,type:cc.Label},playerRight:{default:null,type:cc.Label},nodeKetQua:{default:null,type:cc.Node},labelKetQua:{default:null,type:cc.Label},timeWait:{default:null,type:cc.Label},nodeTimeWait:{default:null,type:cc.Node},timeCuoc:{default:null,type:cc.Label},nodeChanLe:{default:null,type:cc.Node},nodeTaiXiu:{default:null,type:cc.Node},labelPhien:{default:null,type:cc.Label},diaNan:{default:null,type:cc.Node},dice:{default:[],type:cc.Sprite},diceSF:{default:[],type:cc.SpriteFrame},cointRED:{default:null,type:cc.Node},cointXU:{default:null,type:cc.Node},dotLogs:{default:null,type:cc.Node},gameCover:{default:null,type:cc.Label},diceAnimation:{default:null,type:cc.Animation},efTai:l,efXiu:l,efChan:l,efChan2:cc.Node,efLe:l,efLe2:cc.Node,frameNan:{default:[],type:cc.SpriteFrame},spriteNan:{default:null,type:cc.Sprite},dot_black:{default:null,type:cc.SpriteFrame},dot_white:{default:null,type:cc.SpriteFrame},dot_yellow:{default:null,type:cc.SpriteFrame},notice:{default:null,type:cc.Node},mini_warning:{default:null,type:cc.Prefab},fontCong:{default:null,type:cc.BitmapFont},fontTru:{default:null,type:cc.BitmapFont},WIN_HT:{default:null,type:cc.Label},WIN_DN:{default:null,type:cc.Label},LOST_HT:{default:null,type:cc.Label},LOST_DN:{default:null,type:cc.Label},TX_Chat:s,TX_Board:o,red:!0,taixiu:!0,countdown:cc.Node,explodeEf:cc.Node,input:cc.Label},init:function(e){var t=this;this.RedT=e,cc.RedT.setting.taixiu.data=cc.RedT.setting.taixiu.data||{taixiu:{},chanle:{},du_day:{}},this.isNan=!1,void 0===cc.RedT.util.fontCong&&(cc.RedT.util.fontCong=this.fontCong,cc.RedT.util.fontTru=this.fontTru),void 0===cc.RedT.setting.taixiu.red&&(cc.RedT.setting.taixiu.red=this.red),void 0===cc.RedT.setting.taixiu.taixiu&&(cc.RedT.setting.taixiu.taixiu=this.taixiu),void 0===cc.RedT.setting.taixiu.getLogs&&(cc.RedT.setting.taixiu.getLogs=!1),void 0===cc.RedT.setting.taixiu.isNan&&(cc.RedT.setting.taixiu.isNan=!1),Promise.all(this.dotLogs.children.map(function(e){var t=e.getComponent(cc.Sprite);return t.mod=e.getComponent("TaiXiuMain_logTips"),t})).then(function(e){t.dotLogs=e}),this.onDiceAnimationFinish=function(){this.setDice(!0),this.isNan||(this.dataLogs(),this.nodeKetQua.active=!0,this.diemSo>10?this.efTai.play():this.efXiu.play(),this.diemSo%2?(this.efLe2.active=!0,this.efLe.play()):(this.efChan2.active=!0,this.efChan.play())),this.diceAnimation.node.active=!1},cc.RedT.setting.taixiu.getLogs&&(void 0!==cc.RedT.setting.taixiu.position&&(this.node.position=cc.RedT.setting.taixiu.position),void 0!==cc.RedT.setting.taixiu.time_remain&&(cc.RedT.setting.taixiu.time_remain++,this.nextRealTime()),this.reLoadGame())},onLoad:function(){var e=this;this.ttOffset=null,this.editboxs=[this.inputLeft,this.inputRight],this.TX_Board.init(this),this.TX_Chat.init(this),this.arrTimeout=[],this.diaNan.getComponent("TaiXiu_DiaNan").init(this),this.keyHandle=function(t){return t.keyCode===cc.macro.KEY.tab?(e.changeNextFocusEditBox(),t.preventDefault&&t.preventDefault(),!1):t.keyCode===cc.macro.KEY.enter?(c.focusGame(),e.onCuocClick(),t.preventDefault&&t.preventDefault(),!1):void 0},this.diceAnimation.on("finished",this.onDiceAnimationFinish,this),e.input.string=r.getLang(cc.RedT.language,"bet_amount"),"MainGame"==cc.RedT.inGame.__classname__&&(localStorage.setItem("playing_game","taixiu"),localStorage.setItem("playing_money",5e4)),this.onCuocClick=function(){var t=r.getOnlyNumberInString(e.input.string);if(t=parseInt(t),e.input.string=r.getLang(cc.RedT.language,"bet_amount"),e.TX_Board.node.active=!1,isNaN(t)||t<1e3){var i=cc.instantiate(e.mini_warning);i.getComponent("mini_warning").text.string="Bet amount must be greater than 1.000 "+(e.red?"XO":"Xu"),e.notice.addChild(i)}else if("taixiu"!=localStorage.getItem("playing_game")){var n=localStorage.getItem("playing_game"),a=parseInt(localStorage.getItem("playing_money"));cc.RedT.send({taixiu:{cuoc:{red:e.red,taixiu:e.taixiu,select:"left"==e.inputOld,bet:t,playing_game:n,playing_money:a}}})}else cc.RedT.send({taixiu:{cuoc:{red:e.red,taixiu:e.taixiu,select:"left"==e.inputOld,bet:t}}})},this.RedT.board&&(this.inputL.active=this.inputR.active=!1,this.inputLeft.node.active=this.inputRight.node.active=!0)},onEnable:function(){this.background.on(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.background.on(cc.Node.EventType.TOUCH_MOVE,this.eventMove,this),this.background.on(cc.Node.EventType.TOUCH_END,this.eventEnd,this),this.background.on(cc.Node.EventType.TOUCH_CANCEL,this.eventEnd,this),this.RedT.board&&cc.sys.isBrowser&&this.addEvent(),this.RedT.board&&(c.inputAddEvent(this.inputLeft,"input",this.updateValue),c.inputAddEvent(this.inputRight,"input",this.updateValue))},onDisable:function(){this.background.off(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.background.off(cc.Node.EventType.TOUCH_MOVE,this.eventMove,this),this.background.off(cc.Node.EventType.TOUCH_END,this.eventEnd,this),this.background.off(cc.Node.EventType.TOUCH_CANCEL,this.eventEnd,this),this.RedT.board&&cc.sys.isBrowser&&this.removeEvent(),this.clean(),this.RedT.board&&(c.inputRemoveEvent(this.inputLeft,"input",this.updateValue),c.inputRemoveEvent(this.inputRight,"input",this.updateValue))},updateValue:function(){var e=r.numberWithCommas(r.getOnlyNumberInString(this.value));this.value="0"==e?"":e},addEvent:function(){for(var e in this.editboxs)c.getHTMLElementByEditBox(this.editboxs[e]).addEventListener("keydown",this.keyHandle,!1)},removeEvent:function(){for(var e in this.editboxs)c.getHTMLElementByEditBox(this.editboxs[e]).removeEventListener("keydown",this.keyHandle,!1)},changeNextFocusEditBox:function(){for(var e=!1,t=0,i=this.editboxs.length;t<i;t++)if(c.checkEditBoxFocus(this.editboxs[t])){c.focusEditBox(this.editboxs[t]),e=!0;break}!e&&0<this.editboxs.length&&c.focusEditBox(this.editboxs[1])},clean:function(){this.inputLeft.string=this.inputRight.string=""},initGame:function(e){e!=this.taixiu&&this.onChangerGame()},onChangerGame:function(){cc.RedT.setting.taixiu.taixiu=this.taixiu=!this.taixiu,this.gameCover.string=this.taixiu?r.getLang(cc.RedT.language,"even_odd"):"Tai Xiu",this.nodeTaiXiu.active=this.taixiu,this.nodeChanLe.active=!this.taixiu,cc.RedT.setting.taixiu.getLogs&&(this.dataLogs(),this.RedT.TX_ThongKe.onChangerGame(),this.taixiu&&this.onDataTaiXiu(cc.RedT.setting.taixiu.data.taixiu),!this.taixiu&&this.onDataChanLe(cc.RedT.setting.taixiu.data.chanle),this.onDuDay(cc.RedT.setting.taixiu.data.du_day))},onBtnTutorial:function(){h.Instance.showGameHuongDan("TaiXiu")},onBtnHistory:function(){h.Instance.showGameTaiXiu_LichSu(this.RedT)},onBtnHistoryPhien:function(e){h.Instance.showGameTaiXiu_LichSuPhien(this.RedT,e)},onChangerNan:function(){cc.RedT.setting.taixiu.isNan=this.isNan=!this.isNan,this.spriteNan.spriteFrame=this.isNan?this.frameNan[1]:this.frameNan[0]},reLoadGame:function(){null==this.arrTimeout&&(this.arrTimeout=[]),this.arrTimeout.push(setTimeout(function(){cc.RedT.setting.taixiu.red!=this.red&&this.onChangerRED(),cc.RedT.setting.taixiu.taixiu!=this.taixiu?this.onChangerGame():this.dataLogs(),cc.RedT.setting.taixiu.isNan!=this.isNan&&this.onChangerNan(),this.onDuDay(cc.RedT.setting.taixiu.data.du_day),cc.RedT.setting.taixiu.taixiu?this.onDataTaiXiu(cc.RedT.setting.taixiu.data.taixiu):this.onDataChanLe(cc.RedT.setting.taixiu.data.chanle)}.bind(this),50)),this.setPhien()},onChangerRED:function(){cc.RedT.setting.taixiu.red=this.red=!this.red,this.cointRED.active=!this.cointRED.active,this.cointXU.active=!this.cointXU.active,this.totalLeft.node.color=this.totalRight.node.color=this.red?this.totalRight.node.color.fromHEX("#FFEB0A"):this.totalRight.node.color.fromHEX("#FFFFFF"),this.taixiu&&this.onDataTaiXiu(cc.RedT.setting.taixiu.data.taixiu),!this.taixiu&&this.onDataChanLe(cc.RedT.setting.taixiu.data.chanle),this.onDuDay(cc.RedT.setting.taixiu.data.du_day)},eventStart:function(e){this.setTop(),this.ttOffset=cc.v2(e.touch.getLocationX()-this.node.position.x,e.touch.getLocationY()-this.node.position.y)},eventMove:function(e){this.node.position=cc.v2(e.touch.getLocationX()-this.ttOffset.x,e.touch.getLocationY()-this.ttOffset.y)},eventEnd:function(){cc.RedT.setting.taixiu.position=this.node.position},setTop:function(){this.RedT.setTop()},onSelectInput:function(e,t){switch(this.TX_Board.node.active=!0,this.inputOld=t,t){case"right":this.input=this.RedT.board?this.inputRight:this.inputRTxt;break;case"left":this.input=this.RedT.board?this.inputLeft:this.inputLTxt}},onChangerInput:function(){var e=r.numberWithCommas(r.getOnlyNumberInString(this.input.string));this.input.string="0"==e?"":e},setPhien:function(){var e=cc.RedT.setting.taixiu.logs[0].phien+1;this.labelPhien.string="#"+e},setDice:function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!0);var i=this;Promise.all(this.dice.map(function(n,a){t&&(n.spriteFrame=i.diceSF[cc.RedT.setting.taixiu.logs[0].dice[a]-1]),n.node.active=e}))},onData:function(e){void 0!==e.gamestimes&&(this.gamestimes=e.gamestimes,cc.RedT.setting.taixiu.gamestimes=e.gamestimes),void 0!==e.err&&("string"==typeof e.err?h.Instance.notice.show({title:r.getLang(cc.RedT.language,"taixiu_notice"),text:e.err.text}):void 0!==e.err.button?h.Instance.notice.show({title:e.err.title,text:e.err.text,button:{text:"notice",type:"watchVideo"}}):h.Instance.notice.show({title:e.err.title,text:e.err.text})),void 0!==e.du_day&&(Object.assign(cc.RedT.setting.taixiu.data.du_day,e.du_day),this.onDuDay(e.du_day)),void 0!==e.taixiu&&(void 0!==e.gamestimes&&(this.gamestimes=e.gamestimes,cc.RedT.setting.taixiu.gamestimes=e.gamestimes),Object.assign(cc.RedT.setting.taixiu.data.taixiu,e.taixiu),this.taixiu&&this.onDataTaiXiu(e.taixiu)),void 0!==e.chanle&&(Object.assign(cc.RedT.setting.taixiu.data.chanle,e.chanle),!this.taixiu&&this.onDataChanLe(e.chanle)),void 0!==e.get_top&&this.RedT.TX_Top.onData(e.get_top),void 0!==e.chat&&this.TX_Chat.onData(e.chat),void 0!==e.status&&this.status(e.status),void 0!==e.logs&&(cc.RedT.setting.taixiu.logs=e.logs,this.dataLogs(),this.setPhien(),cc.RedT.setting.taixiu.time_remain>cc.RedT.setting.taixiu.gamestimes.play_time&&(this.setDice(!0),this.nodeTimeWait.active=!0,this.timeCuoc.node.active=!1,this.countdown.active=!1,this.explodeEf.active=!0),cc.RedT.setting.taixiu.getLogs=!0),void 0!==e.time_remain&&(void 0!==e.gamestimes&&(this.gamestimes=e.gamestimes,cc.RedT.setting.taixiu.gamestimes=e.gamestimes),cc.RedT.setting.taixiu.time_remain=e.time_remain,this.playTime()),void 0!==e.finish&&(void 0!==e.finish.gamestimes&&(this.gamestimes=e.finish.gamestimes,cc.RedT.setting.taixiu.gamestimes=e.finish.gamestimes),cc.RedT.setting.taixiu.getLogs&&(void 0!==this.timeInterval&&clearInterval(this.timeInterval),cc.RedT.setting.taixiu.logs.unshift({dice:[e.finish.dices[0],e.finish.dices[1],e.finish.dices[2]],phien:e.finish.phien}),cc.RedT.setting.taixiu.logs.length>120&&cc.RedT.setting.taixiu.logs.pop(),this.diemSo=e.finish.dices[0]+e.finish.dices[1]+e.finish.dices[2],this.labelKetQua.string=this.diemSo,this.isNan?(this.diaNan.active=!0,this.diaNan.position=cc.v2(0,-11.5),this.spriteNan.node.active=!1,this.onDiceAnimationFinish()):(this.diceAnimation.node.active=!0,this.node.activeInHierarchy?this.diceAnimation.play():this.onDiceAnimationFinish()),this.nodeTimeWait.active=!0,this.timeCuoc.node.active=!1,this.countdown.active=!1,this.explodeEf.active=!0),cc.RedT.setting.taixiu.time_remain=cc.RedT.setting.taixiu.gamestimes.total_time,this.playTime())},efStop:function(){this.efTai.stop(),this.efXiu.stop(),this.efLe2.active=!1,this.efChan2.active=!1,this.efLe.stop(),this.efChan.stop(),this.explodeEf._components[0].setAnimation(0,"animation",!1)},onDestroy:function(){void 0!==this.timeInterval&&clearInterval(this.timeInterval),null==this.arrTimeout&&(this.arrTimeout=[]);for(var e=0;e<this.arrTimeout.length;e++)clearTimeout(this.arrTimeout[e]);this.arrTimeout=[]},playTime:function(){void 0!==this.timeInterval&&clearInterval(this.timeInterval);var e=this;this.timeInterval=setInterval(function(){if(cc.RedT.setting.taixiu.time_remain>cc.RedT.setting.taixiu.gamestimes.play_time+1){e.nodeTimeWait.active=!0,e.timeCuoc.node.active=!1,this.countdown.active=!1,this.explodeEf.active=!0,e.setDice(!0);var t=cc.RedT.setting.taixiu.logs[0];e.diemSo=t.dice[0]+t.dice[1]+t.dice[2],0==this.isNan?(e.nodeKetQua.active=!0,e.diemSo>10?e.efTai.play():e.efXiu.play(),e.diemSo%2?(e.efLe2.active=!0,e.efLe.play()):(e.efChan2.active=!0,e.efChan.play())):cc.RedT.setting.taixiu.time_remain<cc.RedT.setting.taixiu.gamestimes.play_time+11&&(e.nodeKetQua.active=!0,e.diemSo>10?e.efTai.active=!0:e.efXiu.active=!0,e.diemSo%2?(e.efLe2.active=!0,e.efLe.play()):(e.efChan2.active=!0,e.efChan.play())),e.labelKetQua.string=e.diemSo;var i=r.numberPad(cc.RedT.setting.taixiu.time_remain-(cc.RedT.setting.taixiu.gamestimes.play_time+2),2);e.timeWait.string="00:"+r.numberPad(i,2),cc.RedT.setting.taixiu.time_remain<cc.RedT.setting.taixiu.gamestimes.play_time+1&&e.efStop(),cc.RedT.setting.taixiu.time_remain<cc.RedT.setting.taixiu.gamestimes.play_time+11&&e.isNan&&(e.diaNan.active=!1)}else e.nodeTimeWait.active=!1,e.timeCuoc.node.active=!0,this.countdown.active=!0,this.explodeEf.active=!1,e.dice[0].node.active&&(e.setDice(!1,!1),e.reset()),e.efStop(),e.nodeTimeWait.active=e.nodeKetQua.active=e.diaNan.active=!1,e.timeCuoc.node.active=e.spriteNan.node.active=!0,cc.RedT.setting.taixiu.time_remain>0?(i=r.numberPad(cc.RedT.setting.taixiu.time_remain-1,2),e.timeCuoc.string="00:"+i,cc.RedT.setting.taixiu.time_remain<=10?e.timeCuoc.node.color=cc.color(255,69,69,255):e.timeCuoc.node.color=cc.Color.WHITE):clearInterval(e.timeInterval);cc.RedT.setting.taixiu.time_remain--}.bind(this),1e3)},nextRealTime:function(){if(cc.RedT.setting.taixiu.time_remain>cc.RedT.setting.taixiu.gamestimes.play_time+1){this.setDice(!0),this.nodeTimeWait.active=!0,this.timeCuoc.node.active=!1,this.countdown.active=!1,this.explodeEf.active=!0;var e=r.numberPad(cc.RedT.setting.taixiu.time_remain-(cc.RedT.setting.taixiu.gamestimes.play_time+2),2);this.timeWait.string="00:"+r.numberPad(e,2)}else this.nodeTimeWait.active=!1,this.timeCuoc.node.active=!0,this.countdown.active=!0,this.explodeEf.active=!1,cc.RedT.setting.taixiu.time_remain>0&&(e=r.numberPad(cc.RedT.setting.taixiu.time_remain-1,2),cc.RedT.setting.taixiu.getLogs&&(this.timeCuoc.string="00:"+e),cc.RedT.setting.taixiu.time_remain<=10?this.timeCuoc.node.color=cc.color(255,69,69,255):this.timeCuoc.node.color=cc.Color.WHITE)},onDataChanLe:function(e){this.red?(void 0!==e.red_chan&&(this.totalLeft.string=r.numberWithCommas(e.red_chan)),void 0!==e.red_le&&(this.totalRight.string=r.numberWithCommas(e.red_le)),void 0!==e.red_me_chan&&(this.myLeft.string=r.numberWithCommas(e.red_me_chan)),void 0!==e.red_me_le&&(this.myRight.string=r.numberWithCommas(e.red_me_le)),void 0!==e.red_player_chan&&(this.playerLeft.string=r.numberWithCommas(e.red_player_chan)),void 0!==e.red_player_le&&(this.playerRight.string=r.numberWithCommas(e.red_player_le))):(void 0!==e.xu_chan&&(this.totalLeft.string=r.numberWithCommas(e.xu_chan)),void 0!==e.xu_le&&(this.totalRight.string=r.numberWithCommas(e.xu_le)),void 0!==e.xu_me_chan&&(this.myLeft.string=r.numberWithCommas(e.xu_me_chan)),void 0!==e.xu_me_le&&(this.myRight.string=r.numberWithCommas(e.xu_me_le)),void 0!==e.xu_player_chan&&(this.playerLeft.string=r.numberWithCommas(e.xu_player_chan)),void 0!==e.xu_player_le&&(this.playerRight.string=r.numberWithCommas(e.xu_player_le)))},onDataTaiXiu:function(e){void 0!==cc.RedT.inGame.onGetTaiXiu&&cc.RedT.inGame.onGetTaiXiu(e.red_tai,e.red_xiu),this.red?(void 0!==e.red_tai&&(this.totalLeft.string=r.numberWithCommas(e.red_tai)),void 0!==e.red_xiu&&(this.totalRight.string=r.numberWithCommas(e.red_xiu)),void 0!==e.red_me_tai&&(this.myLeft.string=r.numberWithCommas(e.red_me_tai)),void 0!==e.red_me_xiu&&(this.myRight.string=r.numberWithCommas(e.red_me_xiu)),void 0!==e.red_player_tai&&(this.playerLeft.string=r.numberWithCommas(e.red_player_tai)),void 0!==e.red_player_xiu&&(this.playerRight.string=r.numberWithCommas(e.red_player_xiu))):(void 0!==e.xu_tai&&(this.totalLeft.string=r.numberWithCommas(e.xu_tai)),void 0!==e.xu_xiu&&(this.totalRight.string=r.numberWithCommas(e.xu_xiu)),void 0!==e.xu_me_tai&&(this.myLeft.string=r.numberWithCommas(e.xu_me_tai)),void 0!==e.xu_me_xiu&&(this.myRight.string=r.numberWithCommas(e.xu_me_xiu)),void 0!==e.xu_player_tai&&(this.playerLeft.string=r.numberWithCommas(e.xu_player_tai)),void 0!==e.xu_player_xiu&&(this.playerRight.string=r.numberWithCommas(e.xu_player_xiu)))},onDuDay:function(e){this.taixiu?this.red?(this.WIN_HT.string=e.tLineWinRedH,this.WIN_DN.string=e.tLineWinRed,this.LOST_HT.string=e.tLineLostRedH,this.LOST_DN.string=e.tLineLostRed):(this.WIN_HT.string=e.tLineWinXuH,this.WIN_DN.string=e.tLineWinXu,this.LOST_HT.string=e.tLineLostXuH,this.LOST_DN.string=e.tLineLostXu):this.red?(this.WIN_HT.string=e.cLineWinRedH,this.WIN_DN.string=e.cLineWinRed,this.LOST_HT.string=e.cLineLostRedH,this.LOST_DN.string=e.cLineLostRed):(this.WIN_HT.string=e.cLineWinXuH,this.WIN_DN.string=e.cLineWinXu,this.LOST_HT.string=e.cLineLostXuH,this.LOST_DN.string=e.cLineLostXu)},dataLogs:function(){if(cc.RedT.setting.taixiu.logs.length){var e=this;Promise.all(this.dotLogs.map(function(t,i){var n=cc.RedT.setting.taixiu.logs[i];if(void 0!==n){var a=n.dice[0]+n.dice[1]+n.dice[2];t.node.active=!0,t.node.phien=n.phien,t.mod.text.string=n.dice[0]+"-"+n.dice[1]+"-"+n.dice[2],t.spriteFrame=e.taixiu?a<11?e.dot_white:e.dot_black:a%2?e.dot_black:e.dot_yellow}else t.node.active=!1}));var t=[],n=[],a=[],o=[],s=-1,c=[],r=[],l=0,h=0,d=cc.RedT.setting.taixiu.logs.slice(0,19);d.reverse(),new Promise(function(){for(var i=0;i<d.length;i++)if(void 0!==d[i]){e.RedT.TX_ThongKe.lineAc(i,!0);var s=d[i].dice[0],c=d[i].dice[1],r=d[i].dice[2],l=s+c+r;t[i]={x:28*i,y:28*s-28,dice:s},n[i]={x:28*i,y:28*c-28,dice:c},a[i]={x:28*i,y:28*r-28,dice:r},o[i]={x:27.7*i,y:9.233*l-27.7,tong:l}}else e.RedT.TX_ThongKe.lineAc(i,!1);e.RedT.TX_ThongKe.draw(e.RedT.TX_ThongKe.dice1_line,e.RedT.TX_ThongKe.dice1_dots,t),e.RedT.TX_ThongKe.draw(e.RedT.TX_ThongKe.dice2_line,e.RedT.TX_ThongKe.dice2_dots,n),e.RedT.TX_ThongKe.draw(e.RedT.TX_ThongKe.dice3_line,e.RedT.TX_ThongKe.dice3_dots,a),e.RedT.TX_ThongKe.draw_Tong(e.RedT.TX_ThongKe.tong_line,o)});var u=Promise.all(this.RedT.TX_ThongKe.KetQuaDot.map(function(t,i){var n=cc.RedT.setting.taixiu.logs[i];if(void 0!==n){t.node.active=!0;var a=n.dice[0]+n.dice[1]+n.dice[2];return t.spriteFrame=e.taixiu?a<11?e.dot_white:e.dot_black:a%2?e.dot_black:e.dot_yellow,e.taixiu?a>10?1:0:a%2?0:1}return t.node.active=!1,-1})),p=new Promise(function(t){var n=cc.RedT.setting.taixiu.logs.slice();n.reverse();for(var a,o=i(n);!(a=o()).done;){var l=a.value,h=l.dice[0]+l.dice[1]+l.dice[2],d=e.taixiu?h>10?1:0:h%2?0:1;-1===s&&(s=d),(d!=s||r.length>4)&&(s=d,c.push(r),r=[]),d==s&&r.push(h)}c.push(r),t(c)});Promise.all([u,p]).then(function(t){var i=t[1];i.reverse(),(i=i.slice(0,20)).reverse(),e.RedT.TX_ThongKe.KetQuaLeft.string=t[0].filter(function(e){return 1==e}).length,e.RedT.TX_ThongKe.KetQuaRight.string=t[0].filter(function(e){return 0==e}).length,Promise.all(e.RedT.TX_ThongKe.DiemSoCel.map(function(t,n){var a=i[n];if(void 0!==a)return t.active=!0,Promise.all(t.RedT.map(function(t,i){var n=a[i];if(void 0!==n){var o=e.taixiu?n>10:!(n%2);l=o?l+1:l,h=o?h:h+1,t.active=!0,t.color=e.taixiu?o?t.color.fromHEX("#00b4ff"):t.color.fromHEX("#ff00e4"):o?t.color.fromHEX("#ff00e4"):t.color.fromHEX("#00b4ff"),t.text.string=n,t.text.node.color=(e.taixiu,cc.Color.BLACK)}else t.active=!1}));t.active=!1})).then(function(){e.RedT.TX_ThongKe.DiemSoLeft.string=l,e.RedT.TX_ThongKe.DiemSoRight.string=h})})}},reset:function(){this.setPhien(),this.isNan&&this.dataLogs(),cc.RedT.setting.taixiu.data.chanle.red_chan=cc.RedT.setting.taixiu.data.chanle.red_le=cc.RedT.setting.taixiu.data.chanle.red_me_chan=cc.RedT.setting.taixiu.data.chanle.red_me_le=cc.RedT.setting.taixiu.data.chanle.red_player_chan=cc.RedT.setting.taixiu.data.chanle.red_player_le=cc.RedT.setting.taixiu.data.chanle.xu_chan=cc.RedT.setting.taixiu.data.chanle.xu_le=cc.RedT.setting.taixiu.data.chanle.xu_me_chan=cc.RedT.setting.taixiu.data.chanle.xu_me_le=cc.RedT.setting.taixiu.data.chanle.xu_player_chan=cc.RedT.setting.taixiu.data.chanle.xu_player_le=cc.RedT.setting.taixiu.data.taixiu.red_me_tai=cc.RedT.setting.taixiu.data.taixiu.red_me_xiu=cc.RedT.setting.taixiu.data.taixiu.red_player_tai=cc.RedT.setting.taixiu.data.taixiu.red_player_xiu=cc.RedT.setting.taixiu.data.taixiu.red_tai=cc.RedT.setting.taixiu.data.taixiu.red_xiu=cc.RedT.setting.taixiu.data.taixiu.xu_me_tai=cc.RedT.setting.taixiu.data.taixiu.xu_me_xiu=cc.RedT.setting.taixiu.data.taixiu.xu_player_tai=cc.RedT.setting.taixiu.data.taixiu.xu_player_xiu=cc.RedT.setting.taixiu.data.taixiu.xu_tai=cc.RedT.setting.taixiu.data.taixiu.xu_xiu=this.totalLeft.string=this.totalRight.string=this.myLeft.string=this.myRight.string=this.playerLeft.string=this.playerRight.string=0,this.input.string=r.getLang(cc.RedT.language,"bet_amount")},setDefautl:function(){cc.RedT.setting.taixiu.getLogs=!1,void 0!==this.timeInterval&&clearInterval(this.timeInterval),this.TX_Chat.reset()},status:function(e){null==this.arrTimeout&&(this.arrTimeout=[]),this.arrTimeout.push(setTimeout(function(){if(!this.isNan){var t=new cc.Node;if(t.addComponent(cc.Label),(t=t.getComponent(cc.Label)).string=(e.win?"+":"-")+r.numberWithCommas(e.bet),t.font=e.win?this.fontCong:this.fontTru,t.lineHeight=130,t.fontSize=22,t.node.position=cc.v2(e.select?-252:252,-50),this.notice.addChild(t.node),t.node.runAction(cc.sequence(cc.moveTo(3,cc.v2(e.select?-252:252,130)),cc.callFunc(function(){this.node.destroy()},t))),void 0!==e.thuong&&e.thuong>0){var i=new cc.Node;i.addComponent(cc.Label),(i=i.getComponent(cc.Label)).string=(e.win?"+":"-")+r.numberWithCommas(e.thuong),i.font=cc.RedT.util.fontEffect,i.lineHeight=90,i.fontSize=14,this.notice.addChild(i.node),i.node.runAction(cc.sequence(cc.moveTo(3,cc.v2(0,100)),cc.callFunc(function(){this.node.destroy()},i)))}}cc.RedT.send({taixiu:{get_new:!0}})}.bind(this),2e3))},showPopupNotifyStatus:function(e){e.win?e.bet==cc.RedT.setting.taixiu.data.chanle.xu_me_le||e.bet==cc.RedT.setting.taixiu.data.chanle.xu_me_chan||e.bet==cc.RedT.setting.taixiu.data.chanle.red_me_le||e.bet==cc.RedT.setting.taixiu.data.chanle.red_me_chan||e.bet==cc.RedT.setting.taixiu.data.taixiu.red_me_tai||e.bet==cc.RedT.setting.taixiu.data.taixiu.red_me_xiu||e.bet==cc.RedT.setting.taixiu.data.taixiu.xu_me_tai||e.bet==cc.RedT.setting.taixiu.data.taixiu.xu_me_xiu?(h.Instance.notice.show({title:r.getLang(cc.RedT.language,"taixiu_notice"),text:r.getLang(cc.RedT.language,"p1")+r.numberWithCommas(e.bet)}),null==this.arrTimeout&&(this.arrTimeout=[]),this.arrTimeout.push(setTimeout(function(){h.Instance.notice.close()},4e3))):(h.Instance.notice.show({title:r.getLang(cc.RedT.language,"taixiu_notice"),text:r.getLang(cc.RedT.language,"p2")+r.numberWithCommas(e.bet)}),null==this.arrTimeout&&(this.arrTimeout=[]),this.arrTimeout.push(setTimeout(function(){h.Instance.notice.close()},4e3))):(h.Instance.notice.show({title:r.getLang(cc.RedT.language,"taixiu_notice"),text:r.getLang(cc.RedT.language,"p3")+r.numberWithCommas(this.getBet())}),null==this.arrTimeout&&(this.arrTimeout=[]),this.arrTimeout.push(setTimeout(function(){h.Instance.notice.close()},4e3)))},getBet:function(){return cc.RedT.setting.taixiu.data.chanle.xu_me_le>0?cc.RedT.setting.taixiu.data.chanle.xu_me_le:cc.RedT.setting.taixiu.data.chanle.xu_me_chan>0?cc.RedT.setting.taixiu.data.chanle.xu_me_chan:cc.RedT.setting.taixiu.data.chanle.red_me_le>0?cc.RedT.setting.taixiu.data.chanle.red_me_le:cc.RedT.setting.taixiu.data.chanle.red_me_chan>0?cc.RedT.setting.taixiu.data.chanle.red_me_chan:cc.RedT.setting.taixiu.data.taixiu.red_me_tai>0?cc.RedT.setting.taixiu.data.taixiu.red_me_tai:cc.RedT.setting.taixiu.data.taixiu.red_me_xiu>0?cc.RedT.setting.taixiu.data.taixiu.red_me_xiu:cc.RedT.setting.taixiu.data.taixiu.xu_me_tai>0?cc.RedT.setting.taixiu.data.taixiu.xu_me_tai:cc.RedT.setting.taixiu.data.taixiu.xu_me_xiu>0?cc.RedT.setting.taixiu.data.taixiu.xu_me_xiu:0}}),cc._RF.pop()},{BrowserUtil:"BrowserUtil",Helper:"Helper",TaiXiuBoard:"TaiXiuBoard",TaiXiuChat:"TaiXiuChat",TaiXiu_efScale:"TaiXiu_efScale",UIPopupManager:"UIPopupManager"}],TaiXiuThongKe:[function(e,t){"use strict";cc._RF.push(t,"44a1auDXjdMUYNeCt2i6vXW","TaiXiuThongKe"),cc.Class({extends:cc.Component,properties:{background:{default:null,type:cc.Node},header:{default:null,type:cc.Node},body:{default:null,type:cc.Node},nodeTaiXiu:{default:null,type:cc.Node},nodeChanLe:{default:null,type:cc.Node},KetQuaLeft:{default:null,type:cc.Label},KetQuaRight:{default:null,type:cc.Label},KetQuaDot:{default:null,type:cc.Node},DiemSoCel:{default:null,type:cc.Node},DiemSoLeft:{default:null,type:cc.Label},DiemSoRight:{default:null,type:cc.Label},node1:{default:null,type:cc.Node},node2:{default:null,type:cc.Node},dice1_line:{default:null,type:cc.Graphics},dice2_line:{default:null,type:cc.Graphics},dice3_line:{default:null,type:cc.Graphics},tong_line:{default:null,type:cc.Graphics},dice1_dot:{default:null,type:cc.Node},dice2_dot:{default:null,type:cc.Node},dice3_dot:{default:null,type:cc.Node},tong_dot:{default:null,type:cc.Node},line_dotT:{default:null,type:cc.Node},line_dot1:{default:null,type:cc.Node},line_dot2:{default:null,type:cc.Node},line_dot3:{default:null,type:cc.Node}},init:function(e){var t=this;this.RedT=e,void 0!==cc.RedT.setting.taixiu.tk_position&&(this.node.position=cc.RedT.setting.taixiu.tk_position),void 0!==cc.RedT.setting.taixiu.tk_active&&(this.node.active=cc.RedT.setting.taixiu.tk_active),Promise.all(this.KetQuaDot.children.map(function(e){return e.getComponent(cc.Sprite)})).then(function(e){t.KetQuaDot=e}),Promise.all(this.DiemSoCel.children.map(function(e){return e.RedT=Promise.all(e.children.map(function(e){return e.text=e.children[0].getComponent(cc.Label),e})),e.RedT.then(function(t){e.RedT=t}),e})).then(function(e){t.DiemSoCel=e}),Promise.all(this.dice1_dot.children.map(function(e){return e.text=e.children[0].getComponent(cc.Label),e})).then(function(e){t.dice1_dots=e}),Promise.all(this.dice2_dot.children.map(function(e){return e.text=e.children[0].getComponent(cc.Label),e})).then(function(e){t.dice2_dots=e}),Promise.all(this.dice3_dot.children.map(function(e){return e.text=e.children[0].getComponent(cc.Label),e})).then(function(e){t.dice3_dots=e}),Promise.all(this.tong_dot.children.map(function(e){return e.text=e.children[0].getComponent(cc.Label),e})).then(function(e){t.tong_dots=e})},onLoad:function(){var e=this;this.ttOffset=null,Promise.all(this.header.children.map(function(e){return e.getComponent("itemContentMenu")})).then(function(t){e.header=t})},onEnable:function(){this.background.on(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.background.on(cc.Node.EventType.TOUCH_MOVE,this.eventMove,this),this.background.on(cc.Node.EventType.TOUCH_END,this.eventEnd,this),this.background.on(cc.Node.EventType.TOUCH_CANCEL,this.eventEnd,this),this.background.on(cc.Node.EventType.MOUSE_ENTER,this.setTop,this)},onDisable:function(){this.background.off(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.background.off(cc.Node.EventType.TOUCH_MOVE,this.eventMove,this),this.background.off(cc.Node.EventType.TOUCH_END,this.eventEnd,this),this.background.off(cc.Node.EventType.TOUCH_CANCEL,this.eventEnd,this),this.background.off(cc.Node.EventType.MOUSE_ENTER,this.setTop,this)},onChangerGame:function(){this.nodeTaiXiu.active=!this.nodeTaiXiu.active,this.nodeChanLe.active=!this.nodeChanLe.active},eventStart:function(e){this.setTop(),this.ttOffset=cc.v2(e.touch.getLocationX()-this.node.position.x,e.touch.getLocationY()-this.node.position.y)},eventMove:function(e){this.node.position=cc.v2(e.touch.getLocationX()-this.ttOffset.x,e.touch.getLocationY()-this.ttOffset.y)},eventEnd:function(){cc.RedT.setting.taixiu.tk_position=this.node.position},setTop:function(){this.node.parent.insertChild(this.node),this.RedT.setTop()},onSelectHeader:function(e,t){Promise.all(this.header.map(function(e){e.node.name==t?e.select():e.unselect()})),Promise.all(this.body.children.map(function(e){e.name==t?e.active=!0:e.active=!1}))},onToggleClick:function(){cc.RedT.audio.playClick(),this.setTop(),this.node.active=cc.RedT.setting.taixiu.tk_active=!this.node.active},onChangerClick:function(){this.node1.active=!this.node1.active,this.node2.active=!this.node2.active},draw:function(e,t,i){e.clear();for(var n=i.length,a=0;a<n;a++){var o=t[a],s=i[a];o.text.string=s.dice,o.position=cc.v2(o.position.x,s.y),0===a?e.moveTo(s.x,s.y):e.lineTo(s.x,s.y)}e.stroke()},draw_Tong:function(e,t){e.clear();for(var i=0,n=t.length;i<n;i++){var a=t[i],o=this.tong_dots[i];0===i?e.moveTo(a.x,a.y):e.lineTo(a.x,a.y),o.text.string=a.tong,o.text.node.color=(this.RedT.TX_Main.taixiu,a.tong,cc.Color.BLACK),o.position=cc.v2(o.position.x,a.y),o.color=(this.RedT.TX_Main.taixiu,a.tong,o.color.fromHEX("#FFFF00"))}e.stroke()},lineAc:function(e,t){this.dice1_dots[e].active=t,this.dice2_dots[e].active=t,this.dice3_dots[e].active=t,this.tong_dots[e].active=t},showLineTong:function(){cc.RedT.audio.playClick(),this.tong_dot.active=!this.tong_dot.active,this.tong_line.node.active=!this.tong_line.node.active,this.line_dotT.active=!this.line_dotT.active},showLineDice1:function(){cc.RedT.audio.playClick(),this.dice1_dot.active=!this.dice1_dot.active,this.dice1_line.node.active=!this.dice1_line.node.active,this.line_dot1.active=!this.line_dot1.active},showLineDice2:function(){cc.RedT.audio.playClick(),this.dice2_dot.active=!this.dice2_dot.active,this.dice2_line.node.active=!this.dice2_line.node.active,this.line_dot2.active=!this.line_dot2.active},showLineDice3:function(){cc.RedT.audio.playClick(),this.dice3_dot.active=!this.dice3_dot.active,this.dice3_line.node.active=!this.dice3_line.node.active,this.line_dot3.active=!this.line_dot3.active}}),cc._RF.pop()},{}],TaiXiuTop:[function(e,t){"use strict";cc._RF.push(t,"5c979o56KBFA7IxEoBHBpgJ","TaiXiuTop");var i=e("Helper");cc.Class({extends:cc.Component,properties:{background:{default:null,type:cc.Node},scrollview:{default:null,type:cc.ScrollView},item:{default:null,type:cc.Prefab},title:{default:null,type:cc.Label},game:{default:null,type:cc.Label},cRed:{default:null,type:cc.Node},cXu:{default:null,type:cc.Node}},init:function(e){this.RedT=e,void 0!==cc.RedT.setting.taixiu.top_position&&(this.node.position=cc.RedT.setting.taixiu.top_position),void 0!==cc.RedT.setting.taixiu.top_active&&(this.node.active=cc.RedT.setting.taixiu.top_active)},onLoad:function(){this.ttOffset=null,this.taixiu=this.red=!0},onEnable:function(){this.background.on(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.background.on(cc.Node.EventType.TOUCH_MOVE,this.eventMove,this),this.background.on(cc.Node.EventType.TOUCH_END,this.eventEnd,this),this.background.on(cc.Node.EventType.TOUCH_CANCEL,this.eventEnd,this),this.background.on(cc.Node.EventType.MOUSE_ENTER,this.setTop,this),this.get_data()},onDisable:function(){this.background.off(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.background.off(cc.Node.EventType.TOUCH_MOVE,this.eventMove,this),this.background.off(cc.Node.EventType.TOUCH_END,this.eventEnd,this),this.background.off(cc.Node.EventType.TOUCH_CANCEL,this.eventEnd,this),this.background.off(cc.Node.EventType.MOUSE_ENTER,this.setTop,this)},eventStart:function(e){this.setTop(),this.ttOffset=cc.v2(e.touch.getLocationX()-this.node.position.x,e.touch.getLocationY()-this.node.position.y)},eventMove:function(e){this.node.position=cc.v2(e.touch.getLocationX()-this.ttOffset.x,e.touch.getLocationY()-this.ttOffset.y)},eventEnd:function(){cc.RedT.setting.taixiu.top_position=this.node.position},setTop:function(){this.node.parent.insertChild(this.node),this.RedT.setTop()},toggle:function(){this.setTop(),cc.RedT.audio.playClick(),this.node.active=cc.RedT.setting.taixiu.top_active=!this.node.active},onChangerGame:function(){this.taixiu=!this.taixiu,this.game.string=this.taixiu?i.getLang(cc.RedT.language,"even_odd"):"Tai Xiu",this.title.string=this.taixiu?i.getLang(cc.RedT.language,"top_eo"):"TOP EVEN ODD",this.get_data()},onChangerRed:function(){this.red=!this.red,this.cRed.active=!this.cRed.active,this.cXu.active=!this.cXu.active,this.get_data()},get_data:function(){cc.RedT.send({taixiu:{get_top:{red:this.red,taixiu:this.taixiu}}})},onData:function(e){this.scrollview.content.destroyAllChildren();var t=this;Promise.all(e.map(function(e,n){var a=cc.instantiate(t.item),o=a.getComponent("TaiXiuLichSu_item");o.time.string=n+1,o.phien.string=e.name,o.dat.string=i.numberWithCommas(e.bet),o.node.children[0].active=n%2,t.scrollview.content.addChild(a)}))}}),cc._RF.pop()},{Helper:"Helper"}],TaiXiu_DiaNan:[function(e,t){"use strict";cc._RF.push(t,"48692rupkxLUqFjhMjk6S43","TaiXiu_DiaNan"),cc.Class({extends:cc.Component,init:function(e){this.RedT=e},onLoad:function(){this.ttOffset=null},onEnable:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.eventMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.eventEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.eventEnd,this),this.node.on(cc.Node.EventType.MOUSE_ENTER,this.setTop,this)},onDisable:function(){this.node.off(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.eventMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this.eventEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.eventEnd,this),this.node.off(cc.Node.EventType.MOUSE_ENTER,this.setTop,this)},eventStart:function(e){this.setTop(),this.ttOffset=cc.v2(e.touch.getLocationX()-this.node.position.x,e.touch.getLocationY()-this.node.position.y)},eventMove:function(e){this.node.position=cc.v2(e.touch.getLocationX()-this.ttOffset.x,e.touch.getLocationY()-this.ttOffset.y)},eventEnd:function(){},setTop:function(){this.RedT.setTop()}}),cc._RF.pop()},{}],TaiXiu_efScale:[function(e,t){"use strict";cc._RF.push(t,"1dcc4TRp5REZa8M+IY8ljzM","TaiXiu_efScale"),cc.Class({extends:cc.Component,play:function(){this.node.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.15,.85),cc.scaleTo(.15,1.15))))},stop:function(){this.node.stopAllActions(),this.node.scale=1}}),cc._RF.pop()},{}],TaiXiu:[function(e,t){"use strict";cc._RF.push(t,"72234cg0ORLl7lPDSiermrl","TaiXiu");var i=e("TaiXiuMain"),n=e("TaiXiuThongKe"),a=e("TaiXiuTop"),o=e("UIPopupManager");cc.Class({extends:cc.Component,properties:{TX_Main:i,TX_ThongKe:n,TX_Top:a,board:!0},onLoad:function(){cc.RedT.setting.taixiu=cc.RedT.setting.taixiu||{getLogs:!1},this.TX_Main.init(this),this.TX_ThongKe.init(this),this.TX_Top.init(this),localStorage.getItem("taixiu")},onEnable:function(){this.regEvent(!0)},onDisable:function(){this.regEvent(!1)},regEvent:function(e){cc.RedT.send({taixiu:e?{view:e,getLogs:e}:{view:e}})},setTop:function(){this.node.parent.insertChild(this.node)},openGame:function(e,t){void 0===t&&(t="1"),cc.RedT.audio.playClick(),cc.RedT.IS_LOGIN?(this.TX_Main.initGame("1"==t),this.node.active=!0,localStorage.setItem("taixiu",!1),this.setTop()):o.Instance.showSignIn()},closeGame:function(){cc.RedT.audio.playUnClick(),this.node.active=this.TX_Top.node.active=this.TX_ThongKe.node.active=this.TX_Main.TX_Board.node.active=!1,localStorage.setItem("taixiu",!1),o.Instance.hideGameTaiXiu()},newGame:function(){this.TX_ThongKe.node.active=this.TX_Main.TX_Board.node.active=!1,this.TX_Main.setDefautl()},signIn:function(){!this.node.active&&this.showNodeTime()},showNodeTime:function(){0==cc.RedT.user.showall?this.TX_Main.nodeTimePopup.active=!1:this.TX_Main.nodeTimePopup.active=!0}}),cc._RF.pop()},{TaiXiuMain:"TaiXiuMain",TaiXiuThongKe:"TaiXiuThongKe",TaiXiuTop:"TaiXiuTop",UIPopupManager:"UIPopupManager"}],TextLanguageShop:[function(e,t){"use strict";cc._RF.push(t,"e844f4GHG9OXItyCtO/2JKA","TextLanguageShop");var i=e("EventDispatcher"),n=e("EnumText");cc.Class({extends:cc.Component,properties:{typeText:{default:n.NormalCase,type:n},key:"",label:cc.Label},onEnable:function(){this.changeLanguage(),i.addEventListener("changeLanguage",this)},onDisable:function(){i.removeEventListener("changeLanguage",this)},changeLanguage:function(){null!=cc.RedT.language_shop&&(this.typeText==n.ToUpperCase?this.label.string=this.label.string.toUpperCase():this.typeText==n.ToLowerCase&&(this.label.string=this.label.string.toLowerCase()),this.label.string=cc.RedT.language_shop[this.key])}}),cc._RF.pop()},{EnumText:"EnumText",EventDispatcher:"EventDispatcher"}],TextLanguage:[function(e,t){"use strict";cc._RF.push(t,"d57bdb8OldBfb2ek6sPYBKD","TextLanguage");var i=e("EventDispatcher"),n=e("Helper"),a=e("EnumText");cc.Class({extends:cc.Component,properties:{typeText:{default:a.NormalCase,type:a},key:"",label:cc.Label,fontVn:cc.Font,fontDe:cc.Font,fontEn:cc.Font,fontCn:cc.Font,fontTh:cc.Font,fontSizeVn:0,fontSizeDe:0,fontSizeEn:0,fontSizeCn:0,fontSizeTh:0},onLoad:function(){if(this.fontDefault=this.label.font,this.fontSizeDefault=this.label.fontSize,this.typeText==a.ToUpperCase?this.label.string=this.label.string.toUpperCase():this.typeText==a.ToLowerCase&&(this.label.string=this.label.string.toLowerCase()),null!=cc.RedT.language&&null!=cc.RedT.Frontendlanguages)if("vn"==cc.RedT.language){if(null==this.fontVn)return;this.label.font=null}else if("de"==cc.RedT.language){if(null==this.fontDe)return;this.label.font=null}else if("en"==cc.RedT.language){if(null==this.fontEn)return;this.label.font=null}else if("cn"==cc.RedT.language){if(null==this.fontCn)return;this.label.font=null}else if("th"==cc.RedT.language){if(null==this.fontTh)return;this.label.font=null}else if("es"==cc.RedT.language){if(null==this.fontEn)return;this.label.font=null}else if("fr"==cc.RedT.language){if(null==this.fontEn)return;this.label.font=null}},onEnable:function(){this.changeLanguage(),i.addEventListener("changeLanguage",this)},onDisable:function(){i.removeEventListener("changeLanguage",this)},changeLanguage:function(){if(null!=cc.RedT.language&&null!=cc.RedT.Frontendlanguages){if(this.key,this.label.string=n.getLang(cc.RedT.language,this.key),null!=this.outline&&(this.outline.active=!1),"vn"==cc.RedT.language){if(null==this.fontVn)return this.label.font=this.fontDefault,void(this.label.fontSize=this.fontSizeDefault);this.label.font=this.fontVn,0!=this.fontSizeVn?this.label.fontSize=this.fontSizeVn:this.label.fontSize=this.fontSizeDefault}else if("de"==cc.RedT.language){if(null==this.fontDe)return this.label.font=this.fontDefault,void(this.label.fontSize=this.fontSizeDefault);this.label.font=this.fontDe,0!=this.fontSizeDe?this.label.fontSize=this.fontSizeDe:this.label.fontSize=this.fontSizeDefault}else if("en"==cc.RedT.language){if(null==this.fontEn)return this.label.font=this.fontDefault,void(this.label.fontSize=this.fontSizeDefault);this.label.font=this.fontEn,0!=this.fontSizeEn?this.label.fontSize=this.fontSizeEn:this.label.fontSize=this.fontSizeDefault}else if("ru"==cc.RedT.language||"cn"==cc.RedT.language||"pt"==cc.RedT.language||"it"==cc.RedT.language||"kh"==cc.RedT.language||"kr"==cc.RedT.language||"jp"==cc.RedT.language){if(null==this.fontCn)return void(this.label.fontSize=this.fontSizeDefault);null!=this.outline&&(this.outline.active=!0),this.label.fontSize=this.fontSizeDefault-5}else if("th"==cc.RedT.language){if(null==this.fontTh)return this.label.font=this.fontDefault,void(this.label.fontSize=this.fontSizeDefault);this.label.font=this.fontTh,0!=this.fontSizeTh?this.label.fontSize=this.fontSizeTh:this.label.fontSize=this.fontSizeDefault}else if("es"==cc.RedT.language){if(null==this.fontEn)return this.label.font=this.fontDefault,void(this.label.fontSize=this.fontSizeDefault);this.label.font=this.fontTh,0!=this.fontSizeEn?this.label.fontSize=this.fontSizeEn:this.label.fontSize=this.fontSizeDefault}else if("fr"==cc.RedT.language){if(null==this.fontEn)return this.label.font=this.fontDefault,void(this.label.fontSize=this.fontSizeDefault);this.label.font=this.fontEn,0!=this.fontSizeEn?this.label.fontSize=this.fontSizeEn:this.label.fontSize=this.fontSizeDefault}else if("it"==cc.RedT.language){if(null==this.fontEn)return this.label.font=this.fontDefault,void(this.label.fontSize=this.fontSizeDefault);this.label.font=this.fontEn,0!=this.fontSizeEn?this.label.fontSize=this.fontSizeEn:this.label.fontSize=this.fontSizeDefault}else if("ru"==cc.RedT.language){if(null==this.fontEn)return this.label.font=this.fontDefault,void(this.label.fontSize=this.fontSizeDefault);this.label.font=this.fontEn,0!=this.fontSizeEn?this.label.fontSize=this.fontSizeEn:this.label.fontSize=this.fontSizeDefault}else if("my"==cc.RedT.language){if(null==this.fontEn)return this.label.font=this.fontDefault,void(this.label.fontSize=this.fontSizeDefault);this.label.font=this.fontEn,0!=this.fontSizeEn?this.label.fontSize=this.fontSizeEn:this.label.fontSize=this.fontSizeDefault}else if("id"==cc.RedT.language){if(null==this.fontEn)return this.label.font=this.fontDefault,void(this.label.fontSize=this.fontSizeDefault);this.label.font=this.fontEn,0!=this.fontSizeEn?this.label.fontSize=this.fontSizeEn:this.label.fontSize=this.fontSizeDefault}this.typeText==a.ToUpperCase?this.label.string=this.label.string.toUpperCase():this.typeText==a.ToLowerCase&&(this.label.string=this.label.string.toLowerCase())}}}),cc._RF.pop()},{EnumText:"EnumText",EventDispatcher:"EventDispatcher",Helper:"Helper"}],TheCao_item:[function(e,t){"use strict";cc._RF.push(t,"6bcb3yYhadCDJYjR6a7bVNL","TheCao_item"),cc.Class({extends:cc.Component,properties:{NhaMang:{default:null,type:cc.Label},MenhGia:{default:null,type:cc.Label},SoThe:{default:null,type:cc.Label},Seri:{default:null,type:cc.Label},HetHan:{default:null,type:cc.Label}}}),cc._RF.pop()},{}],TheCao:[function(e,t){"use strict";cc._RF.push(t,"676e1K7f8tL+pOgcGRRKm5C","TheCao");var i=e("Helper");cc.Class({extends:cc.Component,properties:{},init:function(){var e=this;Promise.all(this.node.children.map(function(e){return e.getComponent("TheCao_item")})).then(function(t){e.TheCao=t})},onEnable:function(){this.node.runAction(cc.RedT.inGame.dialog.actionShow)},onDisable:function(){cc.RedT.inGame.dialog.resetSizeDialog(this.node)},onData:function(e){this.setData(e),cc.RedT.inGame.loading.active=!1,cc.RedT.inGame.dialog.objShow&&(cc.RedT.inGame.dialog.objShow.active=!1,this.node.previous=cc.RedT.inGame.dialog.objShow),this.node.active=cc.RedT.inGame.dialog.node.active=!0,cc.RedT.inGame.dialog.objShow=this.node},getData:function(e){cc.RedT.inGame.loading.active=!0,cc.RedT.send({user:{history:{the_cao:e}}})},setData:function(e){Promise.all(this.TheCao.map(function(t,n){var a=e[n];void 0!==a?(t.node.active=!0,t.NhaMang.string=a.nhaMang,t.MenhGia.string=i.numberWithCommas(a.menhGia),t.SoThe.string=a.maThe,t.Seri.string=a.seri,t.HetHan.string=a.time):t.node.active=!1}))}}),cc._RF.pop()},{Helper:"Helper"}],ThongBaoNoHu:[function(e,t){"use strict";cc._RF.push(t,"2032a+ToBpAt7K48nuzmY5R","ThongBaoNoHu"),e("ThongBaoNoHu"),cc.Class({extends:cc.Component,properties:{animation:cc.Animation,title:cc.Label,users:cc.Label,bet:cc.Label},init:function(e){this.RedT=e},onLoad:function(){this.node.y=-133,this.node.runAction(cc.sequence(cc.moveTo(2,cc.v2(0,77)),cc.callFunc(function(){this.animation.play(),cc.RedT.audio.playNoticeJackP()},this),cc.delayTime(7),cc.callFunc(function(){this.RedT.pushNotice(),this.node.destroy()},this)))}}),cc._RF.pop()},{ThongBaoNoHu:"ThongBaoNoHu"}],TieuRed:[function(e,t){"use strict";cc._RF.push(t,"00244bdHdZHHoauw7/tgQlF","TieuRed"),cc.Class({extends:cc.Component,properties:{header:{default:null,type:cc.Node},MuaXu:{default:null,type:cc.Node},MuaTheCao:{default:null,type:cc.Node}},init:function(){this.MuaTheCao=this.MuaTheCao.getComponent("shopMuaTheCao"),this.MuaTheCao.init(),this.body=[this.MuaTheCao]},onSelectHead:function(e,t){Promise.all(this.body.map(function(e){e.node.name==t?e.node.active=!0:e.node.active=!1}))}}),cc._RF.pop()},{}],TopRank_item:[function(e,t){"use strict";cc._RF.push(t,"c8e8eSjYPhC8rddPQQGccys","TopRank_item");var i=e("Helper"),n=e("UIPopupManager");cc.Class({extends:cc.Component,properties:{UserName:cc.Label,Coins:cc.Label,button:cc.Node,buttonDeative:cc.Node,number:cc.Label},init:function(e,t,a){var o=!1;this.UserName.string=e.name,this.Coins.string=i.numberWithCommas(e.red),n.Instance.checkNextDay("ReceiveTopRank");var s=JSON.parse(localStorage.getItem("ReceiveTopRank"));if(null!=s)for(var c=0;c<s.length;c++)if(s[c].username==cc.RedT.user.name){1==s[c].received1&&(o=!0);break}t&&0==o?(this.button.active=!0,this.buttonDeative.active=!1):t&&1==o?(this.button.active=!1,this.buttonDeative.active=!0):(this.button.active=!1,this.buttonDeative.active=!1),this.number.string=a},initLeader:function(e,t){this.button.active=!1,this.buttonDeative.active=!1,this.UserName.string=e.name,this.Coins.string=i.numberWithCommas(e.bet),this.number.string=t},receiveCoins:function(){cc.RedT.send({user:{refundVideoPoker:!0,amount:5e4}});for(var e=JSON.parse(localStorage.getItem("ReceiveTopRank")),t=0;t<e.length;t++)e[t].username==cc.RedT.user.name&&(e[t].received1=!0);cc.sys.localStorage.setItem("ReceiveTopRank",JSON.stringify(e)),this.button.active=!1,this.buttonDeative.active=!0}}),cc._RF.pop()},{Helper:"Helper",UIPopupManager:"UIPopupManager"}],TopRank:[function(e,t){"use strict";cc._RF.push(t,"84e53lu3lZGPrUtIiY6nJ0e","TopRank");var i=e("Helper");cc.Class({extends:cc.Component,properties:{User:cc.Node,contentItem:cc.Node,slotGame:cc.Node,title:cc.Label},getdata20:function(){cc.RedT.send({event:{toprank:{getTop:20}}}),this.title.string=i.getLang(cc.RedT.language,"leader_board")},getdataLeader:function(e,t){var i;this.changeTitle(t),this.slotGame.active="slotbingo"==t||"slotbreak"==t||"slot243"==t,cc.RedT.send({event:{leaderboard:(i={},i[t]=20,i)}})},onData:function(e){e.top_users?this.showToptUser(e.top_users):e.topTaiXiu?this.showLeaderBoard(e.topTaiXiu):e.topSlotBingo?this.showLeaderBoard(e.topSlotBingo):e.topSlotBreak?this.showLeaderBoard(e.topSlotBreak):e.topSlot243&&this.showLeaderBoard(e.topSlot243)},showToptUser:function(e){if(this.contentItem.destroyAllChildren(),e&&e.length)for(var t=0;t<e.length;t++){var i=cc.instantiate(this.User);i.parent=this.contentItem;var n=i.getComponent("TopRank_item");0==t?n.init(e[t],!0,t+1):n.init(e[t],!1,t+1)}},showLeaderBoard:function(e){if(this.contentItem.destroyAllChildren(),e&&e.length)for(var t=0;t<e.length;t++){var i=cc.instantiate(this.User);i.parent=this.contentItem,i.getComponent("TopRank_item").initLeader(e[t],t+1)}},changeTitle:function(e){"slotbingo"==e?this.title.string="Top Slot Bingo":"slotbreak"==e?this.title.string="Top Mine Miner":"slot243"==e?this.title.string="Top Will Of Shinobi":"taixiu"==e&&(this.title.string="Top Tai Xiu")}}),cc._RF.pop()},{Helper:"Helper"}],UICardBacarat:[function(e,t){"use strict";cc._RF.push(t,"3edd9M4nPVGmqErDTicMkq3","UICardBacarat"),cc.Class({extends:cc.Component,properties:{box:cc.Node,spine:sp.Skeleton,card:cc.Sprite,posOrigin:cc.Node,sfCardDefault:cc.SpriteFrame},onLoad:function(){this.pos},openCard:function(e,t){var i=this;this.card.node.scaleX=0,this.card.node.active=!1,this.card.spriteFrame=t,this.spine.node.active=!0,"A"==e.value||"2"==e.value||"3"==e.value?this.spine.setSkin("123_all"):"4"==e.value||"5"==e.value?"heart"==e.suit?this.spine.setSkin("Co_2"):"diamond"==e.suit?this.spine.setSkin("Ro_2"):"club"==e.suit?this.spine.setSkin("Ch_2"):this.spine.setSkin("Bi_2"):"6"==e.value||"7"==e.value||"8"==e.value?"heart"==e.suit?this.spine.setSkin("Co_3"):"diamond"==e.suit?this.spine.setSkin("Ro_3"):"club"==e.suit?this.spine.setSkin("Ch_3"):this.spine.setSkin("Bi_3"):"9"==e.value||"10"==e.value?"heart"==e.suit?this.spine.setSkin("Co_4"):"diamond"==e.suit?this.spine.setSkin("Ro_4"):"club"==e.suit?this.spine.setSkin("Ch_4"):this.spine.setSkin("Bi_4"):"J"==e.value?"heart"==e.suit||"diamond"==e.suit?this.spine.setSkin("R_J"):this.spine.setSkin("B_J"):"Q"==e.value?"heart"==e.suit||"diamond"==e.suit?this.spine.setSkin("R_Q"):this.spine.setSkin("B_Q"):"K"==e.value&&("heart"==e.suit||"diamond"==e.suit?this.spine.setSkin("R_K"):this.spine.setSkin("B_K")),this.spine.timeScale=2,this.spine.setAnimation(0,"animation",!1),this.timeout=setTimeout(function(){i.card.node.active=!0,i.spine.node.active=!1,cc.tween(i.card.node).to(.1,{scaleX:1},{easing:"outCir"}).start()},750)},onDestroy:function(){null!=this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},drawCard:function(e){this.card.spriteFrame=this.sfCardDefault,this.card.node.scale=0,this.card.node.angle=0,this.spine.node.active=!1,this.card.node.active=!0,this.card.node.position=this.posOrigin.position,cc.Tween.stopAllByTarget(this.card.node),1==e||0==e?cc.tween(this.card.node).to(.1,{position:cc.v3(0,0,0),scale:1},{easing:"outCir"}).start():cc.tween(this.card.node).to(.1,{position:cc.v3(0,0,0),scale:1,angle:90},{easing:"outCir"}).start()},setCard:function(e){this.spine.node.active=!1,this.card.node.active=!0,this.card.spriteFrame=e},clearUI:function(){this.spine.node.active=!1,this.card.node.active=!1}}),cc._RF.pop()},{}],UIDatePicker:[function(e,t){"use strict";cc._RF.push(t,"6d106l+tDRL5rbAU45iCnts","UIDatePicker"),cc.Class({extends:cc.Component,properties:{lbYearMonth:cc.Label,ndDays:cc.Node,pfbDay:cc.Prefab,displayDate:cc.Label,contentShow:cc.Node,ChangeEvent:{default:[],type:cc.Component.EventHandler}},onLoad:function(){this.initData(),this.updateDate()},initData:function(){this.date=new Date(Date.now()),this.year=this.date.getFullYear(),this.month=this.date.getMonth()+1,this.day=this.date.getDate(),this.pfgListDay=[];for(var e=0;e<31;++e){var t=cc.instantiate(this.pfbDay);t.parent=this.ndDays,this.pfgListDay.push(t)}},setDate:function(e,t,i){this.date=new Date(e,t-1,i),this.year=this.date.getFullYear(),this.month=this.date.getMonth()+1,this.day=this.date.getDate(),this.updateDate()},updateDate:function(){var e=this;this.lbYearMonth.string=cc.js.formatStr("%s-%s",this.year,this.month+1);for(var t=new Date(this.year,this.month-1,0),i=t.getDate(),n=t.getDay(),a=0;a<this.pfgListDay.length;++a){var o=this.pfgListDay[a];if(a<i){o.active=!0;var s=n+a,c=Math.floor(s/7),r=s%7,l=.5*-(this.ndDays.width-o.width)+r*o.width,h=.5*(this.ndDays.height-o.height)-c*o.height;o.setPosition(l,h),o.getComponent("UIItemDay").setDay(a,a+1,this.day===a+1,function(t,i){e.day=i,e.updateDate()})}else o.active=!1}var d=("0"+this.month).slice(-2),u=("0"+this.day).slice(-2);this.displayDate.string=u+"-"+d+"-"+this.year,this.CurrentDayChoose=this.year+"/"+d+"/"+u,this.onClickClose()},onClickLeft:function(){this.month>0?this.month-=1:(this.month=11,this.year-=1),this.date.setFullYear(this.year),this.date.setMonth(this.month),this.updateDate()},onClickRight:function(){this.month<11?this.month+=1:(this.month=0,this.year+=1),this.date.setFullYear(this.year),this.date.setMonth(this.month),this.updateDate()},setPickDateCallback:function(e){this.cb=e},onClickClose:function(){this.cb&&this.cb(this.year,this.month,this.day),null!=this.ChangeEvent&&this.ChangeEvent.forEach(function(e){e.emit()}),this.contentShow.active=!1},onClickShow:function(){this.contentShow.active=!0}}),cc._RF.pop()},{}],UIGameManagerBinh:[function(e,t){"use strict";cc._RF.push(t,"d85c3I1Lu9AR5GBztr/yt7v","UIGameManagerBinh");var i=e("UIScreenLobbyBinh"),n=e("UIScreenGamePlayBinh"),a=e("HubManagerBinh"),o=e("Admob"),s=e("UIPopupManager");cc.Class({extends:cc.Component,properties:{gameId:0,screenLobby:i,screenGame:n,hubManager:a,Progress:cc.Sprite,time:cc.Label},onBtnBack:function(){cc.RedT.inGame.pauseMusic(),cc.director.loadScene("MainGame")},start:function(){this.screenLobby.init(this),this.screenGame.init(this),this.hubManager.init(this)},showScreenLobby:function(e){this.screenLobby.show(e),this.screenGame.hide()},showScreenGame:function(e){this.screenGame.show(e),this.screenLobby.hide()},onEnable:function(){this.intervalCountDown&&(clearInterval(this.intervalCountDown),this.intervalCountDown=null),this.check5minsWatchEvent()?(this.Progress.fillRange=0,this.time.node.active=!1):this.startCountDown()},onDisable:function(){this.hideCountDown()},hideCountDown:function(){this.intervalCountDown&&(clearInterval(this.intervalCountDown),this.intervalCountDown=null,this.time.node.active=!1)},startCountDown:function(){this.Progress.fillRange=1,this.time.node.active=!0;var e=JSON.parse(localStorage.getItem("timeEventWatch")),t=0;if(e)for(var i=0;i<e.length;i++)if(e[i].username==cc.RedT.user.name){t=e[i].time;break}var n=(t+3e5-Date.now())/1e3;void 0!==this.timeInterval&&clearInterval(this.timeInterval),this.intervalCountDown=setInterval(function(){this.time.string=this.secondsToHms(n),(n-=1)<=0&&(this.Progress.fillRange=0,this.hideCountDown())}.bind(this),1e3)},onClickEventWatchVideo:function(){if(this.check5minsWatchEvent()){s.Instance.coinsEventWatch();var e=(new Date).getTime(),t=JSON.parse(localStorage.getItem("timeEventWatch"));if(null!=t){for(var i=0,n=0;n<t.length;n++)if(t[n].username==cc.RedT.user.name){t[n].time=e,i=1;break}1==i?cc.sys.localStorage.setItem("timeEventWatch",JSON.stringify(t)):(t.push({username:cc.RedT.user.name,time:e}),cc.sys.localStorage.setItem("timeEventWatch",JSON.stringify(t)))}else t=[{username:cc.RedT.user.name,time:e}],cc.sys.localStorage.setItem("timeEventWatch",JSON.stringify(t));o.Instance.showRewarded(),this.startCountDown()}},check5minsWatchEvent:function(){var e=(new Date).getTime(),t=JSON.parse(localStorage.getItem("timeEventWatch")),i=null;if(null!=t&&"null"!==t)for(var n=0;n<t.length;n++)t[n].username==cc.RedT.user.name&&(i=t[n].time);return!i||e-(i=parseInt(i))>3e5},secondsToHms:function(e){e=Number(e);var t=Math.floor(e/3600),i=Math.floor(e%3600/60),n=Math.floor(e%3600%60);return(t>0?t+":":"")+(i>0?i+":":"0:")+(n>0?n+"":"0")}}),cc._RF.pop()},{Admob:"Admob",HubManagerBinh:"HubManagerBinh",UIPopupManager:"UIPopupManager",UIScreenGamePlayBinh:"UIScreenGamePlayBinh",UIScreenLobbyBinh:"UIScreenLobbyBinh"}],UIGameManagerSam:[function(e,t){"use strict";cc._RF.push(t,"884b3Mr4vZI9Iwf8jGSt/YW","UIGameManagerSam");var i=e("UIScreenLobbySam"),n=e("UIScreenGamePlaySam"),a=e("HubManagerSam"),o=e("Admob"),s=e("UIPopupManager");cc.Class({extends:cc.Component,properties:{gameId:0,screenLobby:i,screenGame:n,hubManager:a,Progress:cc.Sprite,time:cc.Label},onBtnBack:function(){cc.RedT.inGame.pauseMusic(),cc.director.loadScene("MainGame")},start:function(){this.screenLobby.init(this),this.screenGame.init(this),this.hubManager.init(this)},showScreenLobby:function(e){this.screenLobby.show(e),this.screenGame.hide()},showScreenGame:function(e){this.screenGame.show(e),this.screenLobby.hide()},onEnable:function(){this.intervalCountDown&&(clearInterval(this.intervalCountDown),this.intervalCountDown=null),this.check5minsWatchEvent()?(this.Progress.fillRange=0,this.time.node.active=!1):this.startCountDown()},onDisable:function(){this.hideCountDown()},hideCountDown:function(){this.intervalCountDown&&(clearInterval(this.intervalCountDown),this.intervalCountDown=null,this.time.node.active=!1)},startCountDown:function(){this.Progress.fillRange=1,this.time.node.active=!0;var e=JSON.parse(localStorage.getItem("timeEventWatch")),t=0;if(e)for(var i=0;i<e.length;i++)if(e[i].username==cc.RedT.user.name){t=e[i].time;break}var n=(t+3e5-Date.now())/1e3;void 0!==this.timeInterval&&clearInterval(this.timeInterval),this.intervalCountDown=setInterval(function(){this.time.string=this.secondsToHms(n),(n-=1)<=0&&(this.Progress.fillRange=0,this.hideCountDown())}.bind(this),1e3)},onClickEventWatchVideo:function(){if(this.check5minsWatchEvent()){s.Instance.coinsEventWatch();var e=(new Date).getTime(),t=JSON.parse(localStorage.getItem("timeEventWatch"));if(null!=t){for(var i=0,n=0;n<t.length;n++)if(t[n].username==cc.RedT.user.name){t[n].time=e,i=1;break}1==i?cc.sys.localStorage.setItem("timeEventWatch",JSON.stringify(t)):(t.push({username:cc.RedT.user.name,time:e}),cc.sys.localStorage.setItem("timeEventWatch",JSON.stringify(t)))}else t=[{username:cc.RedT.user.name,time:e}],cc.sys.localStorage.setItem("timeEventWatch",JSON.stringify(t));o.Instance.showRewarded(),this.startCountDown()}},check5minsWatchEvent:function(){var e=(new Date).getTime(),t=JSON.parse(localStorage.getItem("timeEventWatch")),i=null;if(null!=t&&"null"!==t)for(var n=0;n<t.length;n++)t[n].username==cc.RedT.user.name&&(i=t[n].time);return!i||e-(i=parseInt(i))>3e5},secondsToHms:function(e){e=Number(e);var t=Math.floor(e/3600),i=Math.floor(e%3600/60),n=Math.floor(e%3600%60);return(t>0?t+":":"")+(i>0?i+":":"0:")+(n>0?n+"":"0")}}),cc._RF.pop()},{Admob:"Admob",HubManagerSam:"HubManagerSam",UIPopupManager:"UIPopupManager",UIScreenGamePlaySam:"UIScreenGamePlaySam",UIScreenLobbySam:"UIScreenLobbySam"}],UIGameManagerTienLenSolo:[function(e,t){"use strict";cc._RF.push(t,"d5cb2agwn1LOqYg7aqMDjd5","UIGameManagerTienLenSolo");var i=e("UIScreenLobbyTienLenSolo"),n=e("UIScreenGamePlayTienLenSolo"),a=e("HubManagerTienLenSolo"),o=e("Admob"),s=e("UIPopupManager");cc.Class({extends:cc.Component,properties:{gameId:0,screenLobby:i,screenGame:n,hubManager:a,Progress:cc.Sprite,time:cc.Label},onBtnBack:function(){cc.RedT.inGame.pauseMusic(),cc.director.loadScene("MainGame")},start:function(){this.screenLobby.init(this),this.screenGame.init(this),this.hubManager.init(this)},showScreenLobby:function(e){this.screenLobby.show(e),this.screenGame.hide()},showScreenGame:function(e){this.screenGame.show(e),this.screenLobby.hide()},onEnable:function(){this.intervalCountDown&&(clearInterval(this.intervalCountDown),this.intervalCountDown=null),this.check5minsWatchEvent()?(this.Progress.fillRange=0,this.time.node.active=!1):this.startCountDown()},onDisable:function(){this.hideCountDown()},hideCountDown:function(){this.intervalCountDown&&(clearInterval(this.intervalCountDown),this.intervalCountDown=null,this.time.node.active=!1)},startCountDown:function(){this.Progress.fillRange=1,this.time.node.active=!0;var e=JSON.parse(localStorage.getItem("timeEventWatch")),t=0;if(e)for(var i=0;i<e.length;i++)if(e[i].username==cc.RedT.user.name){t=e[i].time;break}var n=(t+3e5-Date.now())/1e3;void 0!==this.timeInterval&&clearInterval(this.timeInterval),this.intervalCountDown=setInterval(function(){this.time.string=this.secondsToHms(n),(n-=1)<=0&&(this.Progress.fillRange=0,this.hideCountDown())}.bind(this),1e3)},onClickEventWatchVideo:function(){if(this.check5minsWatchEvent()){s.Instance.coinsEventWatch();var e=(new Date).getTime(),t=JSON.parse(localStorage.getItem("timeEventWatch"));if(null!=t){for(var i=0,n=0;n<t.length;n++)if(t[n].username==cc.RedT.user.name){t[n].time=e,i=1;break}1==i?cc.sys.localStorage.setItem("timeEventWatch",JSON.stringify(t)):(t.push({username:cc.RedT.user.name,time:e}),cc.sys.localStorage.setItem("timeEventWatch",JSON.stringify(t)))}else t=[{username:cc.RedT.user.name,time:e}],cc.sys.localStorage.setItem("timeEventWatch",JSON.stringify(t));o.Instance.showRewarded(),this.startCountDown()}},check5minsWatchEvent:function(){var e=(new Date).getTime(),t=JSON.parse(localStorage.getItem("timeEventWatch")),i=null;if(null!=t&&"null"!==t)for(var n=0;n<t.length;n++)t[n].username==cc.RedT.user.name&&(i=t[n].time);return!i||e-(i=parseInt(i))>3e5},secondsToHms:function(e){e=Number(e);var t=Math.floor(e/3600),i=Math.floor(e%3600/60),n=Math.floor(e%3600%60);return(t>0?t+":":"")+(i>0?i+":":"0:")+(n>0?n+"":"0")}}),cc._RF.pop()},{Admob:"Admob",HubManagerTienLenSolo:"HubManagerTienLenSolo",UIPopupManager:"UIPopupManager",UIScreenGamePlayTienLenSolo:"UIScreenGamePlayTienLenSolo",UIScreenLobbyTienLenSolo:"UIScreenLobbyTienLenSolo"}],UIGamePlaySicbo:[function(e,t){"use strict";cc._RF.push(t,"8fc09arzGlEu7UEN8QnTn1N","UIGamePlaySicbo");var i=e("UIUserSicbo"),n=e("UIGateSicbo"),a=e("Helper"),o=e("VKObjectPoolManager"),s=[1e3,2e3,5e3,1e4,5e4,1e5,5e5,1e6,5e7],c=e("Sicbo_dialog"),r=e("SicboChat"),l=e("Notice"),h=e("Sicbo_setting"),d=e("UIPopupManager"),u=e("Admob");cc.Class({extends:cc.Component,properties:{MiniPanel:cc.Prefab,redhat:cc.Node,notice:l,users:{default:[],type:i},audioXocDia:cc.AudioSource,txtTotalUser:cc.Label,chat:r,dialog:c,boxTutorial:cc.Node,nodeGlowBet:cc.Node,arrBoxBet:{default:[],type:cc.Node},boxUI:cc.Node,boxWatchVideo:cc.Node,Progress:cc.Sprite,time:cc.Label,scrollChip:cc.ScrollView,animationResult:cc.Animation,labelStatus:cc.Label,poolChips:o,arrChips:{default:[],type:cc.SpriteFrame},boxNotify:cc.Node,labelNotify:cc.Label,gates:{default:[],type:n},contentHistory:cc.Node,sfSmallHistoryTai:cc.SpriteFrame,sfSmallHistoryXiu:cc.SpriteFrame,sfSmallHistoryBao:cc.SpriteFrame,txtPoints:cc.Label,contentPoints:cc.Node,arrDiceBig:{default:[],type:cc.SpriteFrame},dices:{default:[],type:cc.Sprite},arrDiceNgieng:{default:[],type:cc.SpriteFrame},txtPhien:cc.Label,txtCuoc:cc.Label,spriteTime:cc.Sprite,txtTime:cc.Label,userMine:i,sicboSettings:h,frame:cc.Sprite},onLoad:function(){this.initComponent(),this.poolChips.init(),this.percentScroll=0,this.isShowBoxUI=!1,cc.RedT.inGame=this,cc.RedT.setting.sicbo={},this.arrEffectDatCuaNode={},this.totalCuocMinePhien=0,this.txtCuoc.string="0",this.indexCuaChosing=-1;for(var e=0;e<this.gates.length;e++)this.gates[e].init(this);this.chat.init(this),this.animationResult.play("AnimIdleDices"),localStorage.setItem("playing_game","Sicbo"),localStorage.setItem("playing_money",5e4)},showHistorys:function(e){for(var t=this.itemsHistory.length-1,i=0;i<e.length;i++){this.itemsHistory[t].node.scale=cc.v2(0,0);var n=this.getTypeHistory(e[i]);this.itemsHistory[t].spriteFrame="xiu"==n?this.sfSmallHistoryXiu:"tai"==n?this.sfSmallHistoryTai:this.sfSmallHistoryBao,cc.tween(this.itemsHistory[t].node).to(.5,{scale:1},{easing:"backOut"}).start(),t--}},onBtnToggleBoxUI:function(){var e=this;0==this.boxUI.active?(this.boxUI.active=!0,this.boxUI.position=cc.v2(-600,70),cc.Tween.stopAllByTarget(this.boxUI),cc.tween(this.boxUI).to(.25,{position:cc.v2(30,70)},{easing:"backOut"}).start()):(cc.Tween.stopAllByTarget(this.boxUI),cc.tween(this.boxUI).to(.25,{position:cc.v2(-600,70)},{easing:"backCir"}).call(function(){e.boxUI.active=!1}).start())},onBtnToggleBoxWatchVideo:function(){var e=this;cc.Tween.stopAllByTarget(this.boxWatchVideo),0==this.isShowboxWatchVideo?(this.isShowboxWatchVideo=!0,this.boxWatchVideo.position=cc.v2(-250,0),this.boxWatchVideo.active=!0,cc.tween(this.boxWatchVideo).to(.25,{position:cc.v2(-20,0)}).start()):(this.isShowboxWatchVideo=!1,cc.tween(this.boxWatchVideo).to(.25,{position:cc.v2(-250,0)}).call(function(){e.boxWatchVideo.active=!0}).start())},changerBet:function(e,t){if(cc.RedT.audio.playClick(),this.indexCurrentBet!=t){cc.Tween.stopAllByTarget(this.arrBoxBet[this.indexCurrentBet]),cc.Tween.stopAllByTarget(this.arrBoxBet[t]),cc.tween(this.arrBoxBet[this.indexCurrentBet]).to(.2,{scale:1},{easing:"linear"}).start(),cc.tween(this.arrBoxBet[t]).to(.2,{scale:1.2},{easing:"linear"}).start();var i=s[t];this.indexCurrentBet=t,this.nodeGlowBet.parent=this.arrBoxBet[t],this.nodeGlowBet.position=cc.v2(0,0),this.cuoc=i}},onBtnScrollLeft:function(){this.percentScroll-=.3,this.percentScroll<=0&&(this.percentScroll=0),this.scrollChip.scrollToPercentHorizontal(this.percentScroll,.4)},onBtnScrollRight:function(){this.percentScroll+=.3,this.percentScroll>=1&&(this.percentScroll=1),this.scrollChip.scrollToPercentHorizontal(this.percentScroll,.4)},showHistoryLastest:function(e){for(var t=e[0],i=0;i<this.itemsPoint.length;i++)this.itemsPoint[i].node.scale=cc.v2(0,0),this.itemsPoint[i].spriteFrame=this.arrDiceBig[t[i]-1],cc.tween(this.itemsPoint[i].node).to(.5,{scale:1},{easing:"backOut"}).start()},getGatesTypeWin:function(e){for(var t in e)"1"==t?(delete e[t],e.one=1):"2"==t?(delete e[t],e.two=1):"3"==t?(delete e[t],e.three=1):"4"==t?(delete e[t],e.four=1):"5"==t?(delete e[t],e.five=1):"6"==t?(delete e[t],e.six=1):"point4"==t?(delete e[t],e.point04=1):"point5"==t?(delete e[t],e.point05=1):"point6"==t?(delete e[t],e.point06=1):"point7"==t?(delete e[t],e.point07=1):"point8"==t?(delete e[t],e.point08=1):"point9"==t&&(delete e[t],e.point09=1);return e},showGatesWin:function(e){for(var t in e=this.getGatesTypeWin(e)){var i=t,n=this.gates.find(function(e){return e.gateType==i});null!=n&&(n.glow.active=!0)}},onBtnHistory:function(){this.dialog.showHistory()},onBtnRank:function(){this.dialog.showTop()},onBtnSetting:function(){this.dialog.showSetting()},showUserMineWin:function(e){var t=this,i=e.find(function(e){return e.name==cc.RedT.user.name});if(null!=i&&i.betwin>0){var n={red:cc.RedT.user.red};n.red+=i.betwin,cc.RedT.userData(n),t.userMine.txtBalance.string=a.numberWithCommas(n.red),t.userMine.txtWin.string="+"+a.numberWithCommas(i.betwin),t.userMine.boxWin.position=cc.v2(0,0),t.userMine.boxWin.active=!0,cc.Tween.stopAllByTarget(t.userMine.boxWin),cc.tween(t.userMine.boxWin).to(1,{position:cc.v2(0,50)},{easing:"linear"}).delay(2).call(function(){t.userMine.boxWin.active=!1}).start()}},showUserView:function(e,t){e.node.active=!0,e.init(t.name,t.red,t.avatar)},onData:function(e){if(void 0!==e.sicbo){if(void 0!==e.sicbo.viewUsers&&e.sicbo.viewUsers.length>0){for(var t=0;t<e.sicbo.viewUsers.length;t++)e.sicbo.viewUsers[t].name==cc.RedT.user.name&&e.sicbo.viewUsers.splice(t,1);this.txtTotalUser.string=e.sicbo.viewUsers.length;var i=0;for(t=0;t<this.users.length;t++)t<=e.sicbo.viewUsers.length-1?this.showUserView(this.users[t],e.sicbo.viewUsers[i]):this.users[t].node.active=!1,i++}if(void 0!==e.sicbo.chat&&this.chat.onData(e.sicbo.chat),void 0!==e.sicbo.viewlogs&&this.dialog.history.onData(e.sicbo.viewlogs.data),void 0!==e.sicbo.tops&&this.dialog.top.onData(e.sicbo.tops),void 0!==e.sicbo.finish){if(void 0!==e.sicbo.finish.dices)for(this.audioXocDia.play(),this.animationResult.play("AnimShowResuleDices"),t=0;t<e.sicbo.finish.dices.length;t++)this.dices[t].spriteFrame=this.arrDiceNgieng[e.sicbo.finish.dices[t]-1];this.showGatesWin(e.sicbo.finish.gatesWin),this.showUserMineWin(e.sicbo.finish.bet_users)}if(void 0!==e.sicbo.notice&&this.showNotify(e.sicbo.notice),void 0!==e.sicbo.logs&&(this.showHistorys(e.sicbo.logs),this.showHistoryLastest(e.sicbo.logs)),void 0!==e.sicbo.session&&(this.txtPhien.string="#"+e.sicbo.session),null!=e.sicbo.dataMe){var n=0;for(var o in e.sicbo.dataMe.cuoc)if(e.sicbo.dataMe.cuoc[o]>0){n+=e.sicbo.dataMe.cuoc[o];var s=this.gates.find(function(e){return e.gateType==o});null!=s&&(s.labelMe.node.parent.active=!0,s.labelMe.string=a.nFormatter(e.sicbo.dataMe.cuoc[o]))}this.txtCuoc.string=a.nFormatter(n)}if(void 0!==e.sicbo.data)for(var o in e.sicbo.data)null==this.dataCuocTotal&&(this.dataCuocTotal={}),null==this.dataCuocTotal[o]&&(this.dataCuocTotal[o]=0),this.dataCuocTotal[o]!=e.sicbo.data[o]&&(this.dataCuocTotal[o]=e.sicbo.data[o],this.effectDatCuoc(o,e.sicbo.data[o]));void 0!==e.sicbo.gamestimes&&(this.gamestimes=e.sicbo.gamestimes,cc.RedT.setting.sicbo.gamestimes=e.sicbo.gamestimes),void 0!==e.sicbo.time_remain&&(void 0!==e.sicbo.gamestimes&&(this.gamestimes=e.sicbo.gamestimes,cc.RedT.setting.sicbo.gamestimes=e.sicbo.gamestimes),cc.RedT.setting.sicbo.time_remain=e.sicbo.time_remain-2,this.parseStatusGame(),e.sicbo.time_remain>=this.gamestimes.wait_time&&e.sicbo.time_remain<=this.gamestimes.play_time?this.showNotify(cc.RedT.Frontendlanguages[cc.RedT.language].roulette_new):e.sicbo.time_remain<this.gamestimes.wait_time?this.showNotify(cc.RedT.Frontendlanguages[cc.RedT.language].roulette_stop):e.sicbo.time_remain>this.gamestimes.play_time&&this.showNotify(cc.RedT.Frontendlanguages[cc.RedT.language].roulette_ready),this.txtTime.string=a.numberPad(this.parsePlayTime()),this.playTime())}void 0!==e.user&&(e.user.newLevel&&e.user.oldLevel&&e.user.bonus&&e.user.newLevel>e.user.oldLevel&&(d.Instance.noticeBonusLvl(e),cc.RedT.user.systemLevel=e.newLevel),cc.RedT.userData(e.user)),void 0!==e.notice&&d.Instance.notice.show({title:a.getLang(cc.RedT.language,"notice"),text:text})},getTypeHistory:function(e){for(var t=0,i=0;i<e.length;i++)t+=e[i];return e[0]==e[1]==e[2]?cc.RedT.Frontendlanguages[cc.RedT.language].storm:t>=4&&t<=10?"xiu":t>=11&&t<=17?"tai":void 0},effectDatCuoc:function(e,t){if(cc.RedT.audio.playBetting(),!(t<=0)){var i=this,n=this.gates.find(function(t){return t.gateType==e});if(null!=n){n.labelTotal.string=a.nFormatter(t);for(var o=parseInt(5*Math.random()+1),s=0;s<o;s++){var c=i.poolChips.BorrowObject("chip"),r=cc.v2(0,0);c.parent=n.chip;var l=cc.v2(0,5*n.chip.children.length);c.position=new cc.v2(l.x,l.y+20),cc.tween(c).to(.3,{position:l},{easing:"backOut"}).call(function(){n.chip.children.length>=10&&i.filterEffectDatCuoc(r,n)}).start(),c.getComponent(cc.Sprite).spriteFrame=i.arrChips[parseInt(Math.random()*i.arrChips.length)]}}}},filterEffectDatCuoc:function(e,t){for(var i=t.chip.children,n=0;n<i.length-10;n++)this.poolChips.GiveBackObject(t.chip.children[n]);for(n=0;n<t.chip.children.length;n++)cc.Tween.stopAllByTarget(t.chip.children[n]),cc.tween(t.chip.children[n]).to(.3,{position:cc.v2(0,e.y+5*n)},{easing:"backOut"}).start()},clearUI:function(){this.txtCuoc.string="0";for(var e=0;e<this.gates.length;e++)this.gates[e].clearUI();this.poolChips.GiveBackAll()},showNotify:function(e){var t=this;this.boxNotify.active=!0,this.boxNotify.opacity=0,this.labelNotify.string=e,this.boxNotify.position=cc.v2(0,200),cc.Tween.stopAllByTarget(this.boxNotify),cc.tween(this.boxNotify).to(.5,{position:cc.v2(0,0),opacity:255},{easing:"backOut"}).delay(1).call(function(){t.hideNotify()}).start()},hideNotify:function(){var e=this;cc.tween(this.boxNotify).to(.2,{position:cc.v2(0,200)},{opacity:0},{easing:"linear"}).call(function(){e.boxNotify.active=!1}).start()},playTime:function(){void 0!==this.timeInterval&&clearInterval(this.timeInterval),this.timeInterval=setInterval(function(){this.parseStatusGame(),this.txtTime.string=a.numberPad(this.parsePlayTime()),cc.RedT.setting.sicbo.time_remain<=0&&(cc.RedT.send({g:{sicbo:{regOpen:!0}}}),clearInterval(this.timeInterval),this.timeInterval=null),cc.RedT.setting.sicbo.time_remain--}.bind(this),1e3)},onBtnTutorial:function(){cc.Tween.stopAllByTarget(this.boxTutorial),this.boxTutorial.active=!0},hideTutorial:function(){this.boxTutorial.active=!1},parseStatusGame:function(){var e=this;cc.RedT.setting.sicbo.time_remain>=cc.RedT.setting.sicbo.gamestimes.wait_time&&cc.RedT.setting.sicbo.time_remain<=cc.RedT.setting.sicbo.gamestimes.play_time?("Betting"!=this.statusGame&&(cc.RedT.audio.playStart(),this.statusGame="Betting",this.animationResult.play("AnimIdleDices")),this.labelStatus.string=cc.RedT.Frontendlanguages[cc.RedT.language].roulette_bet):cc.RedT.setting.sicbo.time_remain<cc.RedT.setting.sicbo.gamestimes.wait_time?("Result"!=this.statusGame&&(this.statusGame="Result"),this.labelStatus.string=cc.RedT.Frontendlanguages[cc.RedT.language].turning_result):cc.RedT.setting.sicbo.time_remain>cc.RedT.setting.sicbo.gamestimes.play_time&&("Pending"!=this.statusGame&&(this.animationResult.play("AnimIdleDices"),this.statusGame="Pending",cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.5,{position:cc.v2(-350,0)},{easing:"linear"}).delay(2).call(function(){e.clearUI()}).start()),this.labelStatus.string=cc.RedT.Frontendlanguages[cc.RedT.language].roulette_wait)},parsePlayTime:function(){var e=cc.RedT.setting.sicbo.time_remain;return e>=this.gamestimes.wait_time&&e<=this.gamestimes.play_time?e-this.gamestimes.wait_time<0?0:e-this.gamestimes.wait_time:e<this.gamestimes.wait_time?e<0?0:e:e>this.gamestimes.play_time?e-this.gamestimes.play_time<0?0:e-this.gamestimes.play_time:void 0},onEnable:function(){this.initComponent(),this.regEvent(!0),this.userMine.txtBalance.string=a.numberWithCommas(cc.RedT.user.red),this.userMine.txtName.string=cc.RedT.user.name,this.changerBet(null,0),this.frame&&cc.RedT.MainGame.updateFrame(Math.floor(cc.RedT.user.systemLevel/5)-1,this.frame),cc.RedT.updateAvatar(cc.RedT.user.avatar,this.userMine.avatar),this.intervalCountDown&&(clearInterval(this.intervalCountDown),this.intervalCountDown=null),this.check5minsWatchEvent()?(this.Progress.fillRange=0,this.time.node.active=!1):this.startCountDown()},onDisable:function(){this.regEvent(!1),null!=this.timeInterval&&(clearInterval(this.timeInterval),this.timeInterval=null),this.hideCountDown()},regEvent:function(){cc.RedT.send({g:{sicbo:{regOpen:!0,view:!0}}})},signOut:function(){cc.RedT.send({g:{sicbo:{view:!1}}}),void 0!==this.timeOut&&clearTimeout(this.timeOut),null!=this.timeInterval&&(clearInterval(this.timeInterval),this.timeInterval=null),this.hideCountDown(),cc.RedT.inGame.sicboSettings.audioBG.pause(),localStorage.setItem("playing_game",""),localStorage.setItem("playing_money",0),cc.director.loadScene("MainGame")},initComponent:function(){this.initItemsHistory(),this.initPoints()},initPoints:function(){this.itemsPoint=[];for(var e=0;e<this.contentPoints.children.length;e++)this.itemsPoint.push(this.contentPoints.children[e].getComponent(cc.Sprite))},initItemsHistory:function(){this.itemsHistory=[];for(var e=0;e<this.contentHistory.children.length;e++)this.itemsHistory.push(this.contentHistory.children[e].getComponent(cc.Sprite))},hideCountDown:function(){this.intervalCountDown&&(clearInterval(this.intervalCountDown),this.intervalCountDown=null,this.time.node.active=!1)},startCountDown:function(){this.Progress.fillRange=1,this.time.node.active=!0;var e=JSON.parse(localStorage.getItem("timeEventWatch")),t=0;if(e)for(var i=0;i<e.length;i++)if(e[i].username==cc.RedT.user.name){t=e[i].time;break}var n=(t+3e5-Date.now())/1e3;void 0!==this.timeInterval&&clearInterval(this.timeInterval),this.intervalCountDown=setInterval(function(){this.time.string=this.secondsToHms(n),(n-=1)<=0&&(this.Progress.fillRange=0,this.hideCountDown())}.bind(this),1e3)},onClickEventWatchVideo:function(){if(this.check5minsWatchEvent()){d.Instance.coinsEventWatch();var e=(new Date).getTime(),t=JSON.parse(localStorage.getItem("timeEventWatch"));if(null!=t){for(var i=0,n=0;n<t.length;n++)if(t[n].username==cc.RedT.user.name){t[n].time=e,i=1;break}1==i?cc.sys.localStorage.setItem("timeEventWatch",JSON.stringify(t)):(t.push({username:cc.RedT.user.name,time:e}),cc.sys.localStorage.setItem("timeEventWatch",JSON.stringify(t)))}else t=[{username:cc.RedT.user.name,time:e}],cc.sys.localStorage.setItem("timeEventWatch",JSON.stringify(t));u.Instance.showRewarded(),this.startCountDown()}},check5minsWatchEvent:function(){var e=(new Date).getTime(),t=JSON.parse(localStorage.getItem("timeEventWatch")),i=null;if(null!=t&&"null"!==t)for(var n=0;n<t.length;n++)t[n].username==cc.RedT.user.name&&(i=t[n].time);return!i||e-(i=parseInt(i))>3e5},secondsToHms:function(e){e=Number(e);var t=Math.floor(e/3600),i=Math.floor(e%3600/60),n=Math.floor(e%3600%60);return(t>0?t+":":"")+(i>0?i+":":"0:")+(n>0?n+"":"0")},playMusic:function(){this.sicboSettings.audioBG.play()},pauseMusic:function(){this.sicboSettings.audioBG.pause()}}),cc._RF.pop()},{Admob:"Admob",Helper:"Helper",Notice:"Notice",SicboChat:"SicboChat",Sicbo_dialog:"Sicbo_dialog",Sicbo_setting:"Sicbo_setting",UIGateSicbo:"UIGateSicbo",UIPopupManager:"UIPopupManager",UIUserSicbo:"UIUserSicbo",VKObjectPoolManager:"VKObjectPoolManager"}],UIGameplayBacarat:[function(e,t){"use strict";var i;cc._RF.push(t,"3df1dUYvDdFwb42J3l1IJp3","UIGameplayBacarat");var n=e("UIUserBacarat"),a=e("UIGateBacarat"),o=e("UICardBacarat"),s=e("Bacarat_dialog"),c=e("VKObjectPoolManager"),r=[1e3,5e3,1e4,5e4,1e5,5e5,1e6,5e6,1e7],l=e("Helper"),h=e("Card"),d=e("BacaratChat"),u=(e("FacebookManager").call,e("UIPopupManager")),p=e("Admob");cc.Class(((i={extends:cc.Component,properties:{audioBG:cc.AudioSource,redhat:cc.Node,txtPointPlayer:cc.Label,txtPointBanker:cc.Label,dialog:s,boxTutorial:cc.Node,chat:d,dealer:sp.Skeleton,usersList:{default:[],type:n},scrollChip:cc.ScrollView,labelCountUser:cc.Label,winPlayer:sp.Skeleton,winBanker:sp.Skeleton,boxUI:cc.Node,boxWatchVideo:cc.Node,Progress:cc.Sprite,time:cc.Label,nodeNotice:cc.Node,prefabNotice:cc.Prefab,cardManager:h,poolChips:c,playerCards:{default:[],type:o},bankerCards:{default:[],type:o},arrBoxBet:{default:[],type:cc.Node},contentHistory:cc.Node,arrLog:{default:[],type:cc.Sprite},arrLogSfPlayer:{default:null,type:cc.SpriteFrame},arrLogSfBanker:{default:null,type:cc.SpriteFrame},arrLogSfTie:{default:null,type:cc.SpriteFrame},arrChips:{default:[],type:cc.SpriteFrame},gates:{default:[],type:a},nodeGlowBet:cc.Node,labelTime:cc.Label,titleTime:cc.Label,txtPhien:cc.Label,txtCuoc:cc.Label,userMine:n,frame:cc.Sprite},onLoad:function(){cc.RedT.inGame=this,this.initComponent(),this.animsDealer=[],this.animsTimeout=[],this.poolChips.init(),this.cardManager.init(),this.percentScroll=0,this.scrollChip.scrollToPercentHorizontal(this.percentScroll,.4),this.isShowBoxUI=!1,this.receivedFinish=!1,this.dealer.setCompleteListener(this.completeDealerAnimation);for(var e=0;e<this.usersList.length;e++)this.usersList[e].node.active=!1;for(cc.RedT.setting.bacarat=cc.RedT.setting.bacarat||{regOpen:!1,data:{meplayer:0,mebanker:0,metie:0,meplayer_pair:0,mebanker_pair:0,player:0,banker:0,tie:0,player_pair:0,banker_pair:0},logLV:{},red:!0,bet:"1000"},this.resetData(),this.arrEffectDatCuaNode={},this.dataMeCuoc={},this.totalCuocMinePhien=0,this.txtCuoc.string="0",this.indexCuaChosing=-1,this.chat.init(this),cc.RedT.IS_LOGIN&&this.DataHandling(cc.RedT.setting.bacarat.data),e=0;e<this.gates.length;e++)this.gates[e].init(this);void 0!==cc.RedT.setting.bacarat.time_remain&&(cc.RedT.setting.bacarat.time_remain++,this.nextRealTime(),this.playTime()),localStorage.setItem("playing_game","Baccarat"),localStorage.setItem("playing_money",5e4)},playMusic:function(){null!=this&&null!=this.audioBG&&this.audioBG.play()},pauseMusic:function(){null!=this&&null!=this.audioBG&&this.audioBG.stop()},onBtnScrollLeft:function(){this.percentScroll-=.3,this.percentScroll<=0&&(this.percentScroll=0),this.scrollChip.scrollToPercentHorizontal(this.percentScroll,.4)},onBtnScrollRight:function(){this.percentScroll+=.3,this.percentScroll>=1&&(this.percentScroll=1),this.scrollChip.scrollToPercentHorizontal(this.percentScroll,.4)},onBtnHistory:function(){this.dialog.showHistory()},onBtnRank:function(){this.dialog.showTop()},onBtnSetting:function(){this.dialog.showSetting()},onBtnTutorial:function(){cc.Tween.stopAllByTarget(this.boxTutorial),this.boxTutorial.active=!0},hideTutorial:function(){this.boxTutorial.active=!1},completeDealerAnimation:function(e){console.log("Complete Dealer:"+e.animation.name)},userData:function(e){e.red&&(this.userMine.txtBalance.string=l.numberWithCommas(e.red))},effectDatCuoc:function(e,t){if(cc.RedT.audio.playBetting(),!(t<=0)){var i=this,n=this.gates.find(function(t){return t.gateType==e});if(null!=n)for(var a=parseInt(5*Math.random()+1),o=0;o<a;o++){var s=i.poolChips.BorrowObject("chip"),c=cc.v2(0,0);s.parent=n.chip;var r=cc.v2(0,5*n.chip.children.length);s.position=new cc.v2(r.x,r.y+20),cc.tween(s).to(.3,{position:r},{easing:"backOut"}).call(function(){n.chip.children.length>=10&&i.filterEffectDatCuoc(c,n)}).start(),s.getComponent(cc.Sprite).spriteFrame=i.arrChips[parseInt(Math.random()*i.arrChips.length)]}}},filterEffectDatCuoc:function(e,t){for(var i=t.chip.children,n=0;n<i.length-10;n++)this.poolChips.GiveBackObject(t.chip.children[n]);for(n=0;n<t.chip.children.length;n++)cc.Tween.stopAllByTarget(t.chip.children[n]),cc.tween(t.chip.children[n]).to(.3,{position:cc.v2(0,e.y+5*n)},{easing:"backOut"}).start()},nextRealTime:function(){if(cc.RedT.setting.bacarat.time_remain>cc.RedT.setting.bacarat.gamestimes.play_time+1){var e=l.numberPad(cc.RedT.setting.bacarat.time_remain-(cc.RedT.setting.bacarat.gamestimes.play_time+2),2);this.labelTime.node.color=cc.Color.RED,this.labelTime.string=l.numberPad(e,2),this.titleTime.string="WAITING"}else this.titleTime.string="BETTING",cc.RedT.setting.bacarat.time_remain>0&&(e=l.numberPad(cc.RedT.setting.bacarat.time_remain-1,2),this.labelTime.string=e,this.labelTime.node.color=cc.Color.BLACK)},onEnable:function(){this.initComponent(),this.regEvent(!0),this.userMine.txtBalance.string=l.numberWithCommas(cc.RedT.user.red),this.userMine.txtName.string=cc.RedT.user.name,cc.RedT.updateAvatar(cc.RedT.user.avatar,this.userMine.avatar),this.frame&&cc.RedT.MainGame.updateFrame(Math.floor(cc.RedT.user.systemLevel/5)-1,this.frame),this.changerBet(null,0),this.intervalCountDown&&(clearInterval(this.intervalCountDown),this.intervalCountDown=null),this.check5minsWatchEvent()?(this.Progress.fillRange=0,this.time.node.active=!1):this.startCountDown()},onDisable:function(){this.regEvent(!1),this.receivedFinish=!1,null!=this.timeInterval&&(clearInterval(this.timeInterval),this.timeInterval=null);for(var e=0;e<this.animsTimeout.length;e++)clearTimeout(this.animsTimeout[e]);this.hideCountDown()},regEvent:function(){cc.RedT.send({g:{bacarat:{regOpen:!0,view:!0}}})},DataHandling:function(e){void 0!==e.player&&this.gates[0].totallCuoc(e.player),void 0!==e.banker&&this.gates[1].totallCuoc(e.banker),void 0!==e.tie&&this.gates[2].totallCuoc(e.tie),void 0!==e.player_pair&&this.gates[3].totallCuoc(e.player_pair),void 0!==e.banker_pair&&this.gates[4].totallCuoc(e.banker_pair),void 0!==e.meplayer&&(this.gates[0].meCuoc(e.meplayer),this.dataMeCuoc.meplayer=e.meplayer,this.effectDatCuoc("player",e.meplayer)),void 0!==e.mebanker&&(this.gates[1].meCuoc(e.mebanker),this.dataMeCuoc.mebanker=e.mebanker,this.effectDatCuoc("banker",e.mebanker)),void 0!==e.metie&&(this.gates[2].meCuoc(e.metie),this.dataMeCuoc.metie=e.metie,this.effectDatCuoc("tie",e.metie)),void 0!==e.meplayer_pair&&(this.gates[3].meCuoc(e.meplayer_pair),this.dataMeCuoc.meplayer_pair=e.meplayer_pair,this.effectDatCuoc("player_pair",e.meplayer_pair)),void 0!==e.mebanker_pair&&(this.gates[4].meCuoc(e.mebanker_pair),this.dataMeCuoc.mebanker_pair=e.mebanker_pair,this.effectDatCuoc("banker_pair",e.mebanker_pair));var t=0;for(var i in this.dataMeCuoc)t+=this.dataMeCuoc[i];this.txtCuoc.string=l.ToKMB(t)},updateLogs:function(){for(var e=0;e<this.arrLog.length;e++)this.arrLog[e].node.active=!1;for(cc.RedT.setting.bacarat.logs.length>10&&cc.RedT.setting.bacarat.logs.pop(),e=0;e<cc.RedT.setting.bacarat.logs.length;e++){this.arrLog[e].node.active=!0;var t=cc.RedT.setting.bacarat.logs[cc.RedT.setting.bacarat.logs.length-1-e].outcome;"player"==t?this.arrLog[e].spriteFrame=this.arrLogSfPlayer:"banker"==t?this.arrLog[e].spriteFrame=this.arrLogSfBanker:"tie"==t&&(this.arrLog[e].spriteFrame=this.arrLogSfTie)}},covertCardName:function(e){var t=e.suit,i=e.value;return i="J"==i?11:"Q"==i?12:"K"==i?13:"A"==i?1:parseInt(i),t="heart"==t?1:"diamond"==t?0:"club"==t?3:2,this.cardManager.getCard(i-1,t)},showCardPlayer:function(e){for(var t=0;t<e.length;t++)this.playerCards[t].setCard(this.covertCardName(e[t]))},showCardBanker:function(e){for(var t=0;t<e.length;t++)this.bankerCards[t].setCard(this.covertCardName(e[t]))},showGatesWin:function(e){for(var t=0;t<this.gates.length;t++)this.gates[t].gateType==e.outcome&&(this.gates[t].glow.active=!0);"both"==e.pair?(this.gates[3].glow.active=!0,this.gates[4].glow.active=!0):"player"==e.pair?this.gates[3].glow.active=!0:"banker"==e.pair&&(this.gates[4].glow.active=!0)},status:function(e){if(1==e.win){var t=this;this.userMine.boxWin.active=!0,this.userMine.txtWin.string="+"+l.ToKMB(e.bet),cc.Tween.stopAllByTarget(t.userMine.boxWin);var i={};i.red=parseInt(cc.RedT.user.red)+e.bet,this.userData(i),cc.RedT.userData(i),cc.tween(t.userMine.boxWin).to(1,{position:cc.v2(0,50)},{easing:"linear"}).delay(2).call(function(){t.userMine.boxWin.active=!1}).start()}},showWinNotify:function(e){"player"==e.outcome?(this.winPlayer.node.active=!0,this.winPlayer.animation="toast_ngan",this.winPlayer.loop=!1):"banker"==e.outcome&&(this.winBanker.node.active=!0,this.winBanker.animation="toast_ngan",this.winBanker.loop=!1)},showUserView:function(e,t){e.node.active=!0,e.init(t.name,t.red,t.avatar)},onBtnTest:function(){var e={playerCards:[]};e.playerCards.push({suit:"heart",value:"7"}),e.playerCards.push({suit:"heart",value:"9"}),e.bankerCards=[],e.bankerCards.push({suit:"diamond",value:"J"}),e.bankerCards.push({suit:"diamond",value:"Q"}),e.bankerCards.push({suit:"diamond",value:"4"}),this.dealerDrawCards(e)},pointCards:function(e){for(var t=0,i=0;i<e.length;i++)"A"==e[i].value?t+=1:"J"==e[i].value||"Q"==e[i].value||"K"==e[i].value?t+=10:t+=parseInt(e[i].value);return t%10},dealerDrawCards:function(e,t){var i=this;i.dealer.timeScale=2,i.animsTimeout=[],i.dealer.setAnimation(0,"TakeCard1",!1),i.animsTimeout.push(setTimeout(function(){i.playerCards[0].drawCard(0)},700)),i.animsTimeout.push(setTimeout(function(){i.dealer.setAnimation(0,"TakeCard2",!1)},1e3)),i.animsTimeout.push(setTimeout(function(){i.bankerCards[0].drawCard(0)},1700)),i.animsTimeout.push(setTimeout(function(){i.dealer.setAnimation(0,"TakeCard3",!1)},2e3)),i.animsTimeout.push(setTimeout(function(){i.playerCards[1].drawCard(1)},2700)),i.animsTimeout.push(setTimeout(function(){i.dealer.setAnimation(0,"TakeCard4",!1)},3e3)),i.animsTimeout.push(setTimeout(function(){i.bankerCards[1].drawCard(1)},3700)),i.animsTimeout.push(setTimeout(function(){i.playerCards[0].openCard(e.playerCards[0],i.covertCardName(e.playerCards[0]))},3700)),i.animsTimeout.push(setTimeout(function(){i.bankerCards[0].openCard(e.bankerCards[0],i.covertCardName(e.bankerCards[0]))},4800)),i.animsTimeout.push(setTimeout(function(){i.playerCards[1].openCard(e.playerCards[1],i.covertCardName(e.playerCards[1])),i.animsTimeout.push(setTimeout(function(){i.txtPointPlayer.node.active=!0,i.txtPointPlayer.string=i.pointCards([e.playerCards[0],e.playerCards[1]])},1700))},5800)),i.animsTimeout.push(setTimeout(function(){i.bankerCards[1].openCard(e.bankerCards[1],i.covertCardName(e.bankerCards[1])),i.animsTimeout.push(setTimeout(function(){i.txtPointBanker.node.active=!0,i.txtPointBanker.string=i.pointCards([e.bankerCards[0],e.bankerCards[1]])},1700))},6800));var n=7500,a=0;3==e.playerCards.length&&(a=2e3,n+=2750,i.animsTimeout.push(setTimeout(function(){i.dealer.setAnimation(0,"TakeCard5",!1),i.animsTimeout.push(setTimeout(function(){i.playerCards[2].drawCard(2),i.animsTimeout.push(setTimeout(function(){i.playerCards[2].openCard(e.playerCards[2],i.covertCardName(e.playerCards[2])),i.animsTimeout.push(setTimeout(function(){i.txtPointPlayer.string=i.pointCards([e.playerCards[0],e.playerCards[1],e.playerCards[2]])},750))},600))},750))},7550))),3==e.bankerCards.length&&(n+=2750,i.animsTimeout.push(setTimeout(function(){i.dealer.setAnimation(0,"TakeCard6",!1),i.animsTimeout.push(setTimeout(function(){i.bankerCards[2].drawCard(2),i.animsTimeout.push(setTimeout(function(){i.bankerCards[2].openCard(e.bankerCards[2],i.covertCardName(e.bankerCards[2])),i.animsTimeout.push(setTimeout(function(){i.txtPointBanker.string=i.pointCards([e.bankerCards[0],e.bankerCards[1],e.bankerCards[2]])},750))},600))},750))},.5*(15100+a)))),i.animsTimeout.push(setTimeout(function(){null!=i.dataStatus&&i.status(i.dataStatus),i.dealerShowWin(t.bacarat.finish.results),i.showWinNotify(t.bacarat.finish.results),i.showCardPlayer(t.bacarat.finish.hand.playerCards),i.showCardBanker(t.bacarat.finish.hand.bankerCards),i.showGatesWin(t.bacarat.finish.results)},n))},dealerShowWin:function(e){"player"==e.outcome?(this.dealer.animation="ResultPlayer",this.dealer.loop=!1):"banker"==e.outcome?(this.dealer.animation="ResultBanker",this.dealer.loop=!1):(this.dealer.animation="ResultTie",this.dealer.loop=!1)},onData:function(e){if(void 0!==e.bacarat){if(void 0!==e.bacarat.chat&&this.chat.onData(e.bacarat.chat),void 0!==e.bacarat.viewUsers&&e.bacarat.viewUsers.length>0){for(var t=0;t<e.bacarat.viewUsers.length;t++)e.bacarat.viewUsers[t].name==cc.RedT.user.name&&e.bacarat.viewUsers.splice(t,1);this.labelCountUser.string=e.bacarat.viewUsers.length;var i=0;for(t=0;t<this.usersList.length;t++)t<=e.bacarat.viewUsers.length-1?this.showUserView(this.usersList[t],e.bacarat.viewUsers[i]):this.usersList[t].node.active=!1,i++}void 0!==e.bacarat.finish&&(this.receivedFinish=!0,cc.RedT.setting.bacarat.regOpen&&(this.dataFinish=e.bacarat.finish,this.dealerDrawCards(e.bacarat.finish.hand,e)),cc.RedT.setting.bacarat.logs.unshift(e.bacarat.finish.results),this.updateLogs(),this.txtPhien.string="#"+e.bacarat.finish.session,cc.RedT.setting.bacarat.time_remain=cc.RedT.setting.bacarat.gamestimes.total_time,this.playTime()),void 0!==e.bacarat.finish_wait&&(e.bacarat.finish_wait.hand={},e.bacarat.finish_wait.hand.playerCards=e.bacarat.finish_wait.playerCards,e.bacarat.finish_wait.hand.bankerCards=e.bacarat.finish_wait.bankerCards,this.dataFinish=e.bacarat.finish_wait,this.dealerShowWin(e.bacarat.finish_wait.results),this.showWinNotify(e.bacarat.finish_wait.results),this.showCardPlayer(e.bacarat.finish_wait.hand.playerCards),this.showCardBanker(e.bacarat.finish_wait.hand.bankerCards),this.showGatesWin(e.bacarat.finish_wait.results)),void 0!==e.bacarat.status&&(this.dataStatus=e.bacarat.status),void 0!==e.bacarat.data&&(Object.assign(cc.RedT.setting.bacarat.data,e.bacarat.data),this.DataHandling(e.bacarat.data))}void 0!==e.mini&&(void 0!==e.user&&(this.userData(e.user),cc.RedT.userData(e.user)),null!=e.mini.bacarat)&&(void 0!==(e=e.mini.bacarat).viewlogs&&this.dialog.history.onData(e.viewlogs.data),void 0!==e.tops&&this.dialog.top.onData(e.tops),void 0!==e.user&&(this.userData(e.user),cc.RedT.userData(e.user)),void 0!==e.logs&&(cc.RedT.setting.bacarat.logs=e.logs,this.updateLogs()),void 0!==e.gamestimes&&(this.gamestimes=e.gamestimes,cc.RedT.setting.bacarat.gamestimes=e.gamestimes),void 0!==e.time_remain&&(void 0!==e.gamestimes&&(this.gamestimes=e.gamestimes,cc.RedT.setting.bacarat.gamestimes=e.gamestimes),cc.RedT.setting.bacarat.time_remain=e.time_remain,this.playTime()),void 0!==e.regOpen&&(cc.RedT.setting.bacarat.regOpen=!0),void 0!==e.notice&&this.addNotice(e.notice),void 0!==e.data&&(Object.assign(cc.RedT.setting.bacarat.data,e.data),this.DataHandling(e.data)),void 0!==e.session&&(this.txtPhien.string="#"+e.session)),void 0!==e.notice&&this.addNotice(e.notice),void 0!==e.user&&(e.user.newLevel&&e.user.oldLevel&&e.user.bonus&&e.user.newLevel>e.user.oldLevel&&(u.Instance.noticeBonusLvl(e),cc.RedT.user.systemLevel=e.newLevel),this.userData(e.user),cc.RedT.userData(e.user))},newGame:function(){cc.RedT.setting.bacarat.regOpen=!1,void 0!==this.timeInterval&&clearInterval(this.timeInterval)},addNotice:function(e){u.Instance.notice.show({title:"Notice",text:e})},playTime:function(){void 0!==this.timeInterval&&clearInterval(this.timeInterval),this.timeInterval=setInterval(function(){if(cc.RedT.setting.bacarat.time_remain>cc.RedT.setting.bacarat.gamestimes.play_time+1){var e=l.numberPad(cc.RedT.setting.bacarat.time_remain-(cc.RedT.setting.bacarat.gamestimes.play_time+2),2);this.labelTime.node.color=cc.Color.RED,this.labelTime.string=e,0==this.receivedFinish&&"WAITING"==this.titleTime.string&&(this.receivedFinish=!0,cc.RedT.send({g:{bacarat:{finish:!0}}})),this.titleTime.string="WAITING",cc.RedT.setting.bacarat.time_remain,cc.RedT.setting.bacarat.gamestimes.play_time}else if(cc.RedT.setting.bacarat.regOpen&&cc.RedT.setting.bacarat.time_remain>=cc.RedT.setting.bacarat.gamestimes.play_time+1&&this.resetData(),this.titleTime.string="BETTING",cc.RedT.setting.bacarat.time_remain>0){var t=l.numberPad(cc.RedT.setting.bacarat.time_remain-1,2);this.labelTime.string=t,this.labelTime.node.color=cc.Color.BLACK}else clearInterval(this.timeInterval);cc.RedT.setting.bacarat.time_remain--,cc.RedT.setting.bacarat.time_remain<cc.RedT.setting.bacarat.gamestimes.wait_time&&cc.RedT.audio.playTimer()}.bind(this),1e3)},resetData:function(){var e=this;this.receivedFinish=!1,this.dataStatus=null,this.dataFinish=null,this.txtPointBanker.node.active=!1,this.txtPointPlayer.node.active=!1,this.dataMeCuoc={},this.animsDealer=[],this.dealer.animation="Idle",this.dealer.loop=!0,this.poolChips.GiveBackAll(),this.winPlayer.node.active=!1,this.winBanker.node.active=!1,this.txtCuoc.string="0";for(var t=0;t<this.gates.length;t++)this.gates[t].clearUI();for(t=0;t<this.playerCards.length;t++)this.playerCards[t].clearUI();for(t=0;t<this.bankerCards.length;t++)this.bankerCards[t].clearUI();var i=Object.keys(cc.RedT.setting.bacarat.data);Promise.all(i.map(function(e){return cc.RedT.setting.bacarat.data[e]=0})).then(function(){e.DataHandling(cc.RedT.setting.bacarat.data)})},initComponent:function(){this.initItemsHistory()},initItemsHistory:function(){this.itemsHistory=[];for(var e=0;e<this.contentHistory.children.length;e++)this.itemsHistory.push(this.contentHistory.children[e].getComponent(cc.Sprite))},changerBet:function(e,t){if(cc.RedT.audio.playClick(),this.indexCurrentBet!=t){cc.Tween.stopAllByTarget(this.arrBoxBet[this.indexCurrentBet]),cc.Tween.stopAllByTarget(this.arrBoxBet[t]),cc.tween(this.arrBoxBet[this.indexCurrentBet]).to(.2,{scale:1},{easing:"linear"}).start(),cc.tween(this.arrBoxBet[t]).to(.2,{scale:1.2},{easing:"linear"}).start();var i=r[t];this.indexCurrentBet=t,this.nodeGlowBet.parent=this.arrBoxBet[t],this.nodeGlowBet.position=cc.v2(0,0),this.cuoc=i,cc.RedT.setting.bacarat.bet=i}}}).onBtnTutorial=function(){cc.Tween.stopAllByTarget(this.boxTutorial),this.boxTutorial.active=!0},i.hideTutorial=function(){this.boxTutorial.active=!1},i.signOut=function(){this.pauseMusic(),this.receivedFinish=!1,cc.RedT.send({g:{bacarat:{view:!1}}}),void 0!==this.timeOut&&clearTimeout(this.timeOut),null!=this.timeInterval&&(clearInterval(this.timeInterval),this.timeInterval=null),localStorage.setItem("playing_game",""),localStorage.setItem("playing_money",0),cc.director.preloadScene("MainGame",function(){cc.director.loadScene("MainGame")})},i.onBtnToggleBoxUI=function(){var e=this;0==this.boxUI.active?(this.boxUI.active=!0,this.boxUI.position=cc.v2(-600,-10),cc.Tween.stopAllByTarget(this.boxUI),cc.tween(this.boxUI).to(.25,{position:cc.v2(0,-10)},{easing:"backOut"}).start()):(cc.Tween.stopAllByTarget(this.boxUI),cc.tween(this.boxUI).to(.25,{position:cc.v2(-600,-10)},{easing:"backCir"}).call(function(){e.boxUI.active=!1}).start())},i.onBtnToggleBoxWatchVideo=function(){var e=this;cc.Tween.stopAllByTarget(this.boxWatchVideo),0==this.isShowboxWatchVideo?(this.isShowboxWatchVideo=!0,this.boxWatchVideo.position=cc.v2(-250,0),this.boxWatchVideo.active=!0,cc.tween(this.boxWatchVideo).to(.25,{position:cc.v2(-20,0)}).start()):(this.isShowboxWatchVideo=!1,cc.tween(this.boxWatchVideo).to(.25,{position:cc.v2(-250,0)}).call(function(){e.boxWatchVideo.active=!0}).start())},i.hideCountDown=function(){this.intervalCountDown&&(clearInterval(this.intervalCountDown),this.intervalCountDown=null,this.time.node.active=!1)},i.startCountDown=function(){this.Progress.fillRange=1,this.time.node.active=!0;var e=JSON.parse(localStorage.getItem("timeEventWatch")),t=0;if(e)for(var i=0;i<e.length;i++)if(e[i].username==cc.RedT.user.name){t=e[i].time;break}var n=(t+3e5-Date.now())/1e3;void 0!==this.timeInterval&&clearInterval(this.timeInterval),this.intervalCountDown=setInterval(function(){this.time.string=this.secondsToHms(n),(n-=1)<=0&&(this.Progress.fillRange=0,this.hideCountDown())}.bind(this),1e3)},i.onClickEventWatchVideo=function(){if(this.check5minsWatchEvent()){u.Instance.coinsEventWatch();var e=(new Date).getTime(),t=JSON.parse(localStorage.getItem("timeEventWatch"));if(null!=t){for(var i=0,n=0;n<t.length;n++)if(t[n].username==cc.RedT.user.name){t[n].time=e,i=1;break}1==i?cc.sys.localStorage.setItem("timeEventWatch",JSON.stringify(t)):(t.push({username:cc.RedT.user.name,time:e}),cc.sys.localStorage.setItem("timeEventWatch",JSON.stringify(t)))}else t=[{username:cc.RedT.user.name,time:e}],cc.sys.localStorage.setItem("timeEventWatch",JSON.stringify(t));p.Instance.showRewarded(),this.startCountDown()}},i.check5minsWatchEvent=function(){var e=(new Date).getTime(),t=JSON.parse(localStorage.getItem("timeEventWatch")),i=null;if(null!=t&&"null"!==t)for(var n=0;n<t.length;n++)t[n].username==cc.RedT.user.name&&(i=t[n].time);return!i||e-(i=parseInt(i))>3e5},i.secondsToHms=function(e){e=Number(e);var t=Math.floor(e/3600),i=Math.floor(e%3600/60),n=Math.floor(e%3600%60);return(t>0?t+":":"")+(i>0?i+":":"0:")+(n>0?n+"":"0")},i)),cc._RF.pop()},{Admob:"Admob",BacaratChat:"BacaratChat",Bacarat_dialog:"Bacarat_dialog",Card:"Card",FacebookManager:"FacebookManager",Helper:"Helper",UICardBacarat:"UICardBacarat",UIGateBacarat:"UIGateBacarat",UIPopupManager:"UIPopupManager",UIUserBacarat:"UIUserBacarat",VKObjectPoolManager:"VKObjectPoolManager"}],UIGateBacarat:[function(e,t){"use strict";cc._RF.push(t,"7b1dc/zDTtOH6VXz+M5Ghjg","UIGateBacarat");var i=e("Helper"),n=(e("UIItemLogRoulette"),e("UIPopupManager"));cc.Class({extends:cc.Component,properties:{isPrivate:!1,labelTotal:cc.Label,labelMe:cc.Label,chip:cc.Node,glow:cc.Node,gateType:""},init:function(e){this.manager=e,this.clearUI()},clearUI:function(){this.glow.active=!1,this.labelMe.string="",this.labelTotal.string="",this.tempBet=0},totallCuoc:function(e){e>0&&(this.labelTotal.string=i.ToKMB(e))},meCuoc:function(e){e>0&&(this.labelMe.string=i.ToKMB(e))},onBtnClick:function(){if(cc.RedT.user.red<this.manager.cuoc){var e=i.getLang(cc.RedT.language,"not_enough");n.Instance.notice.show({title:i.getLang(cc.RedT.language,"taixiu_notice"),text:e,button:{text:"notice",type:"watchVideo"}})}else if("Result"==this.manager.statusGame||"Pending"==this.manager.statusGame)this.manager.addNotice("Please bet in the next round!");else{var t={cuoc:this.manager.cuoc,linhVat:this.gateType};this.isPrivate?(t.room_id=this.manager.room_id,cc.RedT.send({g:{bacarat_p:{cuoc:t}}})):cc.RedT.send({g:{bacarat:{cuoc:t}}})}}}),cc._RF.pop()},{Helper:"Helper",UIItemLogRoulette:"UIItemLogRoulette",UIPopupManager:"UIPopupManager"}],UIGateSicbo:[function(e,t){"use strict";cc._RF.push(t,"d4147x45hlCHoylAm7BYpcB","UIGateSicbo");var i=e("Helper"),n=e("UIPopupManager");cc.Class({extends:cc.Component,properties:{labelTotal:cc.Label,labelMe:cc.Label,chip:cc.Node,glow:cc.Node,gateType:""},init:function(e){this.manager=e,this.clearUI()},clearUI:function(){this.glow.active=!1,this.labelMe.string="",this.labelTotal.string="",this.labelMe.node.parent.active=!1},onBtnClick:function(){if(cc.RedT.user.red<this.manager.cuoc){var e=i.getLang(cc.RedT.language,"not_enough");n.Instance.notice.show({title:i.getLang(cc.RedT.language,"taixiu_notice"),text:e,button:{text:"notice",type:"watchVideo"}})}else if("Result"==this.manager.statusGame||"Pending"==this.manager.statusGame)this.manager.showNotify(cc.RedT.Frontendlanguages[cc.RedT.language].bet_next_round);else{cc.RedT.user.red-=this.manager.cuoc,this.manager.totalCuocMinePhien+=this.manager.cuoc,this.manager.userMine.txtBalance.string=i.numberWithCommas(cc.RedT.user.red);var t={cuoc:this.manager.cuoc,select:this.gateType};cc.RedT.send({g:{sicbo:{cuoc:t}}})}}}),cc._RF.pop()},{Helper:"Helper",UIPopupManager:"UIPopupManager"}],UIItemCardBinh:[function(e,t){"use strict";cc._RF.push(t,"629a8UiZa1NrKx5CHilwuVs","UIItemCardBinh"),cc.Class({extends:cc.Component,properties:{spriteCard:{default:null,type:cc.Sprite},spriteFrameCardArr:{default:[],type:cc.SpriteFrame},spriteFrameCardUp:{default:null,type:cc.SpriteFrame},btCard:{default:null,type:cc.Button},colorBack:{default:null,type:cc.Color}},init:function(e){this.manager=e},disableCardSelect:function(){this.isSelected=!1,this.allowSelect=!1,this.btCard.interactable=!1,this.node.angle=0,this.node.position=cc.v2(0,0)},onBtnClick:function(){this.isSelected=!this.isSelected;var e;e=this.isSelected?25:-25,cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.1,{position:cc.v2(this.node.position.x,this.node.position.y+e)},{easing:"backOut"}).start()},loadData:function(e,t,i){this.cardData=e,this.idCard=e.OrdinalValue,this.buttonCallback=t,this.allowSelect=i,this.spriteCard.spriteFrame=this.spriteFrameCardUp,this.spriteCard.node.color=new cc.Color(255,255,255),this.btCard.interactable=i},loadCard:function(){this.cardData&&this.cardData.OrdinalValue>=0&&(this.spriteCard.spriteFrame=this.spriteFrameCardArr[this.cardData.OrdinalValue])},showBlack:function(){this.spriteCard.node.color=new cc.Color(80,80,80)},destroyMySelf:function(){cc.Tween.stopAllByTarget(this.node),this.node.destroy()},setCardPosition:function(e,t,i){this.node.parent=t,this.node.position=e,this.node.scale=cc.v2(i,i)},getIdCard:function(){return this.idCard},getSelectCard:function(){return this.isSelected},isCheckCard:function(e){return e==this.idCard},moveCard:function(e,t,i,n,a,o,s){var c=this;cc.Tween.stopAllByTarget(c.node),c.btCard.interactable=!1,c.isSelected=!1,n&&(c.node.parent=n),c.node.position=e,a<1&&cc.tween(c.node).to(.18,{scale:a},{easing:"linear"}).call(function(){c.node.scale=cc.v2(a,a)}).start(),i&&(c.node.parent=i),cc.tween(c.node).to(.2,{position:t}).call(function(){if(o)c.node.destroy();else{var e=c.node.scaleX;s?cc.tween(c.node).to(.05,{scaleX:0}).call(function(){c.loadCard(),cc.tween(c.node).to(.05,{scaleX:e}).start(),c.btCard.interactable=c.allowSelect}).start():c.btCard.interactable=c.allowSelect}}).start()}}),cc._RF.pop()},{}],UIItemCardSam:[function(e,t){"use strict";cc._RF.push(t,"14c63/nfAtOjLjyeHcSDFKT","UIItemCardSam"),cc.Class({extends:cc.Component,properties:{spriteCard:{default:null,type:cc.Sprite},spriteFrameCardArr:{default:[],type:cc.SpriteFrame},spriteFrameCardUp:{default:null,type:cc.SpriteFrame},btCard:{default:null,type:cc.Button},colorBack:{default:null,type:cc.Color}},init:function(e){this.manager=e},disableCardSelect:function(){this.isSelected=!1,this.allowSelect=!1,this.btCard.interactable=!1,this.node.angle=0,this.node.position=cc.v2(0,0)},onBtnClick:function(){this.isSelected=!this.isSelected;var e;e=this.isSelected?25:-25,cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.1,{position:cc.v2(this.node.position.x,this.node.position.y+e)},{easing:"backOut"}).start()},loadData:function(e,t,i){this.cardData=e,this.idCard=e.OrdinalValue,this.buttonCallback=t,this.allowSelect=i,this.spriteCard.spriteFrame=this.spriteFrameCardUp,this.spriteCard.node.color=new cc.Color(255,255,255),this.btCard.interactable=i},loadCard:function(){this.cardData&&this.cardData.OrdinalValue>=0&&(this.spriteCard.spriteFrame=this.spriteFrameCardArr[this.cardData.OrdinalValue])},showBlack:function(){this.spriteCard.node.color=new cc.Color(80,80,80)},destroyMySelf:function(){cc.Tween.stopAllByTarget(this.node),this.node.destroy()},setCardPosition:function(e,t,i){this.node.parent=t,this.node.position=e,this.node.scale=cc.v2(i,i)},getIdCard:function(){return this.idCard},getSelectCard:function(){return this.isSelected},isCheckCard:function(e){return e==this.idCard},moveCard:function(e,t,i,n,a,o,s){var c=this;cc.Tween.stopAllByTarget(c.node),c.btCard.interactable=!1,c.isSelected=!1,n&&(c.node.parent=n),c.node.position=e,a<1&&cc.tween(c.node).to(.18,{scale:a},{easing:"linear"}).call(function(){c.node.scale=cc.v2(a,a)}).start(),i&&(c.node.parent=i),cc.tween(c.node).to(.2,{position:t}).call(function(){if(o)c.node.destroy();else{var e=c.node.scaleX;s?cc.tween(c.node).to(.05,{scaleX:0}).call(function(){c.loadCard(),cc.tween(c.node).to(.05,{scaleX:e}).start(),c.btCard.interactable=c.allowSelect}).start():c.btCard.interactable=c.allowSelect}}).start()}}),cc._RF.pop()},{}],UIItemCardTienLenSolo:[function(e,t){"use strict";cc._RF.push(t,"48f31TwKK9LSr2hs/sg+FCb","UIItemCardTienLenSolo"),cc.Class({extends:cc.Component,properties:{spriteCard:{default:null,type:cc.Sprite},spriteFrameCardArr:{default:[],type:cc.SpriteFrame},spriteFrameCardUp:{default:null,type:cc.SpriteFrame},btCard:{default:null,type:cc.Button},colorBack:{default:null,type:cc.Color},audioLift:cc.AudioSource},init:function(e){this.manager=e},disableCardSelect:function(){this.isSelected=!1,this.allowSelect=!1,this.btCard.interactable=!1,this.node.angle=0,this.node.position=cc.v2(0,0),this.audioLift.play()},setHighLight:function(e){this.canSelect=e,this.spriteCard.node.color=e?cc.Color.WHITE:new cc.Color(107,107,107,255)},onBtnClick:function(){this.select(),this.isSelected&&this.manager.onCardSelect(this.cardData)},select:function(){this.isSelected=!this.isSelected;var e;e=this.isSelected?25:-25,cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.1,{position:cc.v2(this.node.position.x,this.node.position.y+e)},{easing:"backOut"}).start(),this.audioLift.play()},loadData:function(e,t,i){this.cardData=e,this.idCard=e.OrdinalValue,this.buttonCallback=t,this.allowSelect=i,this.spriteCard.spriteFrame=this.spriteFrameCardUp,this.spriteCard.node.color=new cc.Color(255,255,255),this.btCard.interactable=i},loadCard:function(){this.cardData&&this.cardData.OrdinalValue>=0&&(this.spriteCard.spriteFrame=this.spriteFrameCardArr[this.cardData.OrdinalValue])},showBlack:function(){this.spriteCard.node.color=new cc.Color(80,80,80)},destroyMySelf:function(){cc.Tween.stopAllByTarget(this.node),this.node.destroy()},setCardPosition:function(e,t,i){this.node.parent=t,this.node.position=e,this.node.scale=cc.v2(i,i)},getIdCard:function(){return this.idCard},getSelectCard:function(){return this.isSelected},isCheckCard:function(e){return e==this.idCard},moveCard:function(e,t,i,n,a,o,s){var c=this;cc.Tween.stopAllByTarget(c.node),c.btCard.interactable=!1,c.isSelected=!1,n&&(c.node.parent=n),c.node.position=e,a<1&&cc.tween(c.node).to(.18,{scale:a},{easing:"linear"}).call(function(){c.node.scale=cc.v2(a,a)}).start(),i&&(c.node.parent=i),cc.tween(c.node).to(.2,{position:t}).call(function(){if(o)c.node.destroy();else{var e=c.node.scaleX;s?cc.tween(c.node).to(.05,{scaleX:0}).call(function(){c.loadCard(),cc.tween(c.node).to(.05,{scaleX:e}).start(),c.btCard.interactable=c.allowSelect}).start():c.btCard.interactable=c.allowSelect}}).start()}}),cc._RF.pop()},{}],UIItemChoseRoomBinh:[function(e,t){"use strict";cc._RF.push(t,"d3043EsgvxOm4q+kTpJXP+P","UIItemChoseRoomBinh");var i=e("UIPopupManager"),n=e("Helper");cc.Class({extends:cc.Component,properties:{labelMucCuoc:{default:null,type:cc.Label},labelNumber:{default:null,type:cc.Label},labelToiThieu:{default:null,type:cc.Label},labelTrangThai:{default:null,type:cc.Label},spriteProgress:{default:null,type:cc.Sprite}},init:function(e,t){this.screenLobby=e,this.data=t,this.labelMucCuoc.string=n.ToKMB2(t.Item1),this.labelNumber.string=t.PCount+"/"+t.Item2,this.labelToiThieu.string=n.ToKMB2(t.Item3);var i=20;i<=t.Item2&&(i=t.Item2+10),this.spriteProgress.fillRange=t.PCount/t.Item2},onBtnPlay:function(){this.data.Item3>cc.RedT.user.red?i.Instance.notice.show({title:n.getLang(cc.RedT.language,"notice"),text:n.getLang(cc.RedT.language,"not_enough")}):this.screenLobby.manager.hubManager.invokeString("JoinRoom",this.data.id)}}),cc._RF.pop()},{Helper:"Helper",UIPopupManager:"UIPopupManager"}],UIItemChoseRoomSam:[function(e,t){"use strict";cc._RF.push(t,"da696QovQBKKJzsQ9yVXzow","UIItemChoseRoomSam");var i=e("UIPopupManager"),n=e("Helper");cc.Class({extends:cc.Component,properties:{labelMucCuoc:{default:null,type:cc.Label},labelNumber:{default:null,type:cc.Label},labelToiThieu:{default:null,type:cc.Label},labelTrangThai:{default:null,type:cc.Label},spriteProgress:{default:null,type:cc.Sprite}},onBtnPlay:function(){this.data.Item3>cc.RedT.user.red?i.Instance.notice.show({title:n.getLang(cc.RedT.language,"notice"),text:n.getLang(cc.RedT.language,"not_enough")}):this.screenLobby.manager.hubManager.invokeString("JoinRoom",this.data.id)}}),cc._RF.pop()},{Helper:"Helper",UIPopupManager:"UIPopupManager"}],UIItemChoseRoomTienLenSolo:[function(e,t){"use strict";cc._RF.push(t,"679a2cusNVI0IJoMwKjAs80","UIItemChoseRoomTienLenSolo");var i=e("UIPopupManager"),n=e("Helper");cc.Class({extends:cc.Component,properties:{labelMucCuoc:{default:null,type:cc.Label},labelNumber:{default:null,type:cc.Label},labelToiThieu:{default:null,type:cc.Label},labelTrangThai:{default:null,type:cc.Label},spriteProgress:{default:null,type:cc.Sprite},stt:cc.Label},onLoad:function(){this.spriteProgress.fillRange=0},onBtnPlay:function(){this.data.Item3>cc.RedT.user.red?i.Instance.notice.show({title:"Notice",text:n.getLang(cc.RedT.language,"not_enough")}):(cc.RedT.inGame.loading.active=!0,this.screenLobby.manager.hubManager.invokeString("JoinRoom",this.data.id))}}),cc._RF.pop()},{Helper:"Helper",UIPopupManager:"UIPopupManager"}],UIItemDay:[function(e,t){"use strict";cc._RF.push(t,"252a5nAq6pLOITqXWwWN/H/","UIItemDay"),cc.Class({extends:cc.Component,properties:{lbDay:cc.Label,spSel:cc.Sprite,button:cc.Button},setDay:function(e,t,i,n){this.index=e,this.day=t,this.cb=n,this.lbDay.string=t,this.spSel.enabled=i},onClickItem:function(){this.cb&&this.cb(this.index,this.day)}}),cc._RF.pop()},{}],UIItemEffectDatCuocRoulette:[function(e,t){"use strict";cc._RF.push(t,"c5776Ziw69FeI1GDEHWEXD8","UIItemEffectDatCuocRoulette");var i=e("Helper");cc.Class({extends:cc.Component,properties:{spriteBg:cc.Sprite,arrSpriteBg:{default:[],type:cc.SpriteFrame},labelGold:cc.Label,arrColorLabel:{default:[],type:cc.Color}},init:function(e,t){this.spriteBg.spriteFrame=this.arrSpriteBg[e],this.labelGold.string=i.nFormatter(t),this.labelGold.node.color=this.arrColorLabel[e]}}),cc._RF.pop()},{Helper:"Helper"}],UIItemHeadShop:[function(e,t){"use strict";cc._RF.push(t,"01986q5PxNADo0cjMtFniYD","UIItemHeadShop");var i=e("Helper");cc.Class({extends:cc.Component,properties:{isChild:!1,nameChild:""},onEnable:function(){this.show()},show:function(){cc.sys.isBrowser&&(this.isChild&&"NapIAP"==this.nameChild?this.node.active=!1:this.node.active=!0),0==this.isChild&&(i.checkShowAll()?this.node.active=!0:this.node.active=!1)}}),cc._RF.pop()},{Helper:"Helper"}],UIItemLogRoulette:[function(e,t){"use strict";cc._RF.push(t,"81040p4PIhCMJNG2GcDXQfe","UIItemLogRoulette"),cc.Class({extends:cc.Component,properties:{spriteBg:cc.Sprite,arrSpriteFrameBg:{default:[],type:cc.SpriteFrame},labelNumber:cc.Label},init:function(e,t){this.spriteBg.spriteFrame=this.arrSpriteFrameBg[t],this.labelNumber.string=e+""}}),cc._RF.pop()},{}],UIItemNapIAP:[function(e,t){"use strict";cc._RF.push(t,"cc2f5q1z9RLmaD/Kjg+cL5W","UIItemNapIAP");var i=e("IAPManager");cc.Class({extends:cc.Component,properties:{labelVnd:{default:null,type:cc.Label},labelCoin:{default:null,type:cc.Label}},init:function(e){this.data=e},onBtnClick:function(e,t){i.Instance.buyBundle(t)}}),cc._RF.pop()},{IAPManager:"IAPManager"}],UIItemPlayerBinh:[function(e,t){"use strict";cc._RF.push(t,"97dacgL97VNK6SluNUOGDY4","UIItemPlayerBinh"),e("UIItemResultTienLenSolo");var i=e("Helper"),n=e("../../Script/ResourceManager"),a=new cc.Color(255,255,0),o=new cc.Color(255,0,0);cc.Class({extends:cc.Component,properties:{gStatus:{default:null,type:cc.Node},txtMoneyStatus:{default:null,type:cc.Label},txtMoney:{default:null,type:cc.Label},txtStatus:cc.Label,nodeBoxActive:{default:null,type:cc.Node},nodeBoxAdd:{default:null,type:cc.Node},labelUserName:{default:null,type:cc.Label},labelGold:{default:null,type:cc.Label},chatBox:cc.Node,chatContent:cc.Label,spriteAva:{default:null,type:cc.Sprite},frame:{default:null,type:cc.Sprite},boxCard:{default:null,type:cc.Node},labelNumberCard:{default:null,type:cc.Label},nodeIconReady:{default:null,type:cc.Node},nodeIconMaster:{default:null,type:cc.Node},nodeIconCon1La:{default:null,type:cc.Node},nodeCountDown:{default:null,type:cc.Node},spriteCountDown:{default:null,type:cc.Sprite},labelCountDown:{default:null,type:cc.Label},nodeSum:cc.Node,nodeHand:cc.Node,nodeAll:cc.Node,nodePosition:cc.Node,nodeLung:cc.Node,winNode:cc.Node,loseNode:cc.Node,isMain:!1},init:function(e,t,a,o,s){if(void 0===s&&(s=!1),this.manager=o,this.dataRoom=e,this._playerData=t,this.nodeBoxActive.active=!0,this.labelUserName.string=this._playerData.Account.UserName,this.labelGold.string=i.numberWithCommas(this._playerData.Account.Gold),this.chatBox.active=!1,this.frame&&cc.RedT.MainGame.updateFrame(Math.floor(cc.RedT.user.systemLevel/5)-1,this.frame),a)this.spriteAva.spriteFrame=a;else if(t.Account.avatar){var c=parseInt(t.Account.avatar);isNaN(c)&&(c=0);var r=n.Instance.avatars[c];null!=r?this.spriteAva.spriteFrame=r:console.log("spriteFrame null")}this.nodeIconMaster.active=this._playerData.AccountID==e.OwnerId,1==this._playerData.Status&&(0==s&&this.showCard(),this.updateCardNumber(this._playerData.HandCards.length))},Chat:function(e){var t=this;this.chatContent.string=e,this.chatBox.active=!0,setTimeout(function(){null!=t.chatBox&&(t.chatBox.active=!1)},3e3)},showCard:function(){this.boxCard,this.labelNumberCard&&(this.labelNumberCard.string="0")},hideCard:function(){this.boxCard&&(this.boxCard.active=!1)},updateCardNumber:function(e){this.labelNumberCard&&(this.labelNumberCard.string=e.toString()),1==e?this.showBao1La():this.hideBao1La()},showBao1La:function(){this.nodeIconCon1La.active=!0},hideBao1La:function(){this.nodeIconCon1La.active=!1},onBtnAdd:function(){},ShowBaoBinh:function(){},hideBaoBinh:function(){},updateUserData:function(e,t){this.dataRoom=t,this._playerData=e,this.nodeIconMaster.active=e.AccountID==t.OwnerId,this.labelGold.string=i.numberWithCommas(e.Account.Gold)},isPlaying:function(){return this.node.active&&this._playerData&&1==this._playerData.Status},showStatus:function(e,t,i,n){this.showStatus_string(null!=e?e.name:"",t,i,n,!1,!0,!1)},showStatus_string:function(e,t,n,s,c,r,l,h){var d=this,u=0,p=d.nodePosition.y,g=d.nodePosition.x;d.txtStatus.node.parent.active=!0,1==e?d.txtStatus.node.parent.position=cc.v2(g,p):2==e?d.isMain?d.txtStatus.node.parent.position=cc.v2(g,p+70):d.txtStatus.node.parent.position=cc.v2(g,p+50):3==e&&(d.isMain?d.txtStatus.node.parent.position=cc.v2(g,p+140):d.txtStatus.node.parent.position=cc.v2(g,p+100)),l&&(d.nodeHand.active=!1,d.nodeSum.active=!1,u=s.Money,d.nodeLung.active=!0,d.txtStatus.node.parent.active=!1),r?(d.nodeSum.active=!0,u=s.Money,(s=s.totalWin)>0?d.winNode.active=!0:d.loseNode.active=!0,h&&(d.txtStatus.node.parent.active=!1)):d.nodeSum.active=!1,d.txtStatus.string=""==t?"":i.getLang(cc.RedT.language,t),d.timeAutoHide=c,d.timeoutAutoHideStatus&&(clearTimeout(d.timeoutAutoHideStatus),d.timeoutAutoHideStatus=null),n?(d.txtMoneyStatus.node.active=!0,s>0||u>0?(d.txtMoney.string="+"+i.numberWithCommas(u),d.txtMoneyStatus.string="+"+i.numberWithCommas(s),d.txtMoneyStatus.node.color=d.txtMoney.node.color=a):(d.txtMoney.string=i.numberWithCommas(u),d.txtMoneyStatus.string=i.numberWithCommas(s),d.txtMoneyStatus.node.color=d.txtMoney.node.color=o)):d.txtMoneyStatus.node.active=!1,d.timeAutoHide>0&&(d.timeAutoHide=c,d.timeoutAutoHideStatus=setTimeout(function(){d.hideStatus(),d.timeoutAutoHideStatus=null},1e3*d.timeAutoHide)),d.gStatus.active=!0},onDisable:function(){null!=this.timeoutAutoHideStatus&&(clearTimeout(this.timeoutAutoHideStatus),this.timeoutAutoHideStatus=null)},hideStatus:function(){this.gStatus.active=!1,this.nodeIconReady.active=!1},getIDPlayer:function(){return null==this._playerData?null:this._playerData.AccountID},showCountDown:function(e){var t=this;if(t.timeCountDownStart=e,t.intervalCountDown&&(clearInterval(t.intervalCountDown),t.intervalCountDown=null),t.timeCountDownStart>0){var i=t.timeCountDownStart;t.nodeCountDown.active=!0,t.spriteCountDown.fillRange=1,t.labelCountDown.string=i,t.intervalCountDown=setInterval(function(){i-=1,t.spriteCountDown.fillRange=i/t.timeCountDownStart,t.labelCountDown.string=i,i<=0&&(t.spriteCountDown.fillRange=0,t.labelCountDown.string="0",t.hideCountDown())},1e3)}},hideCountDown:function(){this.intervalCountDown&&(clearInterval(this.intervalCountDown),this.intervalCountDown=null),this.nodeCountDown.active=!1},isPlayer:function(e){return(0!=this.nodeBoxActive.active||null!=this._playerData)&&null!=this._playerData.AccountID&&null!=this._playerData.AccountID&&this._playerData.AccountID==e},getTransGcard:function(){return this.boxCard},getDataUser:function(){return this._playerData},clearUI:function(){this._playerData=null,this.nodeBoxAdd.active=!0,this.nodeBoxActive.active=!1,this.hideBao1La(),this.hideCountDown(),this.nodeSum.active=!1,this.gStatus.active=!1,this.nodeHand.active=!0,this.winNode.active=!1,this.loseNode.active=!1,this.nodeLung.active=!1}}),cc._RF.pop()},{"../../Script/ResourceManager":"ResourceManager",Helper:"Helper",UIItemResultTienLenSolo:"UIItemResultTienLenSolo"}],UIItemPlayerSam:[function(e,t){"use strict";cc._RF.push(t,"24b53ftD1tDlJ/GYZ0V0YOj","UIItemPlayerSam"),e("UIItemResultTienLenSolo");var i=e("Helper"),n=e("../../Script/ResourceManager"),a=new cc.Color(255,255,255),o=new cc.Color(255,200,200);cc.Class({extends:cc.Component,properties:{gStatus:{default:null,type:cc.Node},nodeWin:cc.Node,txtMoneyStatus:{default:null,type:cc.Label},txtStatus:cc.Label,nodeBoxActive:{default:null,type:cc.Node},nodeBoxAdd:{default:null,type:cc.Node},labelUserName:{default:null,type:cc.Label},labelGold:{default:null,type:cc.Label},chatBox:cc.Node,chatContent:cc.Label,spriteAva:{default:null,type:cc.Sprite},frame:{default:null,type:cc.Sprite},boxCard:{default:null,type:cc.Node},labelNumberCard:{default:null,type:cc.Label},nodeIconReady:{default:null,type:cc.Node},nodeIconMaster:{default:null,type:cc.Node},nodeIconCon1La:{default:null,type:cc.Node},gBaoSam:cc.Node,nodeCountDown:{default:null,type:cc.Node},spriteCountDown:{default:null,type:cc.Sprite},labelCountDown:{default:null,type:cc.Label}},init:function(e,t,a,o,s){if(void 0===s&&(s=!1),this.manager=o,this.dataRoom=e,this._playerData=t,this.nodeBoxActive.active=!0,this.labelUserName.string=this._playerData.Account.UserName,this.labelGold.string=i.numberWithCommas(this._playerData.Account.Gold),this.chatBox.active=!1,this.frame&&cc.RedT.MainGame.updateFrame(Math.floor(cc.RedT.user.systemLevel/5)-1,this.frame),a)this.spriteAva.spriteFrame=a;else if(t.Account.avatar){var c=parseInt(t.Account.avatar);isNaN(c)&&(c=0);var r=n.Instance.avatars[c];null!=r?this.spriteAva.spriteFrame=r:console.log("spriteFrame null")}this.nodeIconMaster.active=this._playerData.AccountID==e.OwnerId,1==this._playerData.Status&&(0==s&&this.showCard(),this.updateCardNumber(this._playerData.HandCards.length))},Chat:function(e){var t=this;this.chatContent.string=e,this.chatBox.active=!0,setTimeout(function(){null!=t.chatBox&&(t.chatBox.active=!1)},3e3)},showCard:function(){this.boxCard&&(this.boxCard.active=!0),this.labelNumberCard&&(this.labelNumberCard.string="0")},hideCard:function(){this.boxCard&&(this.boxCard.active=!1)},updateCardNumber:function(e){this.labelNumberCard&&(this.labelNumberCard.string=e.toString()),1==e?this.showBao1La():this.hideBao1La()},showBao1La:function(){this.nodeIconCon1La.active=!0},hideBao1La:function(){this.nodeIconCon1La.active=!1},onBtnAdd:function(){},ShowBaoSam:function(){this.gBaoSam.active=!0},hideBaoSam:function(){this.gBaoSam.active=!1},updateUserData:function(e,t){this.dataRoom=t,this._playerData=e,this.nodeIconMaster.active=e.AccountID==t.OwnerId,this.labelGold.string=i.numberWithCommas(e.Account.Gold)},isPlaying:function(){return this.node.active&&this._playerData&&1==this._playerData.Status},showStatus:function(e,t,i,n){this.showStatus_string(null!=e?e.name:"",t,i,n)},showStatus_string:function(e,t,n,s){var c=this;c.txtStatus.string=""==e?"":i.getLang(cc.RedT.language,e),c.timeAutoHide=s,c.timeoutAutoHideStatus&&(clearTimeout(c.timeoutAutoHideStatus),c.timeoutAutoHideStatus=null),t?(c.txtMoneyStatus.node.active=!0,n>0?(c.txtMoneyStatus.string="+"+i.numberWithCommas(n),c.txtMoneyStatus.node.color=a,c.nodeWin.active=!0):(c.txtMoneyStatus.string=i.numberWithCommas(n),c.txtMoneyStatus.node.color=o,c.nodeWin.active=!1)):c.txtMoneyStatus.node.active=!1,c.timeAutoHide>0&&(c.timeAutoHide=s,c.timeoutAutoHideStatus=setTimeout(function(){c.hideStatus(),c.timeoutAutoHideStatus=null},1e3*c.timeAutoHide)),c.gStatus.active=!0},onDisable:function(){null!=this.timeoutAutoHideStatus&&(clearTimeout(this.timeoutAutoHideStatus),this.timeoutAutoHideStatus=null)},hideStatus:function(){this.gStatus.active=!1,this.nodeIconReady.active=!1},getIDPlayer:function(){return null==this._playerData?null:this._playerData.AccountID},showCountDown:function(e){var t=this;if(t.timeCountDownStart=e,t.intervalCountDown&&(clearInterval(t.intervalCountDown),t.intervalCountDown=null),t.timeCountDownStart>0){var i=t.timeCountDownStart;t.nodeCountDown.active=!0,t.spriteCountDown.fillRange=1,t.labelCountDown.string=i,t.intervalCountDown=setInterval(function(){i-=1,t.spriteCountDown.fillRange=i/t.timeCountDownStart,t.labelCountDown.string=i,i<=0&&(t.spriteCountDown.fillRange=0,t.labelCountDown.string="0",t.hideCountDown())},1e3)}},hideCountDown:function(){this.intervalCountDown&&(clearInterval(this.intervalCountDown),this.intervalCountDown=null),this.nodeCountDown.active=!1},isPlayer:function(e){return(0!=this.nodeBoxActive.active||null!=this._playerData)&&null!=this._playerData.AccountID&&null!=this._playerData.AccountID&&this._playerData.AccountID==e},getTransGcard:function(){return this.boxCard},getDataUser:function(){return this._playerData},clearUI:function(){this._playerData=null,this.nodeBoxAdd.active=!0,this.nodeBoxActive.active=!1,this.hideBao1La(),this.hideCountDown(),this.hideBaoSam(),this.hideStatus()}}),cc._RF.pop()},{"../../Script/ResourceManager":"ResourceManager",Helper:"Helper",UIItemResultTienLenSolo:"UIItemResultTienLenSolo"}],UIItemPlayerTienLen:[function(e,t){"use strict";cc._RF.push(t,"8476d8Xmz5Lu5lGfFxbnRlD","UIItemPlayerTienLen"),e("UIItemResultTienLenSolo");var i=e("Helper"),n=e("../../Script/ResourceManager"),a=new cc.Color(255,255,255),o=new cc.Color(255,200,200);cc.Class({extends:cc.Component,properties:{gStatus:{default:null,type:cc.Node},nodeWin:cc.Node,txtMoneyStatus:{default:null,type:cc.Label},txtStatus:cc.Label,nodeBoxActive:{default:null,type:cc.Node},nodeBoxAdd:{default:null,type:cc.Node},labelUserName:{default:null,type:cc.Label},labelGold:{default:null,type:cc.Label},chatBox:cc.Node,chatContent:cc.Label,spriteAva:{default:null,type:cc.Sprite},frame:{default:null,type:cc.Sprite},boxCard:{default:null,type:cc.Node},labelNumberCard:{default:null,type:cc.Label},nodeIconReady:{default:null,type:cc.Node},nodeIconMaster:{default:null,type:cc.Node},nodeIconCon1La:{default:null,type:cc.Node},nodeCountDown:{default:null,type:cc.Node},spriteCountDown:{default:null,type:cc.Sprite},labelCountDown:{default:null,type:cc.Label}},init:function(e,t,a,o,s){if(void 0===s&&(s=!1),this.manager=o,this.dataRoom=e,this._playerData=t,this.nodeBoxActive.active=!0,this.labelUserName.string=this._playerData.Account.UserName,this.labelGold.string=i.numberWithCommas(this._playerData.Account.Gold),this.chatBox.active=!1,this.frame&&cc.RedT.MainGame.updateFrame(Math.floor(cc.RedT.user.systemLevel/5)-1,this.frame),a)this.spriteAva.spriteFrame=a;else if(t.Account.avatar){var c=parseInt(t.Account.avatar);isNaN(c)&&(c=0);var r=n.Instance.avatars[c];null!=r?this.spriteAva.spriteFrame=r:console.log("spriteFrame null")}this.nodeIconMaster.active=this._playerData.AccountID==e.OwnerId,1==this._playerData.Status?(0==s&&this.showCard(),this.updateCardNumber(this._playerData.HandCards.length),this.nodeIconReady.active=!1):this.nodeIconReady.active=t.ready},showCard:function(){this.boxCard&&(this.boxCard.active=!0),this.labelNumberCard&&(this.labelNumberCard.string="0")},hideCard:function(){this.boxCard&&(this.boxCard.active=!1)},updateCardNumber:function(e){this.labelNumberCard&&(this.labelNumberCard.string=e.toString()),1==e?this.showBao1La():this.hideBao1La()},showBao1La:function(){this.nodeIconCon1La.active=!0},hideBao1La:function(){this.nodeIconCon1La.active=!1},onBtnAdd:function(){},updateUserData:function(e,t){this.dataRoom=t,this._playerData=e,this.nodeIconMaster.active=e.AccountID==t.OwnerId,this.labelGold.string=i.numberWithCommas(e.Account.Gold)},isPlaying:function(){return this.node.active&&this._playerData&&1==this._playerData.Status},showStatus:function(e,t,i,n){this.showStatus_string(null!=e?e.name:"",t,i,n)},showStatus_string:function(e,t,n,s){var c=this;c.txtStatus.string=""==e?"":i.getLang(cc.RedT.language,e),c.timeAutoHide=s,c.timeoutAutoHideStatus&&(clearTimeout(c.timeoutAutoHideStatus),c.timeoutAutoHideStatus=null),t?(c.txtMoneyStatus.node.active=!0,n>0?(c.txtMoneyStatus.string="+"+i.numberWithCommas(n),c.txtMoneyStatus.node.color=a,c.nodeWin.active=!0):(c.txtMoneyStatus.string=i.numberWithCommas(n),c.txtMoneyStatus.node.color=o,c.nodeWin.active=!1)):c.txtMoneyStatus.node.active=!1,c.timeAutoHide>0&&(c.timeAutoHide=s,c.timeoutAutoHideStatus=setTimeout(function(){c.hideStatus(),c.timeoutAutoHideStatus=null},1e3*c.timeAutoHide)),c.gStatus.active=!0},onDisable:function(){null!=this.timeoutAutoHideStatus&&(clearTimeout(this.timeoutAutoHideStatus),this.timeoutAutoHideStatus=null)},hideStatus:function(){this.gStatus.active=!1,this.nodeIconReady.active=!1},Chat:function(e){var t=this;this.chatContent.string=e,this.chatBox.active=!0,setTimeout(function(){null!=t.chatBox&&(t.chatBox.active=!1)},3e3)},getIDPlayer:function(){return null==this._playerData?null:this._playerData.AccountID},showCountDown:function(e){var t=this;if(t.timeCountDownStart=e,t.intervalCountDown&&(clearInterval(t.intervalCountDown),t.intervalCountDown=null),t.timeCountDownStart>0){var i=t.timeCountDownStart;t.nodeCountDown.active=!0,t.spriteCountDown.fillRange=1,t.labelCountDown.string=i,t.intervalCountDown=setInterval(function(){i-=1,t.spriteCountDown.fillRange=i/t.timeCountDownStart,t.labelCountDown.string=i,i<=0&&(t.spriteCountDown.fillRange=0,t.labelCountDown.string="0",t.hideCountDown())},1e3)}},hideCountDown:function(){this.intervalCountDown&&(clearInterval(this.intervalCountDown),this.intervalCountDown=null),this.nodeCountDown.active=!1},isPlayer:function(e){return(0!=this.nodeBoxActive.active||null!=this._playerData)&&null!=this._playerData.AccountID&&null!=this._playerData.AccountID&&this._playerData.AccountID==e},getTransGcard:function(){return this.boxCard},getDataUser:function(){return this._playerData},clearUI:function(){this._playerData=null,this.nodeBoxAdd.active=!0,this.nodeBoxActive.active=!1,this.hideBao1La(),this.hideCountDown()}}),cc._RF.pop()},{"../../Script/ResourceManager":"ResourceManager",Helper:"Helper",UIItemResultTienLenSolo:"UIItemResultTienLenSolo"}],UIItemResultBinh:[function(e,t){"use strict";cc._RF.push(t,"df311ZMQwpE66dlRxXqXiGy","UIItemResultBinh"),cc.Class({extends:cc.Component,properties:{spriteResult:{default:null,type:cc.Sprite},labelResult:{default:null,type:cc.Label},spriteFrameThang:{default:null,type:cc.SpriteFrame},spriteFrameThua:{default:null,type:cc.SpriteFrame},spriteFrameToiTrang:{default:null,type:cc.SpriteFrame},spriteFrameTuQuy:{default:null,type:cc.SpriteFrame},spriteFrameThoi:{default:null,type:cc.SpriteFrame}},show:function(){this.node.active=!0},hide:function(){this.node.active=!1}}),cc._RF.pop()},{}],UIItemResultSam:[function(e,t){"use strict";cc._RF.push(t,"fd281hhMSxHdbyM8jOgajUf","UIItemResultSam"),cc.Class({extends:cc.Component,properties:{spriteResult:{default:null,type:cc.Sprite},labelResult:{default:null,type:cc.Label},spriteFrameThang:{default:null,type:cc.SpriteFrame},spriteFrameThua:{default:null,type:cc.SpriteFrame},spriteFrameToiTrang:{default:null,type:cc.SpriteFrame},spriteFrameTuQuy:{default:null,type:cc.SpriteFrame},spriteFrameThoi:{default:null,type:cc.SpriteFrame}},show:function(){this.node.active=!0},hide:function(){this.node.active=!1}}),cc._RF.pop()},{}],UIItemResultTienLenSolo:[function(e,t){"use strict";cc._RF.push(t,"aa2fc2WMaxKh5bJzpHIxX3e","UIItemResultTienLenSolo"),cc.Class({extends:cc.Component,properties:{spriteResult:{default:null,type:cc.Sprite},labelResult:{default:null,type:cc.Label},spriteFrameThang:{default:null,type:cc.SpriteFrame},spriteFrameThua:{default:null,type:cc.SpriteFrame},spriteFrameToiTrang:{default:null,type:cc.SpriteFrame},spriteFrameTuQuy:{default:null,type:cc.SpriteFrame},spriteFrameThoi:{default:null,type:cc.SpriteFrame}},show:function(){this.node.active=!0},hide:function(){this.node.active=!1}}),cc._RF.pop()},{}],UIPopupManager:[function(e,t){"use strict";cc._RF.push(t,"cd56cA1PLZJaJyMSpjlSL1+","UIPopupManager");var i=e("Helper"),n=e("Notice"),a=e("watchVideoPopup"),o=e("Admob"),s=e("MileStone"),c=cc.Class({extends:cc.Component,properties:{notice:n,loading:cc.Node,nodePopup:cc.Node,prefabBigWin:cc.Prefab,PrefabNoHu:cc.Prefab,connectPopup:cc.Node,btnFb:{default:null,type:cc.Node},btnApple:{default:null,type:cc.Node},isDisplay:{default:null,type:cc.Toggle},buttonConnet:cc.Sprite,buttonPurchase:cc.Sprite,showEventPopup:cc.Node,defaultButtonSprite:{default:[],type:cc.SpriteFrame},eventPopup:{default:[],type:cc.Node},nodePopupPrefabArr:[cc.Prefab],nodeAddFriend:cc.Node,userName:cc.Label,UID:cc.Label,userMoney:cc.Label,avatar:cc.Sprite,watchVideo4Coins:a,collectCoinsBanner:cc.Node,coinsLabel:cc.Label,MileStone:s},statics:{Instance:null},onLoad:function(){this.setupTimeRunInBg(),this.init(),this.notice.init(this),this.watchVideo4Coins.init(),this.MileStone.init()},setupTimeRunInBg:function(){cc.game.on(cc.game.EVENT_SHOW,function(){null!=cc.game.isActiveNow&&1==cc.game.isActiveNow&&cc.RedT.send({checkActivePhone:!0})})},onDisable:function(){},onEnable:function(){this.node.position=this.node.parent.getComponentInChildren(cc.Canvas).node.position,cc.sys.os==cc.sys.OS_IOS?(this.btnApple.active=!0,this.btnFb.active=!0):cc.sys.os==cc.sys.OS_OSX?(this.btnApple.active=!0,this.btnFb.active=!1):(this.btnApple.active=!1,this.btnFb.active=!0)},init:function(){this.actionShow=cc.spawn(cc.scaleTo(.5,1).easing(cc.easeBackOut(2.5)),cc.fadeTo(.5,255)),this.popupArr={},this.popupArrCache={},cc.game.addPersistRootNode(this.node);for(var e=0;e<this.nodePopupPrefabArr.length;e++)this.popupArrCache[this.nodePopupPrefabArr[e].name]=this.nodePopupPrefabArr[e];c.Instance=this,cc.RedT.UIPopupManager=this,this.nameProfile="profile",this.nameSignIn="sign_in",this.nameSignUp="sign_up",this.nameForgotName="for_got_pass",this.nameEvent="Event",this.nameGiftCode="giftcode",this.nameMessage="iMesssage",this.nameSetting="setting",this.nameShop="shop",this.nameSignName="sign_name",this.nameTheCao="the_cao",this.pokerNap="pokerNap",this.gameHuongDan="HuongDan",this.gameTaiXiu="TaiXiu",this.gameTaiXiu_LichSu="TaiXiu_LichSu",this.gameTaiXiu_LichSuPhien="TaiXiu_LichSuPhien",this.gameBauCua="BauCua",this.gameBauCua_LichSu="BauCua_LichSu",this.gameBauCua_Top="BauCua_top",this.gameAngryBirds="AngryBirds",this.gameAngryBirds_history="AngryBird_history",this.gameAngryBirds_top="AngryBird_top",this.gameBigBabol="BigBabol",this.gameBigBabol_LichSu="BigBabol_LichSu",this.gameBigBabol_Top="BigBabol_Top",this.gameCaoThap="CaoThap",this.gameCaoThap_history="CaoThap_history",this.gameCaoThap_top="CaoThap_top",this.gameMini3Cay="Mini3Cay",this.gameMini3Cay_history="Mini3Cay_history",this.gameMini3Cay_top="Mini3Cay_top",this.gameMiniPoker="MiniPoker",this.gameMiniPoker_LichSu="MiniPoker_LichSu",this.gameMiniPoker_Top="MiniPoker_Top"},onData:function(e){null==this.popupArr&&(this.popupArr={}),null!=e.loginByOther&&setTimeout(function(){cc.RedT.IS_LOGIN=!1,c.Instance.notice.show({title:"WARNING",text:"Account is logged in from another device"})},500),void 0!==e.mini&&(void 0!==e.mini.poker&&(this.popupArr[this.gameMiniPoker]&&this.popupArr[this.gameMiniPoker].getComponent("MiniPoker").onData(e.mini.poker),void 0!==e.mini.poker.log&&this.popupArr[this.gameMiniPoker_LichSu]&&this.popupArr[this.gameMiniPoker_LichSu].getComponent("MiniPoker_LichSu").onData(e.mini.poker.log),void 0!==e.mini.poker.top&&this.popupArr[this.gameMiniPoker_Top]&&this.popupArr[this.gameMiniPoker_Top].getComponent("MiniPoker_Top").onData(e.mini.poker.top)),void 0!==e.mini.big_babol&&(this.popupArr[this.gameBigBabol]&&this.popupArr[this.gameBigBabol].getComponent("BigBabol").onData(e.mini.big_babol),void 0!==e.mini.big_babol.log&&this.popupArr[this.gameBigBabol_LichSu]&&this.popupArr[this.gameBigBabol_LichSu].getComponent("BigBabol_LichSu").onData(e.mini.big_babol.log),void 0!==e.mini.big_babol.top&&this.popupArr[this.gameBigBabol_Top]&&this.popupArr[this.gameBigBabol_Top].getComponent("BigBabol_Top").onData(e.mini.big_babol.top)),void 0!==e.mini.baucua&&(this.popupArr[this.gameBauCua]&&this.popupArr[this.gameBauCua].getComponent("BauCua").onData(e.mini.baucua),void 0!==e.mini.baucua.tops&&this.popupArr[this.gameBauCua_Top]&&this.popupArr[this.gameBauCua_Top].getComponent("BauCua_top").onData(e.mini.baucua.tops),void 0!==e.mini.baucua.viewlogs&&this.popupArr[this.gameBauCua_LichSu]&&this.popupArr[this.gameBauCua_LichSu].getComponent("BauCua_LichSu").onData(e.mini.baucua.viewlogs)),void 0!==e.mini.bacay&&(this.popupArr[this.gameMini3Cay]&&this.popupArr[this.gameMini3Cay].getComponent("Mini3Cay").onData(e.mini.bacay),void 0!==e.mini.bacay.logs&&this.popupArr[this.gameMini3Cay_history]&&this.popupArr[this.gameMini3Cay_history].getComponent("Mini3Cay_history").onData(e.mini.bacay.logs),void 0!==e.mini.bacay.tops&&this.popupArr[this.gameMini3Cay_top]&&this.popupArr[this.gameMini3Cay_top].getComponent("Mini3Cay_top").onData(e.mini.bacay.tops)),void 0!==e.mini.caothap&&(this.popupArr[this.gameCaoThap]&&this.popupArr[this.gameCaoThap].getComponent("CaoThap").onData(e.mini.caothap),void 0!==e.mini.caothap.history&&this.popupArr[this.gameCaoThap_history]&&this.popupArr[this.gameCaoThap_history].getComponent("CaoThap_history").onData(e.mini.caothap.history),void 0!==e.mini.caothap.tops&&this.popupArr[this.gameCaoThap_top]&&this.popupArr[this.gameCaoThap_top].getComponent("CaoThap_top").onData(e.mini.caothap.tops)),void 0!==e.mini.arb&&(this.popupArr[this.gameAngryBirds]&&this.popupArr[this.gameAngryBirds].getComponent("AngryBirds").onData(e.mini.arb),void 0!==e.mini.arb.log&&this.popupArr[this.gameAngryBirds_history]&&this.popupArr[this.gameAngryBirds_history].getComponent("AngryBird_history").onData(e.mini.arb.log),void 0!==e.mini.arb.top&&this.popupArr[this.gameAngryBirds_top]&&this.popupArr[this.gameAngryBirds_top].getComponent("AngryBird_top").onData(e.mini.arb.top))),void 0!==e.taixiu&&(this.popupArr[this.gameTaiXiu]&&this.popupArr[this.gameTaiXiu].getComponent("TaiXiu").TX_Main.onData(e.taixiu),void 0!==e.taixiu.get_log&&this.popupArr[this.gameTaiXiu_LichSu]&&this.popupArr[this.gameTaiXiu_LichSu].getComponent("TaiXiuLichSu").onData(e.taixiu.get_log),void 0!==e.taixiu.get_phien&&this.popupArr[this.gameTaiXiu_LichSuPhien]&&this.popupArr[this.gameTaiXiu_LichSuPhien].getComponent("TaiXiuLichSuPhien").onData(e.taixiu.get_phien)),void 0!==e.transfer_user_agency&&this.popupArr[this.nameShop]&&this.popupArr[this.nameShop].getComponent("Shop").ChuyenRed.onDataTransferUserAgency(e.transfer_user_agency),void 0!==e.transfer_user_user&&this.popupArr[this.nameShop]&&this.popupArr[this.nameShop].getComponent("Shop").ChuyenRed.onDataTransferUserUser(e.transfer_user_user),void 0!==e.TopHu&&(cc.RedT.MainGame.TopHu&&cc.RedT.MainGame.TopHu.onData(e.TopHu),this.popupArr[this.nameEvent]&&this.popupArr[this.nameEvent].getComponent("DEvent").onHU(e.TopHu)),void 0!==e.phone&&(cc.RedT.user.phone=e.phone,this.popupArr[this.nameProfile]&&this.popupArr[this.nameProfile].getComponent("Profile").BaoMat.DangKyOTP.statusOTP(!i.isEmpty(e.phone)),i.isEmpty(e.phone)||(this.popupArr[this.nameProfile]&&(this.popupArr[this.nameProfile].getComponent("Profile").BaoMat.DangKyOTP.labelPhone.string=e.phone),cc.sys.localStorage.setItem("infoRed8",JSON.stringify(e)))),e.message&&this.popupArr[this.nameMessage]&&this.popupArr[this.nameMessage].getComponent("iMessage").onData(e.message),void 0!==e.shop&&this.popupArr[this.nameShop]&&this.popupArr[this.nameShop].getComponent("Shop").onData(e.shop),void 0!==e.profile&&this.popupArr[this.nameProfile]&&this.popupArr[this.nameProfile].getComponent("Profile").onData(e.profile),void 0!==e.captcha&&this.captcha(e.captcha),void 0!==e.event&&this.popupArr[this.nameEvent]&&this.popupArr[this.nameEvent].getComponent("DEvent").onData(e.event)},captcha:function(e){switch(e.name){case"signUp":this.popupArr[this.nameSignUp]&&this.popupArr[this.nameSignUp].getComponent("SignUp").initCaptcha(e.data);break;case"giftcode":this.popupArr[this.nameGiftCode]&&this.popupArr[this.nameGiftCode].getComponent("GiftCode").initCaptcha(e.data);break;case"forgotpass":this.popupArr[this.nameForgotName]&&this.popupArr[this.nameForgotName].getComponent("ForGotPass").initCaptcha(e.data);break;case"chargeCard":this.popupArr[this.nameShop]&&this.popupArr[this.nameShop].getComponent("Shop").NapRed.initCaptcha(e.data);break;case"withdrawXu":this.popupArr[this.nameShop]&&this.popupArr[this.nameShop].getComponent("Shop").TieuRed.initCaptcha(e.data)}},showSignIn:function(){var e=this;if(1!=cc.RedT.IS_LOGIN){var t=this.nameSignIn;this.popupArr[t]?this.popupArr[t].active=!0:this.loadPrefab(t,function(){e.popupArr[t].active=!0})}},hideSignIn:function(){this.hidePopup(this.nameSignIn)},showSignUp:function(){var e=this,t=this.nameSignUp;this.popupArr[t]?this.popupArr[t].active=!0:this.loadPrefab(t,function(){e.popupArr[t].active=!0})},hideSignUp:function(){this.hidePopup(this.nameSignUp)},showForgetPass:function(){var e=this,t=this.nameForgotName;this.popupArr[t]?this.popupArr[t].active=!0:this.loadPrefab(t,function(){e.popupArr[t].active=!0})},hideForgetPass:function(){this.hidePopup(this.nameForgotName)},showSetting:function(){var e=this,t=this.nameSetting;this.popupArr[t]?this.popupArr[t].active=!0:this.loadPrefab(t,function(){e.popupArr[t].active=!0})},hideSetting:function(){this.hidePopup(this.nameSetting)},showGiftcode:function(){var e=this,t=this.nameGiftCode;this.popupArr[t]?this.popupArr[t].active=!0:this.loadPrefab(t,function(){e.popupArr[t].active=!0})},hideGiftcode:function(){this.hidePopup(this.nameGiftCode)},showProfile:function(e){var t=this,i=this.nameProfile;this.popupArr[i]?(this.popupArr[i].active=!0,this.popupArr[i].getComponent("Profile").superView(e)):this.loadPrefab(i,function(){t.popupArr[i].active=!0,t.popupArr[i].getComponent("Profile").superView(e)})},hideProfile:function(){this.hidePopup(this.nameProfile)},showShop:function(e){var t=this,i=this.nameShop;cc.RedT.IS_LOGIN?this.popupArr[i]?(this.popupArr[i].active=!0,0==cc.RedT.user.showall||7==cc.RedT.user.showall||8==cc.RedT.user.showall||9==cc.RedT.user.showall?this.popupArr[i].getComponent("Shop").superView("IAP"):5==cc.RedT.user.showall||6==cc.RedT.user.showall?this.popupArr[i].getComponent("Shop").superView("C"):this.popupArr[i].getComponent("Shop").superView(e)):this.loadPrefab(i,function(){t.popupArr[i].active=!0,0==cc.RedT.user.showall||7==cc.RedT.user.showall||8==cc.RedT.user.showall||9==cc.RedT.user.showall?t.popupArr[i].getComponent("Shop").superView("IAP"):5==cc.RedT.user.showall||6==cc.RedT.user.showall?t.popupArr[i].getComponent("Shop").superView("C"):t.popupArr[i].getComponent("Shop").superView(e)}):this.showSignIn()},hideShop:function(){this.hidePopup(this.nameShop)},showIMessage:function(){var e=this,t=this.nameMessage;this.popupArr[t]?this.popupArr[t].active=!0:this.loadPrefab(t,function(){e.popupArr[t].active=!0})},hideIMessage:function(){this.hidePopup(this.nameMessage)},showEvent:function(){var e=this,t=this.nameEvent;this.popupArr[t]?this.popupArr[t].active=!0:this.loadPrefab(t,function(){e.popupArr[t].active=!0})},hideEvent:function(){this.hidePopup(this.nameEvent)},showSignName:function(){var e=this,t=this.nameSignName;this.popupArr[t]?this.popupArr[t].active=!0:this.loadPrefab(t,function(){e.popupArr[t].active=!0})},showTheCao:function(e){var t=this,i=this.nameTheCao;this.popupArr[i]?(this.popupArr[i].active=!0,this.popupArr[i].getComponent("TheCao").onData(e)):this.loadPrefab(i,function(){t.popupArr[i].active=!0,t.popupArr[i].getComponent("TheCao").onData(e)})},hideTheCao:function(){this.hidePopup(this.nameTheCao)},hideSignName:function(){this.hidePopup(this.nameSignName)},showGame:function(e){e==this.gameTaiXiu?this.showGameTaiXiu():e==this.gameBauCua?this.showGameBauCua():e==this.gameCaoThap?this.showGameCaoThap():e==this.gameAngryBirds?this.showGameAngryBirds():e==this.gameBigBabol?this.showGameBigBabol():e==this.gameMiniPoker?this.showGameMiniPoker():e==this.gameMini3Cay&&this.showGameMini3Cay()},showGameTaiXiu:function(){var e=this,t=this.gameTaiXiu;this.popupArr[t]?(this.popupArr[t].active=!0,this.popupArr[t].getComponent("TaiXiu").openGame()):this.loadPrefab(t,function(){e.popupArr[t].active=!0,e.popupArr[t].getComponent("TaiXiu").openGame()})},hideGameTaiXiu:function(){this.hidePopup(this.gameTaiXiu)},showGameTaiXiu_LichSu:function(e){var t=this,i=this.gameTaiXiu_LichSu;this.popupArr[i]?(this.popupArr[i].active=!0,this.popupArr[i].getComponent("TaiXiuLichSu").show(e)):this.loadPrefab(i,function(){t.popupArr[i].active=!0,t.popupArr[i].getComponent("TaiXiuLichSu").show(e)})},hideGameTaiXiu_LichSu:function(){this.hidePopup(this.gameTaiXiu_LichSu)},showGameTaiXiu_LichSuPhien:function(e,t){var i=this,n=this.gameTaiXiu_LichSuPhien;this.popupArr[n]?(this.popupArr[n].active=!0,this.popupArr[n].getComponent("TaiXiuLichSuPhien").show(e,t)):this.loadPrefab(n,function(){i.popupArr[n].active=!0,i.popupArr[n].getComponent("TaiXiuLichSuPhien").show(e,t)})},hideGameTaiXiu_LichSuPhien:function(){this.hidePopup(this.gameTaiXiu_LichSuPhien)},showGameBauCua:function(){var e=this,t=this.gameBauCua;this.popupArr[t]?(this.popupArr[t].active=!0,this.popupArr[t].getComponent("BauCua").openGame()):this.loadPrefab(t,function(){e.popupArr[t].active=!0,e.popupArr[t].getComponent("BauCua").openGame()})},hideGameBauCua:function(){this.hidePopup(this.gameBauCua)},showGameBauCuaLichSu:function(){var e=this,t=this.gameBauCua_LichSu;this.popupArr[t]?(this.popupArr[t].active=!0,this.popupArr[t].getComponent("BauCua_LichSu").show(this.popupArr[this.gameBauCua].getComponent("BauCua"))):this.loadPrefab(t,function(){e.popupArr[t].active=!0,e.popupArr[t].getComponent("BauCua_LichSu").show(e.popupArr[e.gameBauCua].getComponent("BauCua"))})},hideGameBauCuaLichSu:function(){this.hidePopup(this.gameBauCua_LichSu)},showGameBauCuaTop:function(){var e=this,t=this.gameBauCua_Top;this.popupArr[t]?(this.popupArr[t].active=!0,this.popupArr[t].getComponent("BauCua_top").show()):this.loadPrefab(t,function(){e.popupArr[t].active=!0,e.popupArr[t].getComponent("BauCua_top").show()})},hideGameBauCuaTop:function(){this.hidePopup(this.gameBauCua_Top)},showGameCaoThap:function(){var e=this,t=this.gameCaoThap;this.popupArr[t]?(this.popupArr[t].active=!0,this.popupArr[t].getComponent("CaoThap").openGame()):this.loadPrefab(t,function(){e.popupArr[t].active=!0,e.popupArr[t].getComponent("CaoThap").openGame()})},hideGameCaoThap:function(){this.hidePopup(this.gameCaoThap)},showGameCaoThap_history:function(){var e=this,t=this.gameCaoThap_history;this.popupArr[t]?(this.popupArr[t].active=!0,this.popupArr[t].getComponent("CaoThap_history").show()):this.loadPrefab(t,function(){e.popupArr[t].active=!0,e.popupArr[t].getComponent("CaoThap_history").show()})},hideGameCaoThap_history:function(){this.hidePopup(this.gameCaoThap_history)},showGameCaoThap_top:function(){var e=this,t=this.gameCaoThap_top;this.popupArr[t]?(this.popupArr[t].active=!0,this.popupArr[t].getComponent("CaoThap_top").show()):this.loadPrefab(t,function(){e.popupArr[t].active=!0,e.popupArr[t].getComponent("CaoThap_top").show()})},hideGameCaoThap_top:function(){this.hidePopup(this.gameCaoThap_top)},showGameAngryBirds:function(){var e=this,t=this.gameAngryBirds;this.popupArr[t]?(this.popupArr[t].active=!0,this.popupArr[t].getComponent("AngryBirds").openGame()):this.loadPrefab(t,function(){e.popupArr[t].active=!0,e.popupArr[t].getComponent("AngryBirds").openGame()})},hideGameAngryBirds:function(){this.hidePopup(this.gameAngryBirds)},showGameAngryBirds_history:function(){var e=this,t=this.gameAngryBirds_history;this.popupArr[t]?(this.popupArr[t].active=!0,this.popupArr[t].getComponent("AngryBird_history").show()):this.loadPrefab(t,function(){e.popupArr[t].active=!0,e.popupArr[t].getComponent("AngryBird_history").show()})},hideGameAngryBirds_history:function(){this.hidePopup(this.gameAngryBirds_history)},showGameAngryBirds_top:function(){var e=this,t=this.gameAngryBirds_top;this.popupArr[t]?(this.popupArr[t].active=!0,this.popupArr[t].getComponent("AngryBird_top").show()):this.loadPrefab(t,function(){e.popupArr[t].active=!0,e.popupArr[t].getComponent("AngryBird_top").show()})},hideGameAngryBirds_top:function(){this.hidePopup(this.gameAngryBirds_top)},showGameBigBabol:function(){var e=this,t=this.gameBigBabol;this.popupArr[t]?(this.popupArr[t].active=!0,this.popupArr[t].getComponent("BigBabol").openGame()):this.loadPrefab(t,function(){e.popupArr[t].active=!0,e.popupArr[t].getComponent("BigBabol").openGame()})},hideGameBigBabol:function(){this.hidePopup(this.gameBigBabol)},showGameBigBabol_LichSu:function(){var e=this,t=this.gameBigBabol_LichSu;this.popupArr[t]?(this.popupArr[t].active=!0,this.popupArr[t].getComponent("BigBabol_LichSu").show()):this.loadPrefab(t,function(){e.popupArr[t].active=!0,e.popupArr[t].getComponent("BigBabol_LichSu").show()})},hideGameBigBabol_LichSu:function(){this.hidePopup(this.gameBigBabol_LichSu)},showGameBigBabol_Top:function(){var e=this,t=this.gameBigBabol_Top;this.popupArr[t]?(this.popupArr[t].active=!0,this.popupArr[t].getComponent("BigBabol_Top").show()):this.loadPrefab(t,function(){e.popupArr[t].active=!0,e.popupArr[t].getComponent("BigBabol_Top").show()})},hideGameBigBabol_Top:function(){this.hidePopup(this.gameBigBabol_Top)},showGameMiniPoker:function(){var e=this,t=this.gameMiniPoker;this.popupArr[t]?(this.popupArr[t].active=!0,this.popupArr[t].getComponent("MiniPoker").openGame()):this.loadPrefab(t,function(){e.popupArr[t].active=!0,e.popupArr[t].getComponent("MiniPoker").openGame()})},hideGameMiniPoker:function(){this.hidePopup(this.gameMiniPoker)},showGameMiniPoker_LichSu:function(){var e=this,t=this.gameMiniPoker_LichSu;this.popupArr[t]?(this.popupArr[t].active=!0,this.popupArr[t].getComponent("MiniPoker_LichSu").show()):this.loadPrefab(t,function(){e.popupArr[t].active=!0,e.popupArr[t].getComponent("MiniPoker_LichSu").show()})},hideGameMiniPoker_LichSu:function(){this.hidePopup(this.gameMiniPoker_LichSu)},showGameMiniPoker_Top:function(){var e=this,t=this.gameMiniPoker_Top;this.popupArr[t]?(this.popupArr[t].active=!0,this.popupArr[t].getComponent("MiniPoker_Top").show()):this.loadPrefab(t,function(){e.popupArr[t].active=!0,e.popupArr[t].getComponent("MiniPoker_Top").show()})},hideGameMiniPoker_Top:function(){this.hidePopup(this.gameMiniPoker_Top)},showGameMini3Cay:function(){var e=this,t=this.gameMini3Cay;this.popupArr[t]?(this.popupArr[t].active=!0,this.popupArr[t].getComponent("Mini3Cay").openGame()):this.loadPrefab(t,function(){e.popupArr[t].active=!0,e.popupArr[t].getComponent("Mini3Cay").openGame()})},hideGameMini3Cay:function(){this.hidePopup(this.gameMini3Cay)},showGameMini3Cay_history:function(){var e=this,t=this.gameMini3Cay_history;this.popupArr[t]?(this.popupArr[t].active=!0,this.popupArr[t].getComponent("Mini3Cay_history").show()):this.loadPrefab(t,function(){e.popupArr[t].active=!0,e.popupArr[t].getComponent("Mini3Cay_history").show()})},hideGameMini3Cay_history:function(){this.hidePopup(this.gameMini3Cay_history)},showGameMini3Cay_top:function(){var e=this,t=this.gameMini3Cay_top;this.popupArr[t]?(this.popupArr[t].active=!0,this.popupArr[t].getComponent("Mini3Cay_top").show()):this.loadPrefab(t,function(){e.popupArr[t].active=!0,e.popupArr[t].getComponent("Mini3Cay_top").show()})},hideGameMini3Cay_top:function(){this.hidePopup(this.gameMini3Cay_top)},showGameHuongDan:function(e){var t=this,i=this.gameHuongDan;this.popupArr[i]?(this.popupArr[i].active=!0,this.popupArr[i].getComponent("dialogHuongDan").selectGame(null,e)):this.loadPrefab(i,function(){t.popupArr[i].active=!0,t.popupArr[i].getComponent("dialogHuongDan").selectGame(null,e)})},hideGameHuongDan:function(){this.hidePopup(this.gameHuongDan)},showPopup:function(e){var t=this;e=this.nameEvent,this.popupArr[e]?this.popupArr[e].active=!0:this.loadPrefab(e,function(){t.popupArr[e].active=!0})},showConnectPopup:function(){this.connectPopup.active=!0},hideConnectPopup:function(){this.connectPopup.active=!1},showEventPop:function(){var e=JSON.parse(localStorage.getItem("isDisplayPopEvent")),t=!1;if(null!=e)for(var i=0;i<e.length;i++){if(e[i].username==cc.RedT.user.name){1==e[i].hide?(t=!0,c.Instance.isDisplay.isChecked=!0):c.Instance.isDisplay.isChecked=!1;break}c.Instance.isDisplay.isChecked=!1}null!=t&&0==t?this.showEventPopup.active=!0:this.hideEventPop()},hideEventPop:function(){var e=this;this.showEventPopup.active=!1;var t;t=1==this.isDisplay.isChecked;var i=JSON.parse(localStorage.getItem("isDisplayPopEvent"));if(1!=i&&null!=i||(i=[]),i!=[]){for(var n=1,a=0;a<i.length;a++){if(i[a].username==cc.RedT.user.name){i[a].hide=t,n=0;break}n=1}0==n?cc.sys.localStorage.setItem("isDisplayPopEvent",JSON.stringify(i)):(i.push({username:cc.RedT.user.name,hide:t}),cc.sys.localStorage.setItem("isDisplayPopEvent",JSON.stringify(i)))}else i=[{username:cc.RedT.user.name,hide:t}],cc.sys.localStorage.setItem("isDisplayPopEvent",JSON.stringify(i));this.showPopupDaily(),setTimeout(function(){e.isAllNodeoff()&&e.checkReceived5min()&&cc.RedT.user.red<1e3&&e.showwatchVideo()},100)},hidePopup:function(e){this.popupArr[e]&&(this.popupArr[e].destroy(),this.popupArr[e]=null)},hideAll:function(){for(var e in this.popupArr)this.hidePopup(e)},loadPrefab:function(e,t){var i=cc.instantiate(this.popupArrCache[e]);i.parent=this.nodePopup,this.popupArr[e]=i,t(this.popupArrCache[e])},offAllButton:function(){this.buttonConnet.spriteFrame=this.defaultButtonSprite[1],this.buttonPurchase.spriteFrame=this.defaultButtonSprite[1]},disableALLEvent:function(){for(var e in this.eventPopup)this.eventPopup[e].active=!1},onbtnFirstPurchase:function(){this.offAllButton(),this.disableALLEvent(),this.eventPopup[1].active=!0,this.buttonPurchase.spriteFrame=this.defaultButtonSprite[0]},onbtnConnect:function(){this.offAllButton(),this.disableALLEvent(),this.eventPopup[0].active=!0,this.buttonConnet.spriteFrame=this.defaultButtonSprite[0]},checkNextDay:function(e){var t=new Date,i=JSON.parse(localStorage.getItem(e));if(null==i&&(i=[]),i!=[]){for(var n=1,a=0;a<i.length;a++)if(i[a].username==cc.RedT.user.name){t-i[a].nextDay>0&&(i[a].received1=i[a].received2=!1,i[a].nextDay=t.setHours(24,0,0,0)),n=0;break}if(0==n)cc.sys.localStorage.setItem(e,JSON.stringify(i));else{var o=t.setHours(24,0,0,0);i.push({username:cc.RedT.user.name,nextDay:o,received1:!1,received2:!1}),cc.sys.localStorage.setItem(e,JSON.stringify(i))}}else o=t.setHours(24,0,0,0),i=[{username:cc.RedT.user.name,nextDay:o,hide:hide}],cc.sys.localStorage.setItem(e,JSON.stringify(i))},showPopupDaily:function(){var e=new Date,t=t=e.getHours()+":"+e.getMinutes()+":"+e.getSeconds();if("11:00:00"<t&&t<"13:00:00"){if(c.Instance.checkNextDay("isDisplayDailyBonus"),null!=(a=JSON.parse(localStorage.getItem("isDisplayDailyBonus"))))for(var n=0;n<a.length;n++)if(a[n].username==cc.RedT.user.name){0==a[n].received1&&c.Instance.notice.show({title:i.getLang(cc.RedT.language,"dailybonus_title"),text:i.getLang(cc.RedT.language,"dailybonus_text"),button:{type:"closeGolden",text:i.getLang(cc.RedT.language,"receive_bonus")}});break}}else if("17:00:00"<t&&t<"21:00:00"){var a;if(c.Instance.checkNextDay("isDisplayDailyBonus"),null!=(a=JSON.parse(localStorage.getItem("isDisplayDailyBonus"))))for(n=0;n<a.length;n++)if(a[n].username==cc.RedT.user.name){0==a[n].received2&&c.Instance.notice.show({title:i.getLang(cc.RedT.language,"dailybonus_title"),text:i.getLang(cc.RedT.language,"dailybonus_text"),button:{type:"closeGolden",text:i.getLang(cc.RedT.language,"receive_bonus")}});break}}else this.closePopupDaily()},closePopupDaily:function(){var e=this,t=new Date,i=i=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds(),n=JSON.parse(localStorage.getItem("isDisplayDailyBonus"));if("11:00:00"<i&&i<"13:00:00")for(var a=0;a<n.length;a++)if(n[a].username==cc.RedT.user.name){n[a].received1=!0,cc.sys.localStorage.setItem("isDisplayDailyBonus",JSON.stringify(n));break}if("17:00:00"<i&&i<"21:00:00")for(a=0;a<n.length;a++)if(n[a].username==cc.RedT.user.name){n[a].received2=!0,cc.sys.localStorage.setItem("isDisplayDailyBonus",JSON.stringify(n));break}1!=cc.RedT.user.apple&&1!=cc.RedT.user.facebook||this.showConnectDaily(),setTimeout(function(){e.isAllNodeoff()&&e.checkReceived5min()&&cc.RedT.user.red<1e3&&e.showwatchVideo()},100)},showConnectDaily:function(){c.Instance.checkNextDay("isDisplayConnectBonus");var e=JSON.parse(localStorage.getItem("isDisplayConnectBonus"));if(null!=e)for(var t=0;t<e.length;t++)if(e[t].username==cc.RedT.user.name){0==e[t].received1&&c.Instance.notice.show({title:i.getLang(cc.RedT.language,"connectBonus_title"),text:i.getLang(cc.RedT.language,"connectBonus_text"),button:{type:"closeConnect",text:i.getLang(cc.RedT.language,"receive_bonus")}});break}},closeConnectDaily:function(){for(var e=this,t=new Date,i=(t.getHours(),t.getMinutes(),t.getSeconds(),JSON.parse(localStorage.getItem("isDisplayConnectBonus"))),n=0;n<i.length;n++)if(i[n].username==cc.RedT.user.name){i[n].received1=!0,cc.sys.localStorage.setItem("isDisplayConnectBonus",JSON.stringify(i));break}setTimeout(function(){e.isAllNodeoff()&&e.checkReceived5min()&&cc.RedT.user.red<1e3&&e.showwatchVideo()},100)},showAddFriend:function(e){this.nodeAddFriend.active=!0,e.nickname.string.length>15?this.userName.string=e.nickname.string.substring(0,15)+"...":this.userName.string=e.nickname.string,this.userMoney.string=e.balans.string,this.avatar.spriteFrame=e.Avatar.spriteFrame,this.UID.string=e.userUID},showAddFriendTlmn:function(e){this.nodeAddFriend.active=!0,e._playerData.Account.UserName.length>15?this.userName.string=e._playerData.Account.UserName.substring(0,15)+"...":this.userName.string=e._playerData.Account.UserName,this.userMoney.string=e._playerData.Account.Gold,this.avatar.spriteFrame=e.spriteAva.node.getComponent(cc.Sprite).spriteFrame,this.UID.string=e._playerData.AccountID},addFriendButton:function(){cc.RedT.send({friendconnect:{addFriend:{UID:parseInt(this.UID.string)}}})},closeAddFriend:function(){this.nodeAddFriend.active=!1},showwatchVideo:function(){if(this.checkReceived5min()){this.notice.close();var e=Math.floor(-4e4*Math.random()+5e4);this.coins=1e3*Math.round(e/1e3),a.Instance.amountOfCoins(this.coins),a.Instance.randomImgPopup(),this.watchVideo4Coins.node.active=!0}else this.notice.close(),this.coins=null},hidewatchVideo:function(){this.watchVideo4Coins.node.active=!1},isAllNodeoff:function(){return 0==this.notice.node.active&&0==this.connectPopup.active&&0==this.showEventPopup.active},randomRewardCoins:function(){},checkReceived5min:function(){var e=(new Date).getTime(),t=localStorage.getItem("coinsWatchVideo");return null==t||e-(t=parseInt(t))>3e5},openAdmobVideo:function(){var e=(new Date).getTime();cc.sys.localStorage.setItem("coinsWatchVideo",e),o.Instance.showRewarded()},showCollectCoins:function(){this.showEventPopup.active=!1,this.collectCoinsBanner.active=!0,this.coins?this.coinsLabel.string=this.coins:this.coinsLabel.string=5e4},rewardCoins:function(e,t){if(t)return this.coins=t,void cc.RedT.send({user:{refundVideoPoker:!0,amount:t}});this.coins?cc.RedT.send({user:{refundVideoPoker:!0,amount:this.coins,notice:!1}}):cc.RedT.send({user:{rewardVideo:!0}}),this.collectCoinsBanner.active=!1,this.MileStone.calculateTimes()},coinsEventWatch:function(e){this.coins=e?5e4:1e4},showMileStone:function(){this.MileStone.calculateTimes();for(var e=JSON.parse(localStorage.getItem("MileStoneWatch")),t=0;t<e.length;t++)e[t].username!=cc.RedT.user.name||this.MileStone.checkReceivedAll()?this.MileStone.node.active=!1:this.MileStone.node.active=!0},noticeBonusLvl:function(e){c.Instance.notice.show({title:i.getLang(cc.RedT.language,"taixiu_notice"),text:i.getLang(cc.RedT.language,"bonus_level"),button:{type:"bonus_level",text:i.getLang(cc.RedT.language,"receive_bonus")},bonus:{amount:e.user.bonus}})}});t.exports=c,cc._RF.pop()},{Admob:"Admob",Helper:"Helper",MileStone:"MileStone",Notice:"Notice",watchVideoPopup:"watchVideoPopup"}],UIScreenGamePlayBinh:[function(e,t){"use strict";cc._RF.push(t,"baa93i0AI1LbIsATBgeyMeR","UIScreenGamePlayBinh");var i,n=(i=e("UIPopupManager"))&&i.__esModule?i:{default:i},a=e("UIItemPlayerBinh"),o=null,s=e("Helper"),c=e("TLMN_Deck"),r=(e("TaiXiu_efScale"),0),l={Flip:!1,IsDraggable:!1,CardNumber:1,CardSuite:30,OrdinalValue:1},h=cc.v2(-50,50),d=cc.v2(-50,50);cc.Class({extends:cc.Component,properties:{chatBox:cc.Node,boxUI:cc.Node,boxWatchVideo:cc.Node,listSpriteToiTrang:{default:[],type:cc.SpriteFrame},listSpriteStatus:{default:[],type:cc.SpriteFrame},canvasNode:{default:null,type:cc.Node},tranWorld:{default:null,type:cc.Node},tranUserCards:{default:[],type:cc.Node},tranTable:{default:null,type:cc.Node},prefabCard:{default:null,type:cc.Node},uiUser:{default:null,type:a},uiPlayerArr:{default:[],type:a},uiPlayerArrSolo:{default:[],type:a},labelRoom:{default:null,type:cc.Label},labelMucCuoc:{default:null,type:cc.Label},labelSessionId:{default:null,type:cc.Label},nodeBtnXepBai:{default:null,type:cc.Button},nodeBtnBatDau:{default:null,type:cc.Node},nodeBtnSanSang:{default:null,type:cc.Node},boxButtonBot:{default:null,type:cc.Node},autoReady:{default:null,type:cc.Toggle},audioClick:cc.AudioSource,audioHit:cc.AudioSource,label_hand1:cc.Node,label_hand2:cc.Node,label_hand3:cc.Node,Node_binhlung:cc.Node,text_binhlung:cc.Node,cardholder:cc.Node,xepBai:cc.Node,userTableCards:cc.Node,objDropdownSetting:cc.Node,audioIcons:{default:[],type:cc.SpriteFrame},audioIcon:cc.Sprite},init:function(e){o=this,this.manager=e,this.userCards=[],this.tableCards=[]},onLoad:function(){this.isShowBoxUI=!1},onBtnToggleBoxUI:function(){var e=this;cc.Tween.stopAllByTarget(this.boxUI),0==this.isShowBoxUI?(this.isShowBoxUI=!0,this.boxUI.position=cc.v2(-500,0),this.boxUI.active=!0,cc.tween(this.boxUI).to(.25,{position:cc.v2(0,0)},{easing:"backCir"}).start()):(this.isShowBoxUI=!1,cc.tween(this.boxUI).to(.25,{position:cc.v2(-500,0)},{easing:"backCir"}).call(function(){e.boxUI.active=!0}).start())},onBtnToggleBoxWatchVideo:function(){var e=this;cc.Tween.stopAllByTarget(this.boxWatchVideo),0==this.isShowboxWatchVideo?(this.isShowboxWatchVideo=!0,this.boxWatchVideo.position=cc.v2(-250,0),this.boxWatchVideo.active=!0,cc.tween(this.boxWatchVideo).to(.25,{position:cc.v2(-20,0)}).start()):(this.isShowboxWatchVideo=!1,cc.tween(this.boxWatchVideo).to(.25,{position:cc.v2(-250,0)}).call(function(){e.boxWatchVideo.active=!0}).start())},click_audio:function(){cc.RedT.isSoundGame()&&this.audioClick.play()},distributeCard_audio:function(){cc.RedT.isSoundGame()&&this.audioCardFlip.play()},responseLeaveGame:function(e){var t=e;if(o.myData.AccountID==t)o.close();else{for(var i=0;i<o.uiPlayerArr.length;i++)o.uiPlayerArr[i].isPlayer()&&o.uiPlayerArr[i].clearUI();for(i=0;i<o.dataRoom.Positions.length;i++)o.dataRoom.Positions[i]==t&&(o.dataRoom.Positions[i]=0);o.dataRoom.Players[t]=null;var n=!0;for(i=0;i<o.uiPlayerArr.length;i++)o.uiPlayerArr[i].nodeBoxActive.active&&(n=!1);n&&(o.nodeBtnBatDau.active=!1,o.uiUser.hideCountDown())}},close:function(){this.clearUI(),this.manager.hubManager.invokeString("GetLobbyInfo")},responseplayerLeave:function(e){var t=e;if(o.myData.AccountID==t)o.close();else{for(var i=0;i<o.uiPlayerArr.length;i++)o.uiPlayerArr[i].isPlayer(t)&&o.uiPlayerArr[i].clearUI();for(i=0;i<o.dataRoom.Positions.length;i++)o.dataRoom.Positions[i]==t&&(o.dataRoom.Positions[i]=0);o.dataRoom.Players[t]=null;var n=!0;for(i=0;i<o.uiPlayerArr.length;i++)o.uiPlayerArr[i].nodeBoxActive.active&&(n=!1);n&&(o.nodeBtnBatDau.active=!1,o.uiUser.hideCountDown())}},responseRegisterLeaveRoom:function(){},responseStartActionTimer:function(e,t,i){o.uiUser.hideCountDown();for(var n=0;n<o.uiPlayerArr.length;n++)o.uiPlayerArr[n].hideCountDown();o.uiUser.showCountDown(t),o.loadActionPlayer(i)},responseplayerJoin:function(e){var t=e;o.dataRoom.Players[t.AccountID+""]=t,o.uiPlayerArr[t.Position-1].init(o.dataRoom,t,null,o)},responseendRound:function(){o.turnInRound=0;for(var e=0;e<o.tableCards.length;e++)o.tableCards[e].node.destroy();o.tableCards=[]},responseboLuot:function(e){var t=e;if(o.myData.AccountID==t)o.uiUser.hideCountDown();else{for(var i=null,n=0;n<o.uiPlayerArr.length;n++)o.uiPlayerArr[n].isPlayer(t)&&(i=o.uiPlayerArr[n]);i&&i.hideCountDown()}},onBtnTestStartGame:function(e,t){var i=JSON.parse(t);this.responsestartGame(i)},onBtnTestJoinGame:function(e,t){var i=JSON.parse(t);this.responseplayerJoin(i)},onBtnTestWinLose:function(e,t){var i=JSON.parse(t);this.responseshowResult(i)},responsestartGame:function(e){null!=this.timeWaitToBeReady&&(clearTimeout(this.timeWaitToBeReady),this.timeWaitToBeReady=null),this.opponentCard=null,o.isXepBai=!0,o.dataRoom=e,o.giveBackAll(),o.myData=o.dataRoom.Players[cc.RedT.user.UID+""],this.nodeBtnSanSang.active=!1,o.loadRoomInfo(),o.uiUser.updateUserData(o.myData,o.dataRoom),o.uiUser.hideStatus(),o.uiUser.hideBao1La(),clearTimeout(o.timeWaitToBeReady),cc.RedT.user.red=o.myData.Account.Gold;for(var t=0;t<o.uiPlayerArr.length;t++){o.uiPlayerArr[t].hideStatus(),o.uiPlayerArr[t].hideBao1La();var i=o.uiPlayerArr[t].getIDPlayer();i&&o.dataRoom.Players[i+""]&&o.uiPlayerArr[t].updateUserData(o.dataRoom.Players[i+""],o.dataRoom)}o.nodeBtnBatDau.active=!1,o.turnInRound=0,o.waitChiaBai()},responseaskBaoBinh:function(e){var t=parseInt(e);t>0&&o.uiUser.showCountDown(t),o.nodeBtnXepBai.active=!0,o.boxButtonBot.active=!0},responseplayerBaoBinh:function(e){var t=e;if(o.uiUser._playerData.AccountID==t)o.uiUser.ShowBaoBinh();else for(var i=0;i<o.uiPlayerArr.length;i++)null!=o.uiPlayerArr[i]._playerData&&o.uiPlayerArr[i]._playerData.AccountID==t&&o.uiPlayerArr[i].ShowBaoBinh()},responsexepBai:function(){},onChat:function(e){if(this.ingameChat.onData(e),null!=e.message){var t=e.message.user;if(t==cc.RedT.user.name)o.uiUser.Chat(e.message.value);else for(var i=0;i<o.uiPlayerArr.length;i++)null!=o.uiPlayerArr[i]._playerData&&o.uiPlayerArr[i]._playerData.Account.UserName==t&&o.uiPlayerArr[i].Chat(e.message.value)}},responsedanhBai:function(e,t,i){var n=e,a=t;o.dataRoom=i,o.myData=o.dataRoom.Players[cc.RedT.user.UID],o.uiUser.hideStatus();for(var s=0;s<o.uiPlayerArr.length;s++)o.uiPlayerArr[s].hideStatus();var c=[];if(o.myData.AccountID==n){for(var r in this.opponentCard=null,this.highlightAll(),a){var h=a[r],d=null;for(s=0;s<o.userCards.length;s++)o.userCards[s].isCheckCard(h)&&(d=s);if(null!=d){var u=o.userCards[d];c.push(u),o.userCards.splice(d,1)}}for(o.addCardToTable(c,!0),s=o.userCards.length-1;s>=0;s--){var p=(b=o.userCards[s]).node,g=o.getMiddleIndex(s,o.userCards.length);b.moveCard(cc.v2(0,0),cc.v2(0,0),g,null,1,!1,!1)}1==o.userCards.length?o.uiUser.showBao1La():o.uiUser.hideBao1La()}else{this.opponentCard=a;var m=null;for(s=0;s<o.uiPlayerArr.length;s++)(h=o.uiPlayerArr[s].getIDPlayer())==n&&(m=o.uiPlayerArr[s]);if(m){var f=null;for(var r in a){var v=a[r],b=o.borrowCard(),T=l;T.OrdinalValue=v,b.loadData(T,null,!1),b.loadCard(),p=b.node;var y=m.getTransGcard();p.parent=y,p.scale=cc.v2(.6,.6),p.position=cc.v2(0,0),c.push(b),(f=m.getDataUser()).HandCards.length>0&&f.HandCards.splice(0,1)}null!=f&&m.updateCardNumber(f.HandCards.length)}o.addCardToTable(c,!0),this.audioHit.play()}o.showTuQuy(n),o.showThreeStraightPair(n),o.showFourStraightPair(n)},responseshowResult:function(e){o.dataRoom=e,o.myData=o.dataRoom.Players[cc.RedT.user.UID],o.closeXepBai(),o.waitShowResult()},onDisable:function(){null!=this.timeoutResult&&(clearTimeout(this.timeoutResult),this.timeoutResult=null),null!=this.timeoutCard&&(clearTimeout(this.timeoutCard),this.timeoutCard=null),null!=this.timeOutDelay&&(clearTimeout(this.timeOutDelay),this.timeOutDelay=null),null!=this.timeoutHand2&&(clearTimeout(this.timeoutHand2),this.timeoutHand2=null),null!=this.timeoutHand3&&(clearTimeout(this.timeoutHand3),this.timeoutHand3=null),null!=this.timeoutResultHandAll&&(clearTimeout(this.timeoutResultHandAll),this.timeoutResultHandAll=null),null!=this.timeoutResultHand_2&&(clearTimeout(this.timeoutResultHand_2),this.timeoutResultHand_2=null),null!=this.timeoutResultHand_3&&(clearTimeout(this.timeoutResultHand_3),this.timeoutResultHand_3=null),null!=this.timeoutResultHand_All&&(clearTimeout(this.timeoutResultHand_All),this.timeoutResultHand_All=null),null!=this.timeWaitToBeReady&&(clearTimeout(this.timeWaitToBeReady),this.timeWaitToBeReady=null),null!=this.timeoutClearTable&&(clearTimeout(this.timeoutResult),this.timeoutClearTable2=null),null!=this.timeoutClearTable2&&(clearTimeout(this.timeoutResult),this.timeoutClearTable2=null),null!=this.timeoutClearTable3&&(clearTimeout(this.timeoutResult),this.timeoutClearTable2=null),null!=this.timeoutHand2&&(clearTimeout(this.timeoutResult),this.timeoutClearTable2=null),null!=this.timeoutHand3&&(clearTimeout(this.timeoutResult),this.timeoutClearTable2=null)},responsePlayerReady:function(e){if(o.myData&&e==o.myData.AccountID)this.nodeBtnSanSang.active=!1,o.uiUser.nodeIconReady.active=!0;else for(var t=0;t<o.uiPlayerArr.length;t++){var i=o.uiPlayerArr[t];i._playerData&&i._playerData.AccountID==e&&(i.nodeIconReady.active=!0)}},responseshowChatbai:function(e){this.showChat(e.win),this.showChat(e.lose)},showChat:function(e){if(e.AccountId==o.myData.AccountID)o.uiUser.showStatus_string(e.Money>0?"tlmn_chat":"tlmn_bi_chat",!0,e.Money,5);else for(var t=0;t<o.uiPlayerArr.length;t++){var i=o.uiPlayerArr[t];i._playerData&&i._playerData.AccountID==e.AccountId&&i.showStatus_string(e.Money>0?"tlmn_chat":"tlmn_bi_chat",!0,e.Money,5)}},waitShowResult:function(){this.timeoutResult=setTimeout(function(){o.disableAllButton(),o.removeTableCard();for(var e=0;e<o.userCards.length;e++)o.userCards[e].disableCardSelect();o.label_hand1.active=o.label_hand2.active=o.label_hand3.active=!1,o.Node_binhlung.active=!1,o.uiUser.hideCard(),o.uiUser.hideBao1La(),o.uiUser.hideCountDown(),o.uiUser.updateUserData(o.myData,o.dataRoom),o.myData.Status=2,cc.RedT.user.red=o.myData.Account.Gold;var t=null;for(e=0;e<o.dataRoom.GameLoop.SessionResult.ResultList.length;e++)o.dataRoom.GameLoop.SessionResult.ResultList[e].AccountId==o.myData.AccountID&&(t=o.dataRoom.GameLoop.SessionResult.ResultList[e]);if(t){var i=null;null!=t.ResultTextKey||null!=t.ResultTextKeyChi?(t.binhLung||t.ResultFamily?o.uiUser.showStatus_string(1,o.receiveTextKey(t.ResultTextKey),!0,t,0,!1,!0):(o.uiUser.showStatus_string(1,o.receiveTextKey(t.ResultTextKeyChi1),!0,t.totalWinChi1,0),o.timeoutResultHand_2=setTimeout(function(){o.uiUser.showStatus_string(2,o.receiveTextKey(t.ResultTextKeyChi2),!0,t.totalWinChi2,0),o.timeoutResultHand_3=setTimeout(function(){o.uiUser.showStatus_string(3,o.receiveTextKey(t.ResultTextKeyChi3),!0,t.totalWinChi3,0),null==t.ResultTextKey||""==t.ResultTextKey||0==t.length?o.timeoutResultHand_All=setTimeout(function(){o.uiUser.showStatus_string(1,o.receiveTextKey(t.ResultTextKey),!0,t,0,!0,!1,!0)},6e3):o.timeoutResultHand_All=setTimeout(function(){o.uiUser.showStatus_string(1,o.receiveTextKey(t.ResultTextKey),!0,t,0,!0,!1)},6e3)},6e3)},6e3)),r=t.ResultFamily?5.8:23):(i=5==t.ResultFamily?t.WinType<0?o.listSpriteStatus[5]:o.listSpriteToiTrang[t.WinType]:o.listSpriteStatus[t.ResultFamily],o.uiUser.showStatus(i,!0,t.Money,0));var n=[];for(e=o.userTableCards.children.length-1;e>=0;e--)n[e]=o.userTableCards.children[e].getComponent(cc.Sprite).spriteFrame;for(e=0;e<o.userTableCards.children.length;)o.userTableCards.children[e].color=o.userTableCards.children[e].color.fromHEX("#FFFFFF"),e>=8&&e<=12?cc.instantiate(o.userTableCards.children[e]).parent=o.cardholder:o.userTableCards.children[e].color=o.userTableCards.children[e].color.fromHEX("#7A7A7A"),e++;o.timeoutClearTable=setTimeout(function(){o.cardholder.removeAllChildren(),o.tranWorld.removeAllChildren();for(var e=0;e<o.userTableCards.children.length;)o.userTableCards.children[e].color=o.userTableCards.children[e].color.fromHEX("#FFFFFF"),e>=3&&e<=7?cc.instantiate(o.userTableCards.children[e]).parent=o.cardholder:o.userTableCards.children[e].color=o.userTableCards.children[e].color.fromHEX("#7A7A7A"),e++;o.timeoutClearTable2=setTimeout(function(){o.cardholder.removeAllChildren(),o.tranWorld.removeAllChildren();for(var e=0;e<o.userTableCards.children.length;)o.userTableCards.children[e].color=o.userTableCards.children[e].color.fromHEX("#FFFFFF"),e>=0&&e<=2?cc.instantiate(o.userTableCards.children[e]).parent=o.cardholder:o.userTableCards.children[e].color=o.userTableCards.children[e].color.fromHEX("#7A7A7A"),e++;o.timeoutClearTable3=setTimeout(function(){o.cardholder.removeAllChildren(),o.tranWorld.removeAllChildren();for(var e=0;e<o.userTableCards.children.length;)o.userTableCards.children[e].color=o.userTableCards.children[e].color.fromHEX("#FFFFFF"),e++},6e3)},6e3)},6e3)}for(var a=0;a<o.uiPlayerArr.length;a++){var s=o.uiPlayerArr[a];s.hideCountDown(),s.hideCard(),s.hideBao1La();var c=!1,l=!1,h=s.getDataUser();h&&(l=!0);var d=s.getIDPlayer();if(d&&(h=o.dataRoom.Players[d])&&(c=!0),1==l&&c){s.updateUserData(h,o.dataRoom),h.Status=2;var u=null;for(e=0;e<o.dataRoom.GameLoop.SessionResult.ResultList.length;e++)o.dataRoom.GameLoop.SessionResult.ResultList[e].AccountId==h.AccountID&&(u=o.dataRoom.GameLoop.SessionResult.ResultList[e]);if(u){if(i=null,null!=u.ResultTextKey||null!=t.ResultTextKeyChi){if(u.binhLung||u.ResultFamily)s.showStatus_string(1,o.receiveTextKey(u.ResultTextKey),!0,u,0,!1,!0);else{var p=s;p.showStatus_string(1,o.receiveTextKey(u.ResultTextKeyChi1),!0,u.totalWinChi1,0),o.timeoutResultHand2=setTimeout(function(){p.showStatus_string(2,o.receiveTextKey(u.ResultTextKeyChi2),!0,u.totalWinChi2,0),o.timeoutResultHand3=setTimeout(function(){p.showStatus_string(3,o.receiveTextKey(u.ResultTextKeyChi3),!0,u.totalWinChi3,0),null==u.ResultTextKey||""==u.ResultTextKey||0==u.length?o.timeoutResultHandAll=setTimeout(function(){p.showStatus_string(1,o.receiveTextKey(u.ResultTextKey),!0,u,0,!0,!1,!0)},6e3):o.timeoutResultHandAll=setTimeout(function(){p.showStatus_string(1,o.receiveTextKey(u.ResultTextKey),!0,u,0,!0,!1)},6e3)},6e3)},6e3)}r=u.ResultFamily?5.8:23}else i=5==u.ResultFamily?u.WinType<0?o.listSpriteStatus[5]:o.listSpriteToiTrang[u.WinType]:o.listSpriteStatus[u.ResultFamily],s.showStatus(i,!0,u.Money,0);u.binhLung||u.ResultFamily?o.showCardInHand(s,a,!0,u.ResultTextKey):o.showCardInHand(s,a,!1,u.ResultTextKey)}}}o.timeoutCard=setTimeout(function(){if(0==o.autoReady.isChecked){if(o.tableCards.length>0||o.userCards.length>0){o.giveBackAll(),o.uiUser.hideStatus();for(var e=0;e<o.uiPlayerArr.length;e++)o.uiPlayerArr[e].hideStatus()}o.nodeBtnSanSang.active=!0,o.uiUser.showCountDown(20),o.timeWaitToBeReady=setTimeout(function(){var e=o;1==e.myData.Status||e.uiUser.nodeIconReady.active||e.manager.hubManager.invokeString("LeaveRoom",e.dataRoom.id)},2e4)}else o.onBtnBatDau()},1e3*r)},800)},showTuQuy:function(){},showThreeStraightPair:function(){},showFourStraightPair:function(){},receiveTextKey:function(e){if(null!=e&&Array.isArray(e)){for(var t=[],i=0;i<e.length;i++)if(""!=e[i]){var n=[];-1!=e[i].indexOf(")")?((n=e[i].split("("))[0]=s.getLang(cc.RedT.language,this.compareTextKey(n[0])),t[i]=n[0]+" ("+n[1]):t[i]=s.getLang(cc.RedT.language,this.compareTextKey(e[i]))}}else-1!=e.indexOf(")")?(n=[],(n=e.toString().split("("))[0]=s.getLang(cc.RedT.language,this.compareTextKey(n[0])),t=n[0]+" ("+n[1]):t=s.getLang(cc.RedT.language,this.compareTextKey(e));return t},compareTextKey:function(e){if(""==e)e="";else if("High Card "==e)e="highcard";else if("Four of a kind "==e)e="4ofkind";else if("Full House "==e)e="fullhouse";else if("Flush"==e)e="flush";else if("Straight Flush "==e)e="straightflush";else if("Straight "==e)e="straight";else if("Three of a Kind "==e)e="3ofkind";else if("Two Pair "==e)e="2pair";else if("One Pair "==e)e="1pair";else if("thuaSapHam"==e)e="thuasapham";else if("thuaSapLang"==e)e="thuasaplang";else if("thangSapHam"==e)e="thangsaplang";else{if("thangSapLang"!=e)return e;e="thangsapham"}return e},waitChiaBai:function(){for(var e=0;e<o.uiPlayerArr.length;e++)if(o.uiPlayerArr[e].isPlaying()){var t=o.uiPlayerArr[e].getTransGcard(),i=t.parent.convertToWorldSpaceAR(t.getPosition()),n=o.node.convertToNodeSpaceAR(i),a=e;o.showHand3Rows(o.uiPlayerArr[e].getDataUser().HandCards,0,n,50,a)}for(a=0;a<o.myData.HandCards.length;a++)e=a,o.delayWaitChiaBai(.06*e,e);this.timeOutXepbai=setTimeout(function(){o.onBtnXepBai()},900)},delayWaitChiaBai:function(e,t){this.timeOutDelay=setTimeout(function(){var e=o.borrowCard();e.loadData(o.myData.HandCards[t],null,!0);var i=o.uiUser.getTransGcard();e.node.parent=o.node,e.node.scale=cc.v2(1,1);var n=o.node.parent.convertToWorldSpaceAR(i.getPosition()),a=o.node.convertToNodeSpaceAR(n);e.node.position=a,e.moveCard(cc.v2(0,0),a,null,null,1,!1,!0),o.userCards.push(e);for(var s=0;s<o.uiPlayerArr.length;s++){var c=o.uiPlayerArr[s].isPlaying(),r=o.uiPlayerArr[s].getDataUser();if(c&&r.HandCards.length>t){var l=o.borrowCard();l.node.parent=o.node,l.node.position=cc.v2(0,0),l.loadData(r.HandCards[t],null,!1);var h=o.uiPlayerArr[s].getTransGcard();n=h.parent.convertToWorldSpaceAR(h.position),a=o.node.convertToNodeSpaceAR(n),l.node.scale=cc.v2(1,1),l.moveCard(cc.v2(0,0),a,null,null,1,!0,!1),o.uiPlayerArr[s].updateCardNumber(t+1)}}},1e3*e)},giveBackAll:function(){for(var e=0;e<o.tableCards.length;e++)o.tableCards[e].node.destroy();for(e=0;e<o.userCards.length;e++)o.userCards[e].node.destroy(),o.userTableCards.children[e].getComponent(cc.Sprite).spriteFrame=null;o.tableCards=[],o.userCards=[],o.label_hand1.active=o.label_hand2.active=o.label_hand3.active=!1,o.Node_binhlung.active=!1},loadRoomInfo:function(){o.labelRoom.string=o.dataRoom.Name,o.labelMucCuoc.string=s.ToKMB2(o.dataRoom.MinBet),o.labelSessionId.string="#"+o.dataRoom.CurrentGameLoopId},show:function(e){if(this.clearUI(),this.isXepBai=!0,this.tableCards=[],this.dataRoom=e,this.node.active=!0,this.labelRoom.string=this.dataRoom.Name,this.labelMucCuoc.string=s.ToKMB2(this.dataRoom.MaxLevel),this.labelSessionId.string="#"+this.dataRoom.CurrentGameLoopId,this.nodeBtnSanSang.active=0==this.dataRoom.playing,2==e.MaxPlayer){for(var t in this.isSolo=!0,this.uiPlayerArr)this.uiPlayerArr[t].node.active=!1;for(var t in this.uiPlayerArrSolo)this.uiPlayerArr[t].node.active=!0}else for(var t in this.isSolo=!0,this.uiPlayerArr)this.uiPlayerArr[t].node.active=!0;this.loadRoomInfo(),this.loadUserFirst(!0),this.ingameChat=this.chatBox.getComponent("IngameGameChat"),this.ingameChat.init("binh",this.dataRoom.id)},hide:function(){this.node.active=!1},chatButtonTopClick:function(){this.chatBox.active=!this.chatBox.active},borrowCard:function(){var e=cc.instantiate(this.prefabCard).getComponent("UIItemCardTienLenSolo");return e.init(this),e},showCardInHand:function(e,t,i){if(2!=o.dataRoom.MaxPlayer||1!=t){var n=e.getTransGcard(),a=n.parent.convertToWorldSpaceAR(n.getPosition()),s=o.node.convertToNodeSpaceAR(a),c=t,r=e.getDataUser();i?(o.showHand3Rows(r.HandCards,12,s,50,c,!1,!0),o.timeoutHand2=setTimeout(function(){o.showHand3Rows(r.HandCards,12,s,50,c,!1,!0),o.timeoutHand3=setTimeout(function(){o.showHand3Rows(r.HandCards,12,s,50,c,!1,!0),o.timeoutHand3=setTimeout(function(){o.showHand3Rows(r.HandCards,12,s,50,c,!1,!0)},6e3)},6e3)},6e3)):(o.showHand3Rows(r.HandCards,4,s,50,c),o.timeoutHand2=setTimeout(function(){o.showHand3Rows(r.HandCards,9,s,50,c),o.timeoutHand3=setTimeout(function(){o.showHand3Rows(r.HandCards,12,s,50,c),o.timeoutHand3=setTimeout(function(){o.showHand3Rows(r.HandCards,12,s,50,c,!0)},6e3)},6e3)},6e3))}},showHand3Rows:function(e,t,i,n,a,s,c){void 0===s&&(s=!1),void 0===c&&(c=!1);var r=i.x,l=i.y;1==a&&(r-=3*n);for(var h=e.length-1;h>=0;h--){(9==h&&1!=a||4==h&&1!=a)&&(l-=50,r=i.x),(9==h&&1==a||4==h&&1==a)&&(l-=50,r=i.x-3*n);var d=o.borrowCard();d.loadData(e[h],null,!1),s?(d.loadCard(),d.setCardPosition(cc.v2(r,l),o.cardholder,.7)):h<=t&&0==c?(d.loadCard(),9==t?h>=0&&h<=4?(d.setCardPosition(cc.v2(r,l),o.cardholder,.7),d.node.children[0].color=d.node.children[0].color.fromHEX("#7A7A7A")):h>=5&&h<=9&&d.setCardPosition(cc.v2(r,l),o.tranWorld,.7):12==t?h>=0&&h<=9?(d.setCardPosition(cc.v2(r,l),o.cardholder,.7),d.node.children[0].color=d.node.children[0].color.fromHEX("#7A7A7A")):h>=10&&h<=12&&d.setCardPosition(cc.v2(r,l),o.tranWorld,.7):d.setCardPosition(cc.v2(r,l),o.cardholder,.7)):d.setCardPosition(cc.v2(r,l),o.cardholder,.7),c&&(h<=t&&d.loadCard(),d.setCardPosition(cc.v2(r,l),o.cardholder,.7)),r+=n,o.tableCards.push(d)}},removeTableCard:function(){for(var e=0;e<this.tableCards.length;e++)this.tableCards[e].node.destroy();this.tableCards=[]},clearUI:function(){this.disableAllButton(),this.uiUser.clearUI(),this.giveBackAll();for(var e=0;e<this.uiPlayerArr.length;e++)this.uiPlayerArr[e].clearUI();this.turnInRound=0},loadUserFirst:function(){if(this.myData=this.dataRoom.Players[cc.RedT.user.UID],this.uiUser.init(this.dataRoom,this.myData,null,this,!0),cc.RedT.user.red=this.myData.Account.Gold,this.myData&&1==this.myData.Status){var e=this.getGameStateUser(this.myData.AccountID);e?this.loadActionPlayer(e):this.loadActionPlayer(null);for(var t=0;t<this.myData.HandCards.length;t++){var i=this.borrowCard();i.loadData(this.myData.HandCards[t],null,!0),i.loadCard();var n=o.getMiddleIndex(t,this.myData.HandCards.length);i.setCardPosition(cc.v2(0,0),n,1),this.userCards.push(i)}1==this.userCards.length?this.uiUser.showBao1La():this.uiUser.hideBao1La()}var a=0;for(var s in this.dataRoom.Players){var c=this.dataRoom.Players[s];c.AccountID!=this.myData.AccountID&&(this.uiPlayerArr[a].init(this.dataRoom,c,null,this),a++)}if(0==this.dataRoom.GameLoop.TimerPaused&&this.dataRoom.GameLoop.CurrTurnCards&&this.dataRoom.GameLoop.CurrTurnCards.length>0)for(t=0;t<this.dataRoom.GameLoop.CurrTurnCards.length;t++){for(var r=[],h=this.dataRoom.GameLoop.CurrTurnCards[t].Value,d=0;d<h.Cards.length;d++){var u=this.borrowCard();u.node.parent=o.tranWorld,u.node.scale=cc.v2(.7,.7),u.loadCard();var p=l;p.OrdinalValue=h.Cards[d],u.loadData(p,null,!1),u.loadCard(),r.push(u)}this.addCardToTable(r,!1),this.audioCardFlip.play()}},addCardToTable:function(e,t){for(var i=0;i<this.tableCards.length;i++)this.tableCards[i].showBlack();var n,a=e.length,s=0,c=0;for(0==this.turnInRound?(s=Math.random()*d.y+d.x,c=Math.random()*h.y+h.x):(s=Math.floor(this.turnInRound/5)%2==0?-30:30,c=this.xLastTableCard<0?this.xLastTableCard+Math.random()*h.y:this.xLastTableCard+Math.random()*h.x),n=Math.floor(Math.random()*(h.y-h.x))+h.x,s=Math.floor(Math.random()*(d.y-d.x))+d.x,i=0;i<a;i++){var r=e[i],l=r.node,u=l.parent.convertToWorldSpaceAR(l.getPosition()),p=o.node.convertToNodeSpaceAR(u);if(l.parent=o.node,l.setSiblingIndex(l.parent.children.length),l.position=p,t){var g=cc.v2(n+50*(i+1),s);r.moveCard(p,g,null,null,.7,!1,!1)}else r.setCardPosition(cc.v2(n+50*i,s),this.tranTable,.8);this.tableCards.push(r)}this.yLastTableCard=s,this.xLastTableCard=c,this.turnInRound=this.turnInRound+1},endRound:function(){this.turnInRound=0;for(var e=0;e<this.tableCards.length;e++)this.tableCards[e].node.destroy();this.tableCards=[]},loadActionPlayer:function(e){if(this.myData&&1==this.myData.Status){if(this.boxButtonBot.active=!0,e&&e.length>0)for(var t=0;t<e.length;t++)-1==e[t]?(this.boxButtonBot.active=!1,this.nodeBtnBatDau.active=!1):1==e[t]||2==e[t]||3==e[t]||e[t]}else if(this.boxButtonBot.active=!1,e&&e.length>0)for(t=0;t<e.length;t++)if(1e3==e[t]){this.nodeBtnBatDau.active=!0;for(var i=0;i<this.uiPlayerArr.length;i++)this.uiPlayerArr[i].nodeIconMaster.active=!1}},disableAllButton:function(){this.nodeBtnBatDau.active=!1,this.boxButtonBot.active=!1},getGameStateUser:function(e){for(var t=this.dataRoom.GameLoop.GameState.ClientStates,i=0;i<t.length;i++)if(t[i].AccountId==e&&this.dataRoom.GameLoop.GameState.DefaultAccount==e&&this.dataRoom.GameLoop.AllowDanhBai){var n=[];return n[0]=1,n}return null},onBtnBack:function(){this.manager.hubManager.invokeString("LeaveRoom",o.dataRoom.id),localStorage.setItem("playing_game",""),localStorage.setItem("playing_money",0)},onBtnBoLuot:function(){this.manager.hubManager.invokeString("BoLuot",o.dataRoom.id),this.highlightAll()},ButtonBaoBinhClickListener:function(){this.manager.hubManager.invokeString("BaoBinh",o.dataRoom.id)},ButtonHuyBinhClickListener:function(){this.manager.hubManager.invokeString("HuyBaoBinh",o.dataRoom.id)},onBtnDanhBaiChi1:function(){for(var e=[],t=0;t<this.userCards.length;t++)if(this.userCards[t].getSelectCard()){var i=this.userCards[t].getIdCard();e.push(i)}this.manager.hubManager.invoke({SelectHandCardsChi1:{card:e,id:o.dataRoom.id}})},onBtnDanhBaiChi2:function(){for(var e=[],t=0;t<this.userCards.length;t++)if(this.userCards[t].getSelectCard()){var i=this.userCards[t].getIdCard();e.push(i)}this.manager.hubManager.invoke({SelectHandCardsChi2:{card:e,id:o.dataRoom.id}})},onBtnDanhBaiChi3:function(){for(var e=[],t=0;t<this.userCards.length;t++)if(this.userCards[t].getSelectCard()){var i=this.userCards[t].getIdCard();e.push(i)}this.manager.hubManager.invoke({SelectHandCardsChi3:{card:e,id:o.dataRoom.id}})},onBtnXepBai:function(){this.manager.hubManager.invokeString("SortHandCards",o.dataRoom.id)},openXepBai:function(){this.xepBai.active=!0},closeXepBai:function(){this.xepBai.active=!1},callbackXepbai:function(e){if(o.isXepBai=!0,e.SortHandCards&&e.SortHandCards.length>0){for(var t=e.SortHandCards,i=[],n=0,a=0;a<t.length;a++){for(var s=null,c=0;c<o.userCards.length;c++){var r=o.userCards[c];if(r.getIdCard()==t[a].OrdinalValue){s=r;break}}if(s){var l=s.node,h=n++,d=l.parent.convertToWorldSpaceAR(l.getPosition()),u=o.getMiddleIndex(h,o.userCards.length),p=u.convertToNodeSpaceAR(d);l.parent=u,l.position=p,s.moveCard(p,cc.v2(0,0),null,null,1,!1,!1),i.push(s);var g=o.userCards.length-a-1;o.userTableCards.children[g].getComponent(cc.Sprite).spriteFrame=s.spriteCard.spriteFrame}}e.rankChi.handchi1.message?(this.label_hand1.getComponentInChildren(cc.Label).string=this.receiveTextKey(e.rankChi.handchi1.message),this.label_hand1.active=!0):this.label_hand1.active=!1,e.rankChi.handchi2.message?(this.label_hand2.getComponentInChildren(cc.Label).string=this.receiveTextKey(e.rankChi.handchi2.message),this.label_hand2.active=!0):this.label_hand2.active=!1,e.rankChi.handchi3.message?(this.label_hand3.getComponentInChildren(cc.Label).string=this.receiveTextKey(e.rankChi.handchi3.message),this.label_hand3.active=!0):this.label_hand3.active=!1,e.binhLung?(this.Node_binhlung.active=!0,cc.tween(this.text_binhlung).to(.5,{scale:1.3}).to(.5,{scale:1}).repeat(5).start()):this.Node_binhlung.active=!1,o.userCards=i}},onCardSelect:function(e){null!=this.opponentCard&&this.getSuggestCard(this.opponentCard,e)},getSuggestCard:function(e,t){var i=c.getCardWithOrdiValue(e),n=c.getSuggestCard(JSON.parse(JSON.stringify(o.myData.HandCards)),i,t,!0);if(null!=n)for(var a=0;a<n.length;a++)for(var s=0;s<this.userCards.length;s++)n[a].OrdinalValue==this.userCards[s].getIdCard()&&0==this.userCards[s].getSelectCard()&&this.userCards[s].select()},highlightAll:function(){for(var e=0;e<this.userCards.length;e++)this.userCards[e].setHighLight(!0)},highlightCardCanHit:function(e){if(null!=e){var t=c.getCardWithOrdiValue(e),i=JSON.parse(JSON.stringify(o.myData.HandCards)),n=[];for(var a in i){var s=c.getSuggestCard(i,t,i[a],!0);if(null!=s)for(var r in s){var l=!0;for(var h in n)if(n[h].OrdinalValue==s[r].OrdinalValue){l=!1;break}l&&n.push(s[r])}}for(a=0;a<this.userCards.length;a++){var d=!1;for(r=0;r<n.length;r++)if(n[r].OrdinalValue==this.userCards[a].getIdCard()){d=!0;break}this.userCards[a].setHighLight(d)}}},getMiddleIndex:function(e,t){var i=parseInt(o.tranUserCards.length/2),n=parseInt(t/2);return o.tranUserCards[i-n+e]},onBtnBatDau:function(){this.manager.hubManager.invokeString("ready",o.dataRoom.id)},onSetAudio:function(){this.audioIcon.spriteFrame==this.audioIcons[1]?(cc.RedT.inGame.pauseMusic(),this.audioIcon.spriteFrame=this.audioIcons[0]):(cc.RedT.inGame.playMusic(),this.audioIcon.spriteFrame=this.audioIcons[1])},showSettingDropdown:function(){this.objDropdownSetting.active=!this.objDropdownSetting.active},addFriendPopup:function(e,t){this.isSolo?n.default.Instance.showAddFriendTlmn(this.uiPlayerArr[0]):n.default.Instance.showAddFriendTlmn(this.uiPlayerArr[t])}}),cc._RF.pop()},{Helper:"Helper",TLMN_Deck:"TLMN_Deck",TaiXiu_efScale:"TaiXiu_efScale",UIItemPlayerBinh:"UIItemPlayerBinh",UIPopupManager:"UIPopupManager"}],UIScreenGamePlaySam:[function(e,t){"use strict";cc._RF.push(t,"3f039rRo+pJQoPDWsWG9riP","UIScreenGamePlaySam");var i,n=(i=e("UIPopupManager"))&&i.__esModule?i:{default:i},a=e("UIItemPlayerSam"),o=null,s=e("Helper"),c=e("TLMN_Deck"),r={Flip:!1,IsDraggable:!1,CardNumber:1,CardSuite:30,OrdinalValue:1},l=cc.v2(-50,50),h=cc.v2(-50,50);cc.Class({extends:cc.Component,properties:{chatBox:cc.Node,boxUI:cc.Node,boxWatchVideo:cc.Node,listSpriteToiTrang:{default:[],type:cc.SpriteFrame},listSpriteStatus:{default:[],type:cc.SpriteFrame},canvasNode:{default:null,type:cc.Node},tranWorld:{default:null,type:cc.Node},tranUserCards:{default:[],type:cc.Node},tranTable:{default:null,type:cc.Node},prefabCard:{default:null,type:cc.Node},uiUser:{default:null,type:a},uiPlayerArr:{default:[],type:a},uiPlayerArrSolo:{default:[],type:a},labelRoom:{default:null,type:cc.Label},labelMucCuoc:{default:null,type:cc.Label},labelSessionId:{default:null,type:cc.Label},nodeBtnBoLuot:{default:null,type:cc.Button},nodeBtnDanhBai:{default:null,type:cc.Button},nodeBtnXepBai:{default:null,type:cc.Button},nodeBtnBatDau:{default:null,type:cc.Node},nodeBtnSanSang:{default:null,type:cc.Node},autoReady:{default:null,type:cc.Toggle},btBaoSam:cc.Node,btHuySam:cc.Node,gBaoSamEffect:cc.Node,boxButtonBot:{default:null,type:cc.Node},audioClick:cc.AudioSource,audioHit:cc.AudioSource,objDropdownSetting:cc.Node,audioIcons:{default:[],type:cc.SpriteFrame},audioIcon:cc.Sprite},init:function(e){o=this,this.manager=e,this.userCards=[],this.tableCards=[]},onLoad:function(){this.isShowBoxUI=!1},onBtnToggleBoxUI:function(){var e=this;cc.Tween.stopAllByTarget(this.boxUI),0==this.isShowBoxUI?(this.isShowBoxUI=!0,this.boxUI.position=cc.v2(-500,0),this.boxUI.active=!0,cc.tween(this.boxUI).to(.25,{position:cc.v2(0,0)},{easing:"backCir"}).start()):(this.isShowBoxUI=!1,cc.tween(this.boxUI).to(.25,{position:cc.v2(-500,0)},{easing:"backCir"}).call(function(){e.boxUI.active=!0}).start())},onBtnToggleBoxWatchVideo:function(){var e=this;cc.Tween.stopAllByTarget(this.boxWatchVideo),0==this.isShowboxWatchVideo?(this.isShowboxWatchVideo=!0,this.boxWatchVideo.position=cc.v2(-250,0),this.boxWatchVideo.active=!0,cc.tween(this.boxWatchVideo).to(.25,{position:cc.v2(-20,0)}).start()):(this.isShowboxWatchVideo=!1,cc.tween(this.boxWatchVideo).to(.25,{position:cc.v2(-250,0)}).call(function(){e.boxWatchVideo.active=!0}).start())},click_audio:function(){cc.RedT.isSoundGame()&&this.audioClick.play()},distributeCard_audio:function(){cc.RedT.isSoundGame()&&this.audioCardFlip.play()},onSetAudio:function(){this.audioIcon.spriteFrame==this.audioIcons[1]?(cc.RedT.inGame.pauseMusic(),this.audioIcon.spriteFrame=this.audioIcons[0]):(cc.RedT.inGame.playMusic(),this.audioIcon.spriteFrame=this.audioIcons[1])},showSettingDropdown:function(){this.objDropdownSetting.active=!this.objDropdownSetting.active},responseLeaveGame:function(e){var t=e;if(o.myData.AccountID==t)o.close();else{for(var i=0;i<o.uiPlayerArr.length;i++)o.uiPlayerArr[i].isPlayer()&&o.uiPlayerArr[i].clearUI();for(i=0;i<o.dataRoom.Positions.length;i++)o.dataRoom.Positions[i]==t&&(o.dataRoom.Positions[i]=0);o.dataRoom.Players[t]=null;var n=!0;for(i=0;i<o.uiPlayerArr.length;i++)o.uiPlayerArr[i].nodeBoxActive.active&&(n=!1);n&&(o.nodeBtnBatDau.active=!1,o.uiUser.hideCountDown())}},close:function(){this.clearUI(),this.manager.hubManager.invokeString("GetLobbyInfo")},responseplayerLeave:function(e){var t=e;if(o.myData.AccountID==t)o.close();else{for(var i=0;i<o.uiPlayerArr.length;i++)o.uiPlayerArr[i].isPlayer(t)&&o.uiPlayerArr[i].clearUI();for(i=0;i<o.dataRoom.Positions.length;i++)o.dataRoom.Positions[i]==t&&(o.dataRoom.Positions[i]=0);o.dataRoom.Players[t]=null;var n=!0;for(i=0;i<o.uiPlayerArr.length;i++)o.uiPlayerArr[i].nodeBoxActive.active&&(n=!1);n&&(o.nodeBtnBatDau.active=!1,o.uiUser.hideCountDown())}},responseRegisterLeaveRoom:function(){},responseStartActionTimer:function(e,t,i){1==o.gBaoSamEffect.active&&(o.btBaoSam.active=!1,o.btHuySam.active=!1,o.gBaoSamEffect.active=!1),o.uiUser.hideCountDown();for(var n=0;n<o.uiPlayerArr.length;n++)o.uiPlayerArr[n].hideCountDown();if(o.myData.AccountID==e)o.uiUser.showCountDown(t),o.loadActionPlayer(i);else{var a=!1;for(n=0;n<i.length;n++)1e3==i[n]&&(a=!0);if(0==a){var s=null;for(n=0;n<o.uiPlayerArr.length;n++)o.uiPlayerArr[n].isPlayer(e)&&(s=o.uiPlayerArr[n]);s&&s.showCountDown(t)}o.loadActionPlayer(null)}},responseplayerJoin:function(e){cc.log("responseplayerJoin:"+JSON.stringify(e)+"  "+o.uiPlayerArr.length);var t=e;o.dataRoom.Players[t.AccountID+""]=t,o.uiPlayerArr[t.Position-1].init(o.dataRoom,t,null,o)},responseendRound:function(){o.turnInRound=0;for(var e=0;e<o.tableCards.length;e++)o.tableCards[e].node.destroy();o.tableCards=[]},responseboLuot:function(e){var t=e;if(o.myData.AccountID==t)o.uiUser.hideCountDown();else{for(var i=null,n=0;n<o.uiPlayerArr.length;n++)o.uiPlayerArr[n].isPlayer(t)&&(i=o.uiPlayerArr[n]);i&&i.hideCountDown()}},onBtnTestStartGame:function(e,t){var i=JSON.parse(t);this.responsestartGame(i)},onBtnTestJoinGame:function(e,t){var i=JSON.parse(t);this.responseplayerJoin(i)},onBtnTestWinLose:function(e,t){var i=JSON.parse(t);this.responseshowResult(i)},responsestartGame:function(e){null!=this.timeWaitToBeReady&&(clearTimeout(this.timeWaitToBeReady),this.timeWaitToBeReady=null),this.opponentCard=null,o.isXepBai=!0,o.dataRoom=e,o.giveBackAll(),o.myData=o.dataRoom.Players[cc.RedT.user.UID+""],this.nodeBtnSanSang.active=!1,o.loadRoomInfo(),o.uiUser.updateUserData(o.myData,o.dataRoom),o.uiUser.hideStatus(),o.uiUser.hideBao1La(),cc.RedT.user.red=o.myData.Account.Gold;for(var t=0;t<o.uiPlayerArr.length;t++){o.uiPlayerArr[t].hideStatus(),o.uiPlayerArr[t].hideBao1La();var i=o.uiPlayerArr[t].getIDPlayer();i&&o.dataRoom.Players[i+""]&&o.uiPlayerArr[t].updateUserData(o.dataRoom.Players[i+""],o.dataRoom)}for(o.btBaoSam.active=!1,o.btHuySam.active=!1,o.nodeBtnBatDau.active=!1,o.turnInRound=0,o.waitChiaBai(),o.uiUser.hideBaoSam(),t=0;t<o.uiPlayerArr.length;t++)o.uiPlayerArr[t].hideBaoSam()},responseaskBaoSam:function(e){var t=parseInt(e);o.gBaoSamEffect.active=!0,t>0&&o.uiUser.showCountDown(t),o.btBaoSam.active=!0,o.btHuySam.active=!0,o.nodeBtnXepBai.active=!0,o.boxButtonBot.active=!0,o.nodeBtnBoLuot.node.active=!1,o.nodeBtnDanhBai.node.active=!1},responseplayerBaoSam:function(e){var t=e;if(o.uiUser._playerData.AccountID==t)o.uiUser.ShowBaoSam();else for(var i=0;i<o.uiPlayerArr.length;i++)null!=o.uiPlayerArr[i]._playerData&&o.uiPlayerArr[i]._playerData.AccountID==t&&o.uiPlayerArr[i].ShowBaoSam();o.btBaoSam.active=!1,o.btHuySam.active=!1},responsexepBai:function(){},onChat:function(e){if(this.ingameChat.onData(e),null!=e.message){var t=e.message.user;if(t==cc.RedT.user.name)o.uiUser.Chat(e.message.value);else for(var i=0;i<o.uiPlayerArr.length;i++)null!=o.uiPlayerArr[i]._playerData&&o.uiPlayerArr[i]._playerData.Account.UserName==t&&o.uiPlayerArr[i].Chat(e.message.value)}},responsedanhBai:function(e,t,i){var n=e,a=t;o.dataRoom=i,o.myData=o.dataRoom.Players[cc.RedT.user.UID],o.uiUser.hideStatus();for(var s=0;s<o.uiPlayerArr.length;s++)o.uiPlayerArr[s].hideStatus();var c=[];if(o.myData.AccountID==n){for(var l in this.opponentCard=null,this.highlightAll(),a){var h=a[l],d=null;for(s=0;s<o.userCards.length;s++)o.userCards[s].isCheckCard(h)&&(d=s);if(null!=d){var u=o.userCards[d];c.push(u),o.userCards.splice(d,1)}}for(o.addCardToTable(c,!0),s=o.userCards.length-1;s>=0;s--){var p=(b=o.userCards[s]).node,g=o.getMiddleIndex(s,o.userCards.length);b.moveCard(cc.v2(0,0),cc.v2(0,0),g,null,1,!1,!1)}1==o.userCards.length?o.uiUser.showBao1La():o.uiUser.hideBao1La()}else{this.opponentCard=a;var m=null;for(s=0;s<o.uiPlayerArr.length;s++)(h=o.uiPlayerArr[s].getIDPlayer())==n&&(m=o.uiPlayerArr[s]);if(m){var f=null;for(var l in a){var v=a[l],b=o.borrowCard(),T=r;T.OrdinalValue=v,b.loadData(T,null,!1),b.loadCard(),p=b.node;var y=m.getTransGcard();p.parent=y,p.scale=cc.v2(.6,.6),p.position=cc.v2(0,0),c.push(b),(f=m.getDataUser()).HandCards.length>0&&f.HandCards.splice(0,1)}null!=f&&m.updateCardNumber(f.HandCards.length)}o.addCardToTable(c,!0),this.audioHit.play()}o.showTuQuy(n),o.showThreeStraightPair(n),o.showFourStraightPair(n)},responseshowResult:function(e){o.dataRoom=e,o.myData=o.dataRoom.Players[cc.RedT.user.UID],o.waitShowResult()},onDisable:function(){null!=this.timeoutResult&&(clearTimeout(this.timeoutResult),this.timeoutResult=null),null!=this.timeoutCard&&(clearTimeout(this.timeoutCard),this.timeoutCard=null),null!=this.timeOutDelay&&(clearTimeout(this.timeOutDelay),this.timeOutDelay=null)},responsePlayerReady:function(e){if(o.myData&&e==o.myData.AccountID)this.nodeBtnSanSang.active=!1,o.uiUser.nodeIconReady.active=!0;else for(var t=0;t<o.uiPlayerArr.length;t++){var i=o.uiPlayerArr[t];i._playerData&&i._playerData.AccountID==e&&(i.nodeIconReady.active=!0)}},responseshowChatbai:function(e){this.showChat(e.win),this.showChat(e.lose)},showChat:function(e){if(e.AccountId==o.myData.AccountID)o.uiUser.showStatus_string(e.Money>0?"tlmn_chat":"tlmn_bi_chat",!0,e.Money,5);else for(var t=0;t<o.uiPlayerArr.length;t++){var i=o.uiPlayerArr[t];i._playerData&&i._playerData.AccountID==e.AccountId&&i.showStatus_string(e.Money>0?"tlmn_chat":"tlmn_bi_chat",!0,e.Money,5)}},waitShowResult:function(){this.timeoutResult=setTimeout(function(){o.disableAllButton(),o.removeTableCard();for(var e=0;e<o.userCards.length;e++)o.userCards[e].disableCardSelect();o.uiUser.hideBaoSam(),o.uiUser.hideCard(),o.uiUser.hideBao1La(),o.uiUser.hideCountDown(),o.uiUser.updateUserData(o.myData,o.dataRoom),o.myData.Status=2,cc.RedT.user.red=o.myData.Account.Gold;var t=null;for(e=0;e<o.dataRoom.GameLoop.SessionResult.ResultList.length;e++)o.dataRoom.GameLoop.SessionResult.ResultList[e].AccountId==o.myData.AccountID&&(t=o.dataRoom.GameLoop.SessionResult.ResultList[e]);if(t){var i=null;null!=t.ResultTextKey&&""!=t.ResultTextKey?o.uiUser.showStatus_string(t.ResultTextKey,!0,t.Money,0):(i=2==t.ResultFamily?t.WinType<0?o.listSpriteStatus[0]:o.listSpriteToiTrang[t.WinType]:o.listSpriteStatus[t.ResultFamily],o.uiUser.showStatus(i,!0,t.Money,0))}for(var n=0;n<o.uiPlayerArr.length;n++){var a=o.uiPlayerArr[n];a.hideCountDown(),a.hideCard(),a.hideBao1La(),a.hideBaoSam();var s=!1,c=!1,r=a.getDataUser();r&&(c=!0);var l=a.getIDPlayer();if(l&&(r=o.dataRoom.Players[l])&&(s=!0),1==c&&s){a.updateUserData(r,o.dataRoom),r.Status=2;var h=null;for(e=0;e<o.dataRoom.GameLoop.SessionResult.ResultList.length;e++)o.dataRoom.GameLoop.SessionResult.ResultList[e].AccountId==r.AccountID&&(h=o.dataRoom.GameLoop.SessionResult.ResultList[e]);h&&(i=null,null!=h.ResultTextKey&&""!=h.ResultTextKey?a.showStatus_string(h.ResultTextKey,!0,h.Money,0):(i=2==h.ResultFamily?h.WinType<0?o.listSpriteStatus[0]:o.listSpriteToiTrang[h.WinType]:o.listSpriteStatus[h.ResultFamily],a.showStatus(i,!0,h.Money,0)),o.showCardInHand(a,n))}}o.timeoutCard=setTimeout(function(){if(o.autoReady&&0==o.autoReady.isChecked){if(o.tableCards.length>0||o.userCards.length>0){o.giveBackAll(),o.uiUser.hideStatus();for(var e=0;e<o.uiPlayerArr.length;e++)o.uiPlayerArr[e].hideStatus()}o.nodeBtnSanSang.active=!0,o.uiUser.showCountDown(20),o.timeWaitToBeReady=setTimeout(function(){var e=o;e.uiUser.nodeIconReady.active||e.manager.hubManager.invokeString("LeaveRoom",e.dataRoom.id)},2e4)}else o.onBtnBatDau()},7e3)},800)},showTuQuy:function(){},showThreeStraightPair:function(){},showFourStraightPair:function(){},waitChiaBai:function(){for(var e=0;e<o.uiPlayerArr.length;e++)o.uiPlayerArr[e].isPlaying()&&o.uiPlayerArr[e].showCard();for(var t=0;t<o.myData.HandCards.length;t++)e=t,o.delayWaitChiaBai(.06*e,e)},delayWaitChiaBai:function(e,t){this.timeOutDelay=setTimeout(function(){var e=o.borrowCard();e.loadData(o.myData.HandCards[t],null,!0);var i=o.getMiddleIndex(t,o.myData.HandCards.length);e.node.parent=i,e.node.scale=cc.v2(1,1);var n=o.node.parent.convertToWorldSpaceAR(o.node.getPosition()),a=i.convertToNodeSpaceAR(n);e.node.position=a,e.moveCard(a,cc.v2(0,0),null,null,1,!1,!0),o.userCards.push(e);for(var s=0;s<o.uiPlayerArr.length;s++){var c=o.uiPlayerArr[s].isPlaying(),r=o.uiPlayerArr[s].getDataUser();if(c&&r.HandCards.length>t){var l=o.borrowCard();l.node.parent=o.node,l.node.position=cc.v2(0,0),l.loadData(r.HandCards[t],null,!1);var h=o.uiPlayerArr[s].getTransGcard();n=h.parent.convertToWorldSpaceAR(h.position),a=o.node.convertToNodeSpaceAR(n),l.node.scale=cc.v2(1,1),l.moveCard(cc.v2(0,0),a,null,null,1,!0,!1),o.uiPlayerArr[s].updateCardNumber(t+1)}}},1e3*e)},giveBackAll:function(){for(var e=0;e<o.tableCards.length;e++)o.tableCards[e].node.destroy();for(e=0;e<o.userCards.length;e++)o.userCards[e].node.destroy();o.tableCards=[],o.userCards=[]},loadRoomInfo:function(){o.labelRoom.string=o.dataRoom.Name,o.labelMucCuoc.string=s.ToKMB2(o.dataRoom.MinBet),o.labelSessionId.string="#"+o.dataRoom.CurrentGameLoopId},show:function(e){if(this.clearUI(),this.isXepBai=!0,this.tableCards=[],this.gBaoSamEffect.active=!1,this.dataRoom=e,this.node.active=!0,this.labelRoom.string=this.dataRoom.Name,this.labelMucCuoc.string=s.ToKMB2(this.dataRoom.MaxLevel),this.labelSessionId.string="#"+this.dataRoom.CurrentGameLoopId,this.nodeBtnSanSang.active=0==this.dataRoom.playing,2==e.MaxPlayer){for(var t in this.isSolo=!0,this.cacheUiPlayerArr=this.uiPlayerArr,this.uiPlayerArr)this.uiPlayerArr[t].node.active=!1;for(var t in this.uiPlayerArr=this.uiPlayerArrSolo,this.uiPlayerArr)this.uiPlayerArr[t].node.active=!0}else if(this.isSolo=!0,null!=this.cacheUiPlayerArr)for(var t in this.uiPlayerArr=this.cacheUiPlayerArr,this.uiPlayerArr)this.uiPlayerArr[t].node.active=!0;this.loadRoomInfo(),this.loadUserFirst(!0),this.ingameChat=this.chatBox.getComponent("IngameGameChat"),this.ingameChat.init("sam",this.dataRoom.id)},hide:function(){this.node.active=!1},chatButtonTopClick:function(){this.chatBox.active=!this.chatBox.active},borrowCard:function(){var e=cc.instantiate(this.prefabCard).getComponent("UIItemCardTienLenSolo");return e.init(this),e},showCardInHand:function(e,t){if(2!=o.dataRoom.MaxPlayer||1!=t){var i=e.getTransGcard(),n=i.parent.convertToWorldSpaceAR(i.getPosition()),a=o.node.convertToNodeSpaceAR(n),s=a.x,c=a.y,r=t,l=e.getDataUser();1==r&&(s-=60*(l.HandCards.length-1));for(var h=0;h<l.HandCards.length;h++){var d=o.borrowCard();d.loadData(l.HandCards[h],null,!1),d.loadCard(),d.setCardPosition(cc.v2(s,c),i,.7),s+=60,o.tableCards.push(d)}}},removeTableCard:function(){for(var e=0;e<this.tableCards.length;e++)this.tableCards[e].node.destroy();this.tableCards=[]},clearUI:function(){this.disableAllButton(),this.uiUser.clearUI(),this.giveBackAll();for(var e=0;e<this.uiPlayerArr.length;e++)this.uiPlayerArr[e].clearUI();this.turnInRound=0},loadUserFirst:function(){if(this.myData=this.dataRoom.Players[cc.RedT.user.UID],this.uiUser.init(this.dataRoom,this.myData,null,this,!0),cc.RedT.user.red=this.myData.Account.Gold,this.myData&&1==this.myData.Status){var e=this.getGameStateUser(this.myData.AccountID);e?this.loadActionPlayer(e):this.loadActionPlayer(null);for(var t=0;t<this.myData.HandCards.length;t++){var i=this.borrowCard();i.loadData(this.myData.HandCards[t],null,!0),i.loadCard();var n=o.getMiddleIndex(t,this.myData.HandCards.length);i.setCardPosition(cc.v2(0,0),n,1),this.userCards.push(i)}1==this.userCards.length?this.uiUser.showBao1La():this.uiUser.hideBao1La()}var a=0;for(var s in this.dataRoom.Players){var c=this.dataRoom.Players[s];c.AccountID!=this.myData.AccountID&&(this.uiPlayerArr[a].init(this.dataRoom,c,null,this),a++)}if(0==this.dataRoom.GameLoop.TimerPaused&&this.dataRoom.GameLoop.CurrTurnCards&&this.dataRoom.GameLoop.CurrTurnCards.length>0)for(t=0;t<this.dataRoom.GameLoop.CurrTurnCards.length;t++){for(var l=[],h=this.dataRoom.GameLoop.CurrTurnCards[t].Value,d=0;d<h.Cards.length;d++){var u=this.borrowCard();u.node.parent=o.tranWorld,u.node.scale=cc.v2(.7,.7),u.loadCard();var p=r;p.OrdinalValue=h.Cards[d],u.loadData(p,null,!1),u.loadCard(),l.push(u)}this.addCardToTable(l,!1),this.audioCardFlip.play()}},addCardToTable:function(e,t){for(var i=0;i<this.tableCards.length;i++)this.tableCards[i].showBlack();var n,a=e.length,s=0,c=0;for(0==this.turnInRound?(s=Math.random()*h.y+h.x,c=Math.random()*l.y+l.x):(s=Math.floor(this.turnInRound/5)%2==0?-30:30,c=this.xLastTableCard<0?this.xLastTableCard+Math.random()*l.y:this.xLastTableCard+Math.random()*l.x),n=Math.floor(Math.random()*(l.y-l.x))+l.x,s=Math.floor(Math.random()*(h.y-h.x))+h.x,i=0;i<a;i++){var r=e[i],d=r.node,u=d.parent.convertToWorldSpaceAR(d.getPosition()),p=o.node.convertToNodeSpaceAR(u);if(d.parent=o.node,d.setSiblingIndex(d.parent.children.length),d.position=p,t){var g=cc.v2(n+60*(i+1),s);r.moveCard(p,g,null,null,.7,!1,!1)}else r.setCardPosition(cc.v2(n+60*i,s),this.tranTable,.8);this.tableCards.push(r)}this.yLastTableCard=s,this.xLastTableCard=c,this.turnInRound=this.turnInRound+1},endRound:function(){this.turnInRound=0;for(var e=0;e<this.tableCards.length;e++)this.tableCards[e].node.destroy();this.tableCards=[]},loadActionPlayer:function(e){if(this.myData&&1==this.myData.Status)if(this.boxButtonBot.active=!0,this.nodeBtnBoLuot.interactable=!1,this.nodeBtnDanhBai.interactable=!1,o.nodeBtnBoLuot.node.active=!0,o.nodeBtnDanhBai.node.active=!0,e&&e.length>0)for(var t=0;t<e.length;t++)-1==e[t]?(this.boxButtonBot.active=!1,this.nodeBtnBatDau.active=!1):1==e[t]?(this.nodeBtnDanhBai.interactable=!0,this.highlightCardCanHit(this.opponentCard)):2==e[t]?this.nodeBtnBoLuot.interactable=!0:3==e[t]||e[t];else this.nodeBtnDanhBai.interactable=!1,this.nodeBtnBoLuot.interactable=!1;else if(this.boxButtonBot.active=!1,e&&e.length>0)for(t=0;t<e.length;t++)if(1e3==e[t]){this.nodeBtnBatDau.active=!0;for(var i=0;i<this.uiPlayerArr.length;i++)this.uiPlayerArr[i].nodeIconMaster.active=!1}},disableAllButton:function(){this.nodeBtnBatDau.active=!1,this.boxButtonBot.active=!1},getGameStateUser:function(e){for(var t=this.dataRoom.GameLoop.GameState.ClientStates,i=0;i<t.length;i++)if(t[i].AccountId==e&&this.dataRoom.GameLoop.GameState.DefaultAccount==e&&this.dataRoom.GameLoop.AllowDanhBai){var n=[];return n[0]=1,n}return null},onBtnBack:function(){this.manager.hubManager.invokeString("LeaveRoom",o.dataRoom.id),localStorage.setItem("playing_game",""),localStorage.setItem("playing_money",0)},onBtnBoLuot:function(){this.manager.hubManager.invokeString("BoLuot",o.dataRoom.id),this.highlightAll()},ButtonBaoSamClickListener:function(){this.manager.hubManager.invokeString("BaoSam",o.dataRoom.id)},ButtonHuySamClickListener:function(){this.manager.hubManager.invokeString("HuyBaoSam",o.dataRoom.id)},onBtnDanhBai:function(){for(var e=[],t=0;t<this.userCards.length;t++)if(this.userCards[t].getSelectCard()){var i=this.userCards[t].getIdCard();e.push(i)}this.manager.hubManager.invoke({DanhBai:e,id:o.dataRoom.id})},onBtnXepBai:function(){this.manager.hubManager.invokeString("SortHandCards",o.dataRoom.id)},callbackXepbai:function(e){if(o.isXepBai=!0,e&&e.length>0){for(var t=e,i=[],n=0,a=0;a<t.length;a++){for(var s=null,c=0;c<o.userCards.length;c++){var r=o.userCards[c];if(r.getIdCard()==t[a].OrdinalValue){s=r;break}}if(s){var l=s.node,h=n++,d=l.parent.convertToWorldSpaceAR(l.getPosition()),u=o.getMiddleIndex(h,o.userCards.length),p=u.convertToNodeSpaceAR(d);l.parent=u,l.position=p,s.moveCard(p,cc.v2(0,0),null,null,1,!1,!1),i.push(s)}}o.userCards=i}},onCardSelect:function(e){null!=this.opponentCard&&this.getSuggestCard(this.opponentCard,e)},getSuggestCard:function(e,t){var i=c.getCardWithOrdiValue(e),n=c.getSuggestCard(JSON.parse(JSON.stringify(o.myData.HandCards)),i,t,!0);if(null!=n)for(var a=0;a<n.length;a++)for(var s=0;s<this.userCards.length;s++)n[a].OrdinalValue==this.userCards[s].getIdCard()&&0==this.userCards[s].getSelectCard()&&this.userCards[s].select()},highlightAll:function(){for(var e=0;e<this.userCards.length;e++)this.userCards[e].setHighLight(!0)},highlightCardCanHit:function(e){if(null!=e){var t=c.getCardWithOrdiValue(e),i=JSON.parse(JSON.stringify(o.myData.HandCards)),n=[];for(var a in i){var s=c.getSuggestCard(i,t,i[a],!0);if(null!=s)for(var r in s){var l=!0;for(var h in n)if(n[h].OrdinalValue==s[r].OrdinalValue){l=!1;break}l&&n.push(s[r])}}for(a=0;a<this.userCards.length;a++){var d=!1;for(r=0;r<n.length;r++)if(n[r].OrdinalValue==this.userCards[a].getIdCard()){d=!0;break}this.userCards[a].setHighLight(d)}}},getMiddleIndex:function(e,t){var i=parseInt(o.tranUserCards.length/2),n=parseInt(t/2);return o.tranUserCards[i-n+e]},onBtnBatDau:function(){this.manager.hubManager.invokeString("ready",o.dataRoom.id)},addFriendPopup:function(e,t){this.isSolo?n.default.Instance.showAddFriendTlmn(this.uiPlayerArr[0]):n.default.Instance.showAddFriendTlmn(this.uiPlayerArr[t])}}),cc._RF.pop()},{Helper:"Helper",TLMN_Deck:"TLMN_Deck",UIItemPlayerSam:"UIItemPlayerSam",UIPopupManager:"UIPopupManager"}],UIScreenGamePlayTienLenSolo:[function(e,t){"use strict";cc._RF.push(t,"8de6f6BfNpIU4gcF2bWQI3Q","UIScreenGamePlayTienLenSolo");var i,n=(i=e("UIPopupManager"))&&i.__esModule?i:{default:i},a=e("UIItemPlayerTienLen"),o=null,s=e("Helper"),c=e("TLMN_Deck"),r={Flip:!1,IsDraggable:!1,CardNumber:1,CardSuite:30,OrdinalValue:1},l=cc.v2(-50,50),h=cc.v2(-50,50);cc.Class({extends:cc.Component,properties:{chatBox:cc.Node,boxUI:cc.Node,boxWatchVideo:cc.Node,listSpriteToiTrang:{default:[],type:cc.SpriteFrame},listSpriteStatus:{default:[],type:cc.SpriteFrame},canvasNode:{default:null,type:cc.Node},tranWorld:{default:null,type:cc.Node},tranUserCards:{default:[],type:cc.Node},tranTable:{default:null,type:cc.Node},prefabCard:{default:null,type:cc.Node},uiUser:{default:null,type:a},uiPlayerArr:{default:[],type:a},uiPlayerArrSolo:{default:[],type:a},labelRoom:{default:null,type:cc.Label},labelMucCuoc:{default:null,type:cc.Label},labelSessionId:{default:null,type:cc.Label},nodeBtnBoLuot:{default:null,type:cc.Button},nodeBtnDanhBai:{default:null,type:cc.Button},nodeBtnXepBai:{default:null,type:cc.Button},nodeBtnBatDau:{default:null,type:cc.Node},nodeBtnSanSang:{default:null,type:cc.Node},boxButtonBot:{default:null,type:cc.Node},autoReady:{default:null,type:cc.Toggle},audioHit:cc.AudioSource,audioWin:cc.AudioSource,audioClick:cc.AudioSource,objDropdownSetting:cc.Node,audioIcons:{default:[],type:cc.SpriteFrame},audioIcon:cc.Sprite},init:function(e){o=this,this.manager=e,this.userCards=[],this.tableCards=[]},onLoad:function(){this.isShowBoxUI=!1},onBtnToggleBoxUI:function(){var e=this;cc.Tween.stopAllByTarget(this.boxUI),0==this.isShowBoxUI?(this.isShowBoxUI=!0,this.boxUI.position=cc.v2(-500,0),this.boxUI.active=!0,cc.tween(this.boxUI).to(.25,{position:cc.v2(0,0)},{easing:"backCir"}).start()):(this.isShowBoxUI=!1,cc.tween(this.boxUI).to(.25,{position:cc.v2(-500,0)},{easing:"backCir"}).call(function(){e.boxUI.active=!0}).start())},onBtnToggleBoxWatchVideo:function(){var e=this;cc.Tween.stopAllByTarget(this.boxWatchVideo),0==this.isShowboxWatchVideo?(this.isShowboxWatchVideo=!0,this.boxWatchVideo.position=cc.v2(-250,0),this.boxWatchVideo.active=!0,cc.tween(this.boxWatchVideo).to(.25,{position:cc.v2(-20,0)}).start()):(this.isShowboxWatchVideo=!1,cc.tween(this.boxWatchVideo).to(.25,{position:cc.v2(-250,0)}).call(function(){e.boxWatchVideo.active=!0}).start())},click_audio:function(){cc.RedT.isSoundGame()&&this.audioClick.play()},winAudio:function(){cc.RedT.isSoundGame()&&this.audioWin.play()},hitAudio:function(){cc.RedT.isSoundGame()&&this.audioHit.play()},onSetAudio:function(){this.audioIcon.spriteFrame==this.audioIcons[1]?(cc.RedT.inGame.pauseMusic(),this.audioIcon.spriteFrame=this.audioIcons[0]):(cc.RedT.inGame.playMusic(),this.audioIcon.spriteFrame=this.audioIcons[1])},showSettingDropdown:function(){this.objDropdownSetting.active=!this.objDropdownSetting.active},responseLeaveGame:function(e){var t=e;if(o.myData.AccountID==t)o.close();else{for(var i=0;i<o.uiPlayerArr.length;i++)o.uiPlayerArr[i].isPlayer()&&o.uiPlayerArr[i].clearUI();for(i=0;i<o.dataRoom.Positions.length;i++)o.dataRoom.Positions[i]==t&&(o.dataRoom.Positions[i]=0);o.dataRoom.Players[t]=null;var n=!0;for(i=0;i<o.uiPlayerArr.length;i++)o.uiPlayerArr[i].nodeBoxActive.active&&(n=!1);n&&(o.nodeBtnBatDau.active=!1,o.uiUser.hideCountDown())}},close:function(){this.clearUI(),this.manager.hubManager.invokeString("GetLobbyInfo")},responseplayerLeave:function(e){var t=e;if(o.myData.AccountID==t)o.close();else{for(var i=0;i<o.uiPlayerArr.length;i++)o.uiPlayerArr[i].isPlayer(t)&&o.uiPlayerArr[i].clearUI();for(i=0;i<o.dataRoom.Positions.length;i++)o.dataRoom.Positions[i]==t&&(o.dataRoom.Positions[i]=0);o.dataRoom.Players[t]=null;var n=!0;for(i=0;i<o.uiPlayerArr.length;i++)o.uiPlayerArr[i].nodeBoxActive.active&&(n=!1);n&&(o.nodeBtnBatDau.active=!1,o.uiUser.hideCountDown())}},responseRegisterLeaveRoom:function(){},responseStartActionTimer:function(e,t,i){o.uiUser.hideCountDown();for(var n=0;n<o.uiPlayerArr.length;n++)o.uiPlayerArr[n].hideCountDown();if(o.myData.AccountID==e)o.uiUser.showCountDown(t),o.loadActionPlayer(i);else{var a=!1;for(n=0;n<i.length;n++)1e3==i[n]&&(a=!0);if(0==a){var s=null;for(n=0;n<o.uiPlayerArr.length;n++)o.uiPlayerArr[n].isPlayer(e)&&(s=o.uiPlayerArr[n]);s&&s.showCountDown(t)}o.loadActionPlayer(null)}},responseplayerJoin:function(e){cc.log("responseplayerJoin:"+JSON.stringify(e)+"  "+o.uiPlayerArr.length);var t=e;o.dataRoom.Players[t.AccountID+""]=t,o.uiPlayerArr[t.Position-1].init(o.dataRoom,t,null,o)},responseendRound:function(){o.turnInRound=0;for(var e=0;e<o.tableCards.length;e++)o.tableCards[e].node.destroy();o.tableCards=[]},responseboLuot:function(e){var t=e;if(o.myData.AccountID==t)o.uiUser.hideCountDown(),this.highlightAll();else{for(var i=null,n=0;n<o.uiPlayerArr.length;n++)o.uiPlayerArr[n].isPlayer(t)&&(i=o.uiPlayerArr[n]);i&&i.hideCountDown()}},onBtnTestStartGame:function(e,t){var i=JSON.parse(t);this.responsestartGame(i)},onBtnTestJoinGame:function(e,t){var i=JSON.parse(t);this.responseplayerJoin(i)},onBtnTestWinLose:function(e,t){var i=JSON.parse(t);this.responseshowResult(i)},responsestartGame:function(e){null!=this.timeWaitToBeReady&&(clearTimeout(this.timeWaitToBeReady),this.timeWaitToBeReady=null),this.opponentCard=null,o.isXepBai=!0,o.dataRoom=e,o.giveBackAll(),o.myData=o.dataRoom.Players[cc.RedT.user.UID+""],this.nodeBtnSanSang.active=!1,o.loadRoomInfo(),o.uiUser.updateUserData(o.myData,o.dataRoom),o.uiUser.hideStatus(),o.uiUser.hideBao1La(),cc.RedT.user.red=o.myData.Account.Gold;for(var t=0;t<o.uiPlayerArr.length;t++){o.uiPlayerArr[t].hideStatus(),o.uiPlayerArr[t].hideBao1La();var i=o.uiPlayerArr[t].getIDPlayer();i&&o.dataRoom.Players[i+""]&&o.uiPlayerArr[t].updateUserData(o.dataRoom.Players[i+""],o.dataRoom)}o.nodeBtnBatDau.active=!1,o.turnInRound=0,o.waitChiaBai()},responsexepBai:function(){},onChat:function(e){if(this.ingameChat.onData(e),null!=e.message){var t=e.message.user;if(t==cc.RedT.user.name)o.uiUser.Chat(e.message.value);else for(var i=0;i<o.uiPlayerArr.length;i++)null!=o.uiPlayerArr[i]._playerData&&console.log("i chat: ",o.uiPlayerArr[i]._playerData.Account.UserName),null!=o.uiPlayerArr[i]._playerData&&o.uiPlayerArr[i]._playerData.Account.UserName==t&&o.uiPlayerArr[i].Chat(e.message.value)}},responsedanhBai:function(e,t,i){var n=e,a=t;a.sort(function(e,t){return e-t}),o.dataRoom=i,o.myData=o.dataRoom.Players[cc.RedT.user.UID],o.uiUser.hideStatus();for(var s=0;s<o.uiPlayerArr.length;s++)o.uiPlayerArr[s].hideStatus();var c=[];if(o.myData.AccountID==n){for(var l in this.opponentCard=null,this.highlightAll(),a){var h=a[l],d=null;for(s=0;s<o.userCards.length;s++)o.userCards[s].isCheckCard(h)&&(d=s);if(null!=d){var u=o.userCards[d];c.push(u),o.userCards.splice(d,1)}}for(o.addCardToTable(c,!0),s=o.userCards.length-1;s>=0;s--){var p=(b=o.userCards[s]).node,g=o.getMiddleIndex(s,o.userCards.length);b.moveCard(cc.v2(0,0),cc.v2(0,0),g,null,1,!1,!1)}1==o.userCards.length?o.uiUser.showBao1La():o.uiUser.hideBao1La()}else{this.opponentCard=a;var m=null;for(s=0;s<o.uiPlayerArr.length;s++)(h=o.uiPlayerArr[s].getIDPlayer())==n&&(m=o.uiPlayerArr[s]);if(m){var f=null;for(var l in a){var v=a[l],b=o.borrowCard(),T=r;T.OrdinalValue=v,b.loadData(T,null,!1),b.loadCard(),p=b.node;var y=m.getTransGcard();p.parent=y,p.scale=cc.v2(.6,.6),p.position=cc.v2(0,0),c.push(b),(f=m.getDataUser()).HandCards.length>0&&f.HandCards.splice(0,1)}m.updateCardNumber(f.HandCards.length)}o.addCardToTable(c,!0),this.audioHit.play()}o.showTuQuy(n),o.showThreeStraightPair(n),o.showFourStraightPair(n)},responseshowResult:function(e){o.dataRoom=e,o.myData=o.dataRoom.Players[cc.RedT.user.UID],o.waitShowResult()},onDisable:function(){null!=this.timeoutResult&&(clearTimeout(this.timeoutResult),this.timeoutResult=null),null!=this.timeoutCard&&(clearTimeout(this.timeoutCard),this.timeoutCard=null),null!=this.timeOutDelay&&(clearTimeout(this.timeOutDelay),this.timeOutDelay=null)},responsePlayerReady:function(e){if(o.myData&&e==o.myData.AccountID)this.nodeBtnSanSang.active=!1,o.uiUser.nodeIconReady.active=!0;else for(var t=0;t<o.uiPlayerArr.length;t++){var i=o.uiPlayerArr[t];i._playerData&&i._playerData.AccountID==e&&(i.nodeIconReady.active=!0)}},responseshowChatbai:function(e){this.showChat(e.win),this.showChat(e.lose)},showChat:function(e){if(e.AccountId==o.myData.AccountID)o.uiUser.showStatus_string(e.Money>0?"tlmn_chat":"tlmn_bi_chat",!0,e.Money,5);else for(var t=0;t<o.uiPlayerArr.length;t++){var i=o.uiPlayerArr[t];i._playerData&&i._playerData.AccountID==e.AccountId&&i.showStatus_string(e.Money>0?"tlmn_chat":"tlmn_bi_chat",!0,e.Money,5)}},waitShowResult:function(){this.timeoutResult=setTimeout(function(){o.disableAllButton(),o.removeTableCard();for(var e=0;e<o.userCards.length;e++)o.userCards[e].disableCardSelect();o.uiUser.hideCard(),o.uiUser.hideBao1La(),o.uiUser.hideCountDown(),o.uiUser.updateUserData(o.myData,o.dataRoom),o.myData.Status=2,cc.RedT.user.red=o.myData.Account.Gold;var t=null;for(e=0;e<o.dataRoom.GameLoop.SessionResult.ResultList.length;e++)o.dataRoom.GameLoop.SessionResult.ResultList[e].AccountId==o.myData.AccountID&&(t=o.dataRoom.GameLoop.SessionResult.ResultList[e]);if(t){var i=null;null!=t.ResultTextKey&&""!=t.ResultTextKey?o.uiUser.showStatus_string(t.ResultTextKey,!0,t.Money,0):(i=5==t.ResultFamily?t.WinType<0?o.listSpriteStatus[5]:o.listSpriteToiTrang[t.WinType]:o.listSpriteStatus[t.ResultFamily],o.uiUser.showStatus(i,!0,t.Money,0))}for(var n=0;n<o.uiPlayerArr.length;n++){var a=o.uiPlayerArr[n];a.hideCountDown(),a.hideCard(),a.hideBao1La();var s=!1,c=!1,r=a.getDataUser();r&&(c=!0);var l=a.getIDPlayer();if(l&&(r=o.dataRoom.Players[l])&&(s=!0),1==c&&s){a.updateUserData(r,o.dataRoom),r.Status=2;var h=null;for(e=0;e<o.dataRoom.GameLoop.SessionResult.ResultList.length;e++)o.dataRoom.GameLoop.SessionResult.ResultList[e].AccountId==r.AccountID&&(h=o.dataRoom.GameLoop.SessionResult.ResultList[e]);h&&(i=null,null!=h.ResultTextKey&&""!=h.ResultTextKey?a.showStatus_string(h.ResultTextKey,!0,h.Money,0):(i=5==h.ResultFamily?h.WinType<0?o.listSpriteStatus[5]:o.listSpriteToiTrang[h.WinType]:o.listSpriteStatus[h.ResultFamily],a.showStatus(i,!0,h.Money,0)),o.showCardInHand(a,n))}}o.timeoutCard=setTimeout(function(){if(0==o.autoReady.isChecked){if(o.tableCards.length>0||o.userCards.length>0){o.giveBackAll(),o.uiUser.hideStatus();for(var e=0;e<o.uiPlayerArr.length;e++)o.uiPlayerArr[e].hideStatus()}o.nodeBtnSanSang.active=!0,o.uiUser.showCountDown(20),o.timeWaitToBeReady=setTimeout(function(){var e=o;e.uiUser.nodeIconReady.active||e.manager.hubManager.invokeString("LeaveRoom",e.dataRoom.id)},2e4)}else o.onBtnBatDau()},7e3)},800)},showTuQuy:function(){},showThreeStraightPair:function(){},showFourStraightPair:function(){},waitChiaBai:function(){for(var e=0;e<o.uiPlayerArr.length;e++)o.uiPlayerArr[e].isPlaying()&&o.uiPlayerArr[e].showCard();for(var t=0;t<o.myData.HandCards.length;t++)e=t,o.delayWaitChiaBai(.06*e,e)},delayWaitChiaBai:function(e,t){this.timeOutDelay=setTimeout(function(){var e=o.borrowCard();e.loadData(o.myData.HandCards[t],null,!0);var i=o.getMiddleIndex(t,o.myData.HandCards.length);e.node.parent=i,e.node.scale=cc.v2(1,1);var n=o.node.parent.convertToWorldSpaceAR(o.node.getPosition()),a=i.convertToNodeSpaceAR(n);e.node.position=a,e.moveCard(a,cc.v2(0,0),null,null,1,!1,!0),o.userCards.push(e);for(var s=0;s<o.uiPlayerArr.length;s++){var c=o.uiPlayerArr[s].isPlaying(),r=o.uiPlayerArr[s].getDataUser();if(c&&r.HandCards.length>t){var l=o.borrowCard();l.node.parent=o.node,l.node.position=cc.v2(0,0),l.loadData(r.HandCards[t],null,!1);var h=o.uiPlayerArr[s].getTransGcard();n=h.parent.convertToWorldSpaceAR(h.position),a=o.node.convertToNodeSpaceAR(n),l.node.scale=cc.v2(1,1),l.moveCard(cc.v2(0,0),a,null,null,1,!0,!1),o.uiPlayerArr[s].updateCardNumber(t+1)}}},1e3*e)},giveBackAll:function(){for(var e=0;e<o.tableCards.length;e++)o.tableCards[e].node.destroy();for(e=0;e<o.userCards.length;e++)o.userCards[e].node.destroy();o.tableCards=[],o.userCards=[]},loadRoomInfo:function(){o.labelRoom.string=o.dataRoom.Name,o.labelMucCuoc.string=s.ToKMB2(o.dataRoom.MinBet),o.labelSessionId.string="#"+o.dataRoom.CurrentGameLoopId},show:function(e){if(this.clearUI(),this.isXepBai=!0,this.tableCards=[],this.dataRoom=e,this.node.active=!0,this.labelRoom.string=this.dataRoom.Name,this.labelMucCuoc.string=s.ToKMB2(this.dataRoom.MaxLevel),this.labelSessionId.string="#"+this.dataRoom.CurrentGameLoopId,this.nodeBtnSanSang.active=0==this.dataRoom.playing,2==e.MaxPlayer){for(var t in this.isSolo=!0,this.cacheUiPlayerArr=this.uiPlayerArr,this.uiPlayerArr)this.uiPlayerArr[t].node.active=!1;for(var t in this.uiPlayerArr=this.uiPlayerArrSolo,this.uiPlayerArr)this.uiPlayerArr[t].node.active=!0}else if(this.isSolo=!1,null!=this.cacheUiPlayerArr)for(var t in this.uiPlayerArr=this.cacheUiPlayerArr,this.uiPlayerArr)this.uiPlayerArr[t].node.active=!0;this.loadRoomInfo(),this.loadUserFirst(!0),this.ingameChat=this.chatBox.getComponent("IngameGameChat"),this.ingameChat.init("tlmn",this.dataRoom.id)},hide:function(){this.node.active=!1},chatButtonTopClick:function(){this.chatBox.active=!this.chatBox.active},borrowCard:function(){var e=cc.instantiate(this.prefabCard).getComponent("UIItemCardTienLenSolo");return e.init(this),e},showCardInHand:function(e,t){if(2!=o.dataRoom.MaxPlayer||1!=t){var i=e.getTransGcard(),n=i.parent.convertToWorldSpaceAR(i.getPosition()),a=o.node.convertToNodeSpaceAR(n),s=a.x,c=a.y,r=t,l=e.getDataUser();1==r&&(s-=40*(l.HandCards.length-1));for(var h=0;h<l.HandCards.length;h++){var d=o.borrowCard();d.loadData(l.HandCards[h],null,!1),d.loadCard(),d.setCardPosition(cc.v2(s,c),i,.7),s+=40,o.tableCards.push(d)}}},removeTableCard:function(){for(var e=0;e<this.tableCards.length;e++)this.tableCards[e].node.destroy();this.tableCards=[]},clearUI:function(){this.disableAllButton(),this.uiUser.clearUI(),this.giveBackAll();for(var e=0;e<this.uiPlayerArr.length;e++)this.uiPlayerArr[e].clearUI();this.turnInRound=0},loadUserFirst:function(){if(this.myData=this.dataRoom.Players[cc.RedT.user.UID],this.uiUser.init(this.dataRoom,this.myData,null,this,!0),cc.RedT.user.red=this.myData.Account.Gold,this.myData&&1==this.myData.Status){var e=this.getGameStateUser(this.myData.AccountID);e?this.loadActionPlayer(e):this.loadActionPlayer(null);for(var t=0;t<this.myData.HandCards.length;t++){var i=this.borrowCard();i.loadData(this.myData.HandCards[t],null,!0),i.loadCard();var n=o.getMiddleIndex(t,this.myData.HandCards.length);i.setCardPosition(cc.v2(0,0),n,1),this.userCards.push(i)}1==this.userCards.length?this.uiUser.showBao1La():this.uiUser.hideBao1La()}var a=0;for(var s in this.dataRoom.Players){var c=this.dataRoom.Players[s];c.AccountID!=this.myData.AccountID&&(this.uiPlayerArr[a].init(this.dataRoom,c,null,this),a++)}if(0==this.dataRoom.GameLoop.TimerPaused&&this.dataRoom.GameLoop.CurrTurnCards&&this.dataRoom.GameLoop.CurrTurnCards.length>0)for(t=0;t<this.dataRoom.GameLoop.CurrTurnCards.length;t++){for(var l=[],h=this.dataRoom.GameLoop.CurrTurnCards[t].Value,d=0;d<h.Cards.length;d++){var u=this.borrowCard();u.node.parent=o.tranWorld,u.node.scale=cc.v2(.7,.7),u.loadCard();var p=r;p.OrdinalValue=h.Cards[d],u.loadData(p,null,!1),u.loadCard(),l.push(u)}this.addCardToTable(l,!1)}},addCardToTable:function(e,t){for(var i=0;i<this.tableCards.length;i++)this.tableCards[i].showBlack();var n,a=e.length,s=0,c=0;for(0==this.turnInRound?(s=Math.random()*h.y+h.x,c=Math.random()*l.y+l.x):(s=Math.floor(this.turnInRound/5)%2==0?-30:30,c=this.xLastTableCard<0?this.xLastTableCard+Math.random()*l.y:this.xLastTableCard+Math.random()*l.x),n=Math.floor(Math.random()*(l.y-l.x))+l.x,s=Math.floor(Math.random()*(h.y-h.x))+h.x,i=0;i<a;i++){var r=e[i],d=r.node,u=d.parent.convertToWorldSpaceAR(d.getPosition()),p=o.node.convertToNodeSpaceAR(u);if(d.parent=o.node,d.setSiblingIndex(d.parent.children.length),d.position=p,t){var g=cc.v2(n+40*(i+1),s);r.moveCard(p,g,null,null,.7,!1,!1)}else r.setCardPosition(cc.v2(n+40*i,s),this.tranTable,.8);this.tableCards.push(r)}this.yLastTableCard=s,this.xLastTableCard=c,this.turnInRound=this.turnInRound+1},endRound:function(){this.turnInRound=0;for(var e=0;e<this.tableCards.length;e++)this.tableCards[e].node.destroy();this.tableCards=[]},loadActionPlayer:function(e){if(this.myData&&1==this.myData.Status)if(this.boxButtonBot.active=!0,this.nodeBtnBoLuot.interactable=!1,this.nodeBtnDanhBai.interactable=!1,e&&e.length>0)for(var t=0;t<e.length;t++)-1==e[t]?(this.boxButtonBot.active=!1,this.nodeBtnBatDau.active=!1):1==e[t]?(this.nodeBtnDanhBai.interactable=!0,this.highlightCardCanHit(this.opponentCard)):2==e[t]?this.nodeBtnBoLuot.interactable=!0:3==e[t]||e[t];else this.nodeBtnDanhBai.interactable=!1,this.nodeBtnBoLuot.interactable=!1;else if(this.boxButtonBot.active=!1,e&&e.length>0)for(t=0;t<e.length;t++)if(1e3==e[t]){this.nodeBtnBatDau.active=!0;for(var i=0;i<this.uiPlayerArr.length;i++)this.uiPlayerArr[i].nodeIconMaster.active=!1}},disableAllButton:function(){this.nodeBtnBatDau.active=!1,this.boxButtonBot.active=!1},getGameStateUser:function(e){for(var t=this.dataRoom.GameLoop.GameState.ClientStates,i=0;i<t.length;i++)if(t[i].AccountId==e&&this.dataRoom.GameLoop.GameState.DefaultAccount==e&&this.dataRoom.GameLoop.AllowDanhBai){var n=[];return n[0]=1,n}return null},onBtnBack:function(){this.manager.hubManager.invokeString("LeaveRoom",o.dataRoom.id),localStorage.setItem("playing_game",""),localStorage.setItem("playing_money",0)},onBtnBoLuot:function(){this.manager.hubManager.invokeString("BoLuot",o.dataRoom.id),this.highlightAll()},onBtnDanhBai:function(){for(var e=[],t=0;t<this.userCards.length;t++)if(this.userCards[t].getSelectCard()){var i=this.userCards[t].getIdCard();e.push(i)}this.manager.hubManager.invoke({DanhBai:e,id:o.dataRoom.id})},onCardSelect:function(e){null!=this.opponentCard&&this.getSuggestCard(this.opponentCard,e)},getSuggestCard:function(e,t){var i=c.getCardWithOrdiValue(e),n=c.getSuggestCard(JSON.parse(JSON.stringify(o.myData.HandCards)),i,t);if(null!=n)for(var a=0;a<n.length;a++)for(var s=0;s<this.userCards.length;s++)n[a].OrdinalValue==this.userCards[s].getIdCard()&&0==this.userCards[s].getSelectCard()&&this.userCards[s].select()},highlightAll:function(){for(var e=0;e<this.userCards.length;e++)this.userCards[e].setHighLight(!0)},highlightCardCanHit:function(e){if(null!=e){var t=c.getCardWithOrdiValue(e),i=JSON.parse(JSON.stringify(o.myData.HandCards)),n=[];for(var a in i){var s=c.getSuggestCard(i,t,i[a]);if(null!=s)for(var r in s){var l=!0;for(var h in n)if(n[h].OrdinalValue==s[r].OrdinalValue){l=!1;break}l&&n.push(s[r])}}for(a=0;a<this.userCards.length;a++){var d=!1;for(r=0;r<n.length;r++)if(n[r].OrdinalValue==this.userCards[a].getIdCard()){d=!0;break}this.userCards[a].setHighLight(d)}}},onBtnXepBai:function(){this.manager.hubManager.invokeString("SortHandCards",o.dataRoom.id)},callbackXepbai:function(e){if(o.isXepBai=!0,e&&e.length>0){for(var t=e,i=[],n=0,a=0;a<t.length;a++){for(var s=null,c=0;c<o.userCards.length;c++){var r=o.userCards[c];if(r.getIdCard()==t[a].OrdinalValue){s=r;break}}if(s){var l=s.node,h=n++,d=l.parent.convertToWorldSpaceAR(l.getPosition()),u=o.getMiddleIndex(h,o.userCards.length),p=u.convertToNodeSpaceAR(d);l.parent=u,l.position=p,s.moveCard(p,cc.v2(0,0),null,null,1,!1,!1),i.push(s)}}o.userCards=i}},getMiddleIndex:function(e,t){var i=parseInt(o.tranUserCards.length/2),n=parseInt(t/2);return o.tranUserCards[i-n+e]},onBtnBatDau:function(){this.manager.hubManager.invokeString("ready",o.dataRoom.id)},addFriendPopup:function(e,t){this.isSolo?n.default.Instance.showAddFriendTlmn(this.uiPlayerArr[0]):n.default.Instance.showAddFriendTlmn(this.uiPlayerArr[t])}}),cc._RF.pop()},{Helper:"Helper",TLMN_Deck:"TLMN_Deck",UIItemPlayerTienLen:"UIItemPlayerTienLen",UIPopupManager:"UIPopupManager"}],UIScreenLobbyBinh:[function(e,t){"use strict";cc._RF.push(t,"f6741deJ3JExqOGNCBIXjpc","UIScreenLobbyBinh");var i=e("Helper"),n=e("../../Script/ResourceManager");cc.Class({extends:cc.Component,properties:{labelGold:{default:null,type:cc.Label},username:cc.Label,avatar:cc.Sprite,frame:cc.Sprite,contentItem:{default:null,type:cc.Node},ChooseRoom5k:cc.Label,ChooseRoom5k_4:cc.Label,ChooseRoom10k:cc.Label,ChooseRoom10k_4:cc.Label,ChooseRoom50k:cc.Label,ChooseRoom50k_4:cc.Label,ChooseRoom100k:cc.Label,ChooseRoom100k_4:cc.Label,ChooseRoom500k:cc.Label,ChooseRoom500k_4:cc.Label},init:function(e){this.manager=e,this.uiItemRoomArr=[]},show:function(e){var t=this;null!=t.intervalUpdate&&(clearInterval(t.intervalUpdate),t.intervalUpdate=null),t.intervalUpdate=setInterval(function(){null!=t.manager&&null!=t.manager.hubManager?t.manager.hubManager.invokeString("GetLobbyInfo"):clearInterval(t.intervalUpdate)},3e5),t.node.active=!0,t.labelGold.string=i.ToKMB2(cc.RedT.user.red),t.username.string=cc.RedT.user.name,t.avatar.spriteFrame=n.Instance.avatars[cc.RedT.user.avatar],this.frame&&cc.RedT.MainGame.updateFrame(Math.floor(cc.RedT.user.systemLevel/5)-1,this.frame);for(var a=0;a<t.uiItemRoomArr.length;a++)t.uiItemRoomArr[a].node.destroy();t.uiItemRoomArr=[],this.ChooseRoom5k.string=this.caculatePnumber(e,5e3,2),this.ChooseRoom5k_4.string=this.caculatePnumber(e,5e3,4),this.ChooseRoom10k.string=this.caculatePnumber(e,1e4,2),this.ChooseRoom10k_4.string=this.caculatePnumber(e,1e4,4),this.ChooseRoom50k.string=this.caculatePnumber(e,5e4,2),this.ChooseRoom50k_4.string=this.caculatePnumber(e,5e4,4),this.ChooseRoom100k.string=this.caculatePnumber(e,1e5,2),this.ChooseRoom100k_4.string=this.caculatePnumber(e,1e5,4),this.ChooseRoom100k.string=this.caculatePnumber(e,5e5,2),this.ChooseRoom100k_4.string=this.caculatePnumber(e,5e5,4)},onBtnBackHome:function(){cc.director.loadScene("Lobby")},caculatePnumber:function(e,t,i){for(var n=0,a=0;a<e.length;a++)e[a].Item1==t&&e[a].Item2==i&&(n+=e[a].PCount);return n.toString()},hide:function(){this.node.active=!1,null!=this.intervalUpdate&&(clearInterval(this.intervalUpdate),this.intervalUpdate=null)},onBtnPlayNow:function(){cc.RedT.inGame.loading.active=!0,this.manager.hubManager.invokeString("playnow")},onBtnPlayNowRoomType:function(e,t){var i=JSON.parse(t);localStorage.setItem("playing_game","binh"),localStorage.setItem("playing_money",20*i.roomtype),cc.RedT.inGame.loading.active=!0,this.manager.hubManager.invokeStringRoomType("playnow",i.roomtype,i.players)}}),cc._RF.pop()},{"../../Script/ResourceManager":"ResourceManager",Helper:"Helper"}],UIScreenLobbySam:[function(e,t){"use strict";cc._RF.push(t,"317c9O6FedOCooUtGaWo6Qm","UIScreenLobbySam");var i=e("Helper"),n=e("../../Script/ResourceManager");cc.Class({extends:cc.Component,properties:{labelGold:{default:null,type:cc.Label},username:cc.Label,avatar:cc.Sprite,frame:cc.Sprite,prefabItem:{default:null,type:cc.Node},contentItem:{default:null,type:cc.Node},ChooseRoom5k:cc.Label,ChooseRoom5k_4:cc.Label,ChooseRoom10k:cc.Label,ChooseRoom10k_4:cc.Label,ChooseRoom50k:cc.Label,ChooseRoom50k_4:cc.Label,ChooseRoom100k:cc.Label,ChooseRoom100k_4:cc.Label,ChooseRoom500k:cc.Label,ChooseRoom500k_4:cc.Label},init:function(e){this.manager=e,this.uiItemRoomArr=[]},show:function(e){var t=this;null!=t.intervalUpdate&&(clearInterval(t.intervalUpdate),t.intervalUpdate=null),t.intervalUpdate=setInterval(function(){null!=t.manager&&null!=t.manager.hubManager?t.manager.hubManager.invokeString("GetLobbyInfo"):clearInterval(t.intervalUpdate)},3e5),t.node.active=!0,t.labelGold.string=i.ToKMB2(cc.RedT.user.red),t.username.string=cc.RedT.user.name,t.avatar.spriteFrame=n.Instance.avatars[cc.RedT.user.avatar],this.frame&&cc.RedT.MainGame.updateFrame(Math.floor(cc.RedT.user.systemLevel/5)-1,this.frame);for(var a=0;a<t.uiItemRoomArr.length;a++)t.uiItemRoomArr[a].node.destroy();t.uiItemRoomArr=[],this.ChooseRoom5k.string=this.caculatePnumber(e,5e3,2),this.ChooseRoom5k_4.string=this.caculatePnumber(e,5e3,4),this.ChooseRoom10k.string=this.caculatePnumber(e,1e4,2),this.ChooseRoom10k_4.string=this.caculatePnumber(e,1e4,4),this.ChooseRoom50k.string=this.caculatePnumber(e,5e4,2),this.ChooseRoom50k_4.string=this.caculatePnumber(e,5e4,4),this.ChooseRoom100k.string=this.caculatePnumber(e,1e5,2),this.ChooseRoom100k_4.string=this.caculatePnumber(e,1e5,4),this.ChooseRoom500k.string=this.caculatePnumber(e,5e5,2),this.ChooseRoom500k_4.string=this.caculatePnumber(e,5e5,4)},onBtnBackHome:function(){cc.director.loadScene("Lobby")},caculatePnumber:function(e,t,i){for(var n=0,a=0;a<e.length;a++)e[a].Item1==t&&e[a].Item2==i&&(n+=e[a].PCount);return n.toString()},hide:function(){this.node.active=!1,null!=this.intervalUpdate&&(clearInterval(this.intervalUpdate),this.intervalUpdate=null)},onBtnPlayNow:function(){cc.RedT.inGame.loading.active=!0,this.manager.hubManager.invokeString("playnow")},onBtnPlayNowRoomType:function(e,t){var i=JSON.parse(t);cc.RedT.inGame.loading.active=!0,this.manager.hubManager.invokeStringRoomType("playnow",i.roomtype,i.players),localStorage.setItem("playing_game","same"),localStorage.setItem("playing_money",20*i.roomtype)}}),cc._RF.pop()},{"../../Script/ResourceManager":"ResourceManager",Helper:"Helper"}],UIScreenLobbyTienLenSolo:[function(e,t){"use strict";cc._RF.push(t,"1b2d8pu64JLTItCt9ittC9J","UIScreenLobbyTienLenSolo");var i=e("Helper"),n=(e("UIItemChoseRoomTienLenSolo"),e("../../Script/ResourceManager"));cc.Class({extends:cc.Component,properties:{labelGold:{default:null,type:cc.Label},username:cc.Label,avatar:cc.Sprite,frame:cc.Sprite,prefabItem:{default:null,type:cc.Node},contentItem:{default:null,type:cc.Node},ChooseRoom5k:cc.Label,ChooseRoom5k_4:cc.Label,ChooseRoom10k:cc.Label,ChooseRoom10k_4:cc.Label,ChooseRoom50k:cc.Label,ChooseRoom50k_4:cc.Label,ChooseRoom100k:cc.Label,ChooseRoom100k_4:cc.Label,ChooseRoom500k:cc.Label,ChooseRoom500k_4:cc.Label},init:function(e){this.manager=e,this.uiItemRoomArr=[]},show:function(e){var t=this;null!=t.intervalUpdate&&(clearInterval(t.intervalUpdate),t.intervalUpdate=null),t.intervalUpdate=setInterval(function(){null!=t.manager&&null!=t.manager.hubManager?t.manager.hubManager.invokeString("GetLobbyInfo"):clearInterval(t.intervalUpdate)},3e5),t.node.active=!0,t.labelGold.string=i.ToKMB2(cc.RedT.user.red),t.username.string=cc.RedT.user.name,t.avatar.spriteFrame=n.Instance.avatars[cc.RedT.user.avatar],this.frame&&cc.RedT.MainGame.updateFrame(Math.floor(cc.RedT.user.systemLevel/5)-1,this.frame);for(var a=0;a<t.uiItemRoomArr.length;a++)t.uiItemRoomArr[a].node.destroy();t.uiItemRoomArr=[],this.ChooseRoom5k.string=this.caculatePnumber(e,5e3,2),this.ChooseRoom5k_4.string=this.caculatePnumber(e,5e3,4),this.ChooseRoom10k.string=this.caculatePnumber(e,1e4,2),this.ChooseRoom10k_4.string=this.caculatePnumber(e,1e4,4),this.ChooseRoom50k.string=this.caculatePnumber(e,5e4,2),this.ChooseRoom50k_4.string=this.caculatePnumber(e,5e4,4),this.ChooseRoom100k.string=this.caculatePnumber(e,1e5,2),this.ChooseRoom100k_4.string=this.caculatePnumber(e,1e5,4),this.ChooseRoom500k.string=this.caculatePnumber(e,5e5,2),this.ChooseRoom500k_4.string=this.caculatePnumber(e,5e5,4)},onBtnBackHome:function(){cc.director.loadScene("Lobby")},caculatePnumber:function(e,t,i){for(var n=0,a=0;a<e.length;a++)e[a].Item1==t&&e[a].Item2==i&&(n+=e[a].PCount);return n.toString()},hide:function(){this.node.active=!1,null!=this.intervalUpdate&&(clearInterval(this.intervalUpdate),this.intervalUpdate=null)},onBtnPlayNow:function(){cc.RedT.inGame.loading.active=!0,this.manager.hubManager.invokeString("playnow")},onBtnPlayNowRoomType:function(e,t){var i=JSON.parse(t);cc.RedT.inGame.loading.active=!0,this.manager.hubManager.invokeStringRoomType("playnow",i.roomtype,i.players),localStorage.setItem("playing_game","tlmn"),localStorage.setItem("playing_money",20*i.roomtype)}}),cc._RF.pop()},{"../../Script/ResourceManager":"ResourceManager",Helper:"Helper",UIItemChoseRoomTienLenSolo:"UIItemChoseRoomTienLenSolo"}],UIUserBaCay:[function(e,t){"use strict";cc._RF.push(t,"b7b77YzntxJXbYGypB5WhM0","UIUserBaCay");var i=e("Helper");cc.Class({extends:cc.Component,properties:{txtName:cc.Label,txtBalance:cc.Label,boxWin:cc.Node,txtWin:cc.Label,avatar:cc.Sprite,frame:cc.Sprite},init:function(e,t,n,a){void 0===a&&(a=!1),cc.RedT.updateAvatar(n,this.avatar),this.frame&&cc.RedT.MainGame.updateFrame(Math.floor(cc.RedT.user.systemLevel/5)-1,this.frame),this.txtName.string=e,this.txtBalance.string=i.ToKMB2(t)}}),cc._RF.pop()},{Helper:"Helper"}],UIUserBacarat:[function(e,t){"use strict";cc._RF.push(t,"fbc1bXsJF9NUYOcNdgzq45x","UIUserBacarat");var i=e("Helper");cc.Class({extends:cc.Component,properties:{txtName:cc.Label,txtBalance:cc.Label,boxWin:cc.Node,txtWin:cc.Label,avatar:cc.Sprite},init:function(e,t,n,a){void 0===a&&(a=!1),cc.RedT.updateAvatar(n,this.avatar),this.txtName.string=e,this.txtBalance.string=a?i.numberWithCommas(t):i.ToKMB2(t)}}),cc._RF.pop()},{Helper:"Helper"}],UIUserRoulette:[function(e,t){"use strict";cc._RF.push(t,"0bf78wkqcFPm6p22dGgmG33","UIUserRoulette");var i=e("Helper");cc.Class({extends:cc.Component,properties:{txtName:cc.Label,txtBalance:cc.Label,boxWin:cc.Node,txtWin:cc.Label,avatar:cc.Sprite},init:function(e,t,n){cc.RedT.updateAvatar(n,this.avatar),this.txtName.string=e,this.txtBalance.string=i.ToKMB2(t)}}),cc._RF.pop()},{Helper:"Helper"}],UIUserSicbo:[function(e,t){"use strict";cc._RF.push(t,"dfc3f1EwZFIzJdxPqjVytBG","UIUserSicbo");var i=e("Helper");cc.Class({extends:cc.Component,properties:{txtName:cc.Label,txtBalance:cc.Label,boxWin:cc.Node,txtWin:cc.Label,avatar:cc.Sprite},init:function(e,t,n){cc.RedT.updateAvatar(n,this.avatar),this.txtName.string=e,this.txtBalance.string=i.ToKMB2(t)}}),cc._RF.pop()},{Helper:"Helper"}],UIUserXocXoc:[function(e,t){"use strict";cc._RF.push(t,"e7d86dFtxJN7bfXgf3fu8gR","UIUserXocXoc");var i=e("Helper");cc.Class({extends:cc.Component,properties:{txtName:cc.Label,txtBalance:cc.Label,boxWin:cc.Node,txtWin:cc.Label,avatar:cc.Sprite},init:function(e,t,n,a){void 0===a&&(a=!1),cc.RedT.updateAvatar(n,this.avatar),this.txtName.string=e,this.txtBalance.string=a?i.numberWithCommas(t):i.ToKMB2(t)}}),cc._RF.pop()},{Helper:"Helper"}],VKObjectPoolManager:[function(e,t){"use strict";cc._RF.push(t,"b9ac2m1eQhId7C4u2mTbUhX","VKObjectPoolManager"),cc.Class({extends:cc.Component,properties:{prefab:cc.Prefab,amountFirst:10},onLoad:function(){this.init(),this.count=0},init:function(){this.pool=new Array;for(var e=0;e<this.amountFirst;e++)this.CreateObject().active=!1},GiveBackObject:function(e){null!=e&&(e.parent=this.node,e.isPoolUsing=!1,e.active=!1)},BorrowObject:function(){for(var e=0;e<this.pool.length;e++){var t=this.pool[e];if(!t.isPoolUsing)return t.active=!0,t.isPoolUsing=!0,t}var i=this.CreateObject();return i.active=!0,i.isPoolUsing=!0,i},GiveBackAll:function(){for(var e=0;e<this.pool.length;e++){var t=this.pool[e];t.isPoolUsing&&this.GiveBackObject(t)}},CreateObject:function(){var e=cc.instantiate(this.prefab);return e.name=e.name+""+this.count,this.count++,e.parent=this.node,e.isPoolUsing=!1,this.pool.push(e),e}}),cc._RF.pop()},{}],VQRed_history_item:[function(e,t){"use strict";cc._RF.push(t,"34e5adZvXxL7bNHLgdyx3NI","VQRed_history_item"),cc.Class({extends:cc.Component,properties:{time:cc.Label,phien:cc.Label,cuoc:cc.Label,line:cc.Label,win:cc.Label}}),cc._RF.pop()},{}],XocXocChat:[function(e,t){"use strict";cc._RF.push(t,"f689eDKpFtPs676G45CIO0o","XocXocChat");var i=e("Helper"),n=e("BrowserUtil");cc.Class({extends:cc.Component,properties:{content:{default:null,type:cc.ScrollView},item:{default:null,type:cc.Prefab},input:{default:null,type:cc.EditBox},layout:{default:null,type:cc.Layout},isLoad:!1},init:function(e,t){void 0===t&&(t=!1),this.RedT=e,this.isPrivateRoom=t},onLoad:function(){var e=this;this.keyHandle=function(t){return t.keyCode===cc.macro.KEY.tab?(t.preventDefault&&t.preventDefault(),!1):t.keyCode===cc.macro.KEY.enter?(n.focusGame(),e.onChatClick(),t.preventDefault&&t.preventDefault(),!1):void 0}},onEnable:function(){cc.sys.isBrowser&&this.addEvent(),this.isLoad||this.getData()},onDisable:function(){cc.sys.isBrowser&&this.removeEvent(),this.clean()},addEvent:function(){n.getHTMLElementByEditBox(this.input).addEventListener("keydown",this.keyHandle,!1)},removeEvent:function(){n.getHTMLElementByEditBox(this.input).removeEventListener("keydown",this.keyHandle,!1)},getData:function(){this.isLoad=!0,this.sendData({getLogChat:!0})},sendData:function(e){this.isPrivateRoom?(e.room_id=this.RedT.room_id,cc.RedT.send({g:{xocxoc_p:e}})):cc.RedT.send({g:{xocxoc:e}})},message:function(e,t){void 0===t&&(t=!1);var i=cc.instantiate(this.item),n=i.getComponent(cc.Label);e.value=e.value.replace("\r",""),n.string=e.user+": "+e.value,i.children[0].getComponent(cc.Label).string=e.user,this.content.content.addChild(i),t&&setTimeout(function(){this.content&&this.content.scrollToBottom(.1)}.bind(this),100)},logs:function(e){var t=this;if(e.length){var i=this;Promise.all(e.map(function(e){return i.message(e)})).then(function(){setTimeout(function(){this.content&&this.content.scrollToBottom(.1)}.bind(t),100)})}},onData:function(e){void 0!==e.message&&this.message(e.message,!0),void 0!==e.logs&&this.logs(e.logs)},onChatClick:function(){i.isEmpty(this.input.string)?this.RedT.onData({err:"Enter content to chat"}):(this.sendData({chat:this.input.string}),this.onData({message:{user:cc.RedT.user.name,value:this.input.string}}),this.clean())},toggle:function(){cc.RedT.audio.playClick(),this.node.active=!this.node.active},clean:function(){this.input.string=""},reset:function(){this.content.content.destroyAllChildren(),this.node.active=!1}}),cc._RF.pop()},{BrowserUtil:"BrowserUtil",Helper:"Helper"}],XocXoc_dialog:[function(e,t){"use strict";cc._RF.push(t,"c4aaeEmL4tMTYKZKZDHN9hV","XocXoc_dialog");var i=e("XocXoc_history"),n=e("XocXoc_top");cc.Class({extends:cc.Component,properties:{history:i,top:n},init:function(){this.actionShow=cc.spawn(cc.scaleTo(.5,1).easing(cc.easeBackOut(2.5)),cc.fadeTo(.5,255)),this.objShow=null,this.objTmp=null},onClickBack:function(){cc.RedT.audio.playUnClick(),this.onBack()},onBack:function(){null!=this.objShow?null==this.objShow.previous||null==this.objShow.previous?(this.objShow.active=!1,this.node.active=!1,this.objShow=null):(this.objTmp=this.objShow,this.objShow=this.objShow.previous,this.objTmp.previous=null,this.objTmp.active=!1,this.objShow.active=!0,this.objTmp=null):this.node.active=!1},onClosePrevious:function(e){void 0!==e.previous&&null!==e.previous&&(this.onClosePrevious(e.previous),delete e.previous),e.active=!1},onCloseDialog:function(){null!=this.objShow?null==this.objShow.previous||null==this.objShow.previous?(this.objShow.active=this.node.active=!1,this.objShow=null):(this.onClosePrevious(this.objShow.previous),this.objShow.active=this.node.active=!1,delete this.objShow.previous,this.objShow=null):this.node.active=!1},resetSizeDialog:function(e){e.stopAllActions(),e.scale=.5,e.opacity=0},showHistory:function(){this.node.active=this.history.node.active=!0,this.objShow=this.history.node},showTop:function(){this.node.active=this.top.node.active=!0,this.objShow=this.top.node}}),cc._RF.pop()},{XocXoc_history:"XocXoc_history",XocXoc_top:"XocXoc_top"}],XocXoc_history_item:[function(e,t){"use strict";cc._RF.push(t,"281e41bbTJA6rvy6BRfTh1a","XocXoc_history_item"),cc.Class({extends:cc.Component,properties:{bg:cc.Node,time:cc.Label,phien:cc.Label,kqSprite:cc.Sprite,kqLabel:cc.Label,chan:cc.Label,le:cc.Label,red3:cc.Label,red4:cc.Label,white3:cc.Label,white4:cc.Label,win:cc.Label}}),cc._RF.pop()},{}],XocXoc_history:[function(e,t){"use strict";cc._RF.push(t,"358d0RyfQlNvKbc/4deKLy1","XocXoc_history");var i=e("Helper");cc.Class({extends:cc.Component,properties:{page:cc.Prefab,content:cc.Node,cointRed:cc.Node,cointXu:cc.Node,iconRed:cc.SpriteFrame,iconWhite:cc.SpriteFrame,titleNameOrTime:cc.Label,red:!0},onLoad:function(){var e=this,t=cc.instantiate(this.page);t.y=-263,this.node.addChild(t),this.page=t.getComponent("Pagination"),Promise.all(this.content.children.map(function(e){return e.getComponent("XocXoc_history_item")})).then(function(t){e.content=t}),this.page.init(this)},initPrivate:function(e){this.root=e,this.isPrivate=!0},onEnable:function(){this.get_data()},get_data:function(e){void 0===e&&(e=1),this.isPrivate?cc.RedT.send({g:{xocxoc_p:{log:{red:this.red,page:e,room_id:this.root.room_id}}}}):cc.RedT.send({g:{xocxoc:{log:{red:this.red,page:e}}}})},changerCoint:function(){this.red=!this.red,this.cointRed.active=!this.cointRed.active,this.cointXu.active=!this.cointXu.active,this.get_data()},onData:function(e){var t=this;this.page.onSet(e.page,e.kmess,e.total);var n=!0;this.isPrivate&&(this.root.isOwner?(n=!1,this.titleNameOrTime.string="PARTICIPANTS"):this.titleNameOrTime.string="Time"),Promise.all(this.content.map(function(a,o){var s=e.data[o];if(void 0!==s&&void 0!==s.kq){a.node.active=!0,a.bg.active=o%2,a.time.string=n?i.getStringDateByTime(s.time):s.name,a.phien.string=s.phien;var c=0;s.kq.forEach(function(e){e&&c++}),a.kqSprite.spriteFrame=0===c?t.iconRed:c%2?t.iconRed:t.iconWhite,a.kqLabel.string=0===c?4:c,a.chan.string=i.numberWithCommas(s.chan),a.le.string=i.numberWithCommas(s.le),a.red3.string=i.numberWithCommas(s.red3),a.red4.string=i.numberWithCommas(s.red4),a.white3.string=i.numberWithCommas(s.white3),a.white4.string=i.numberWithCommas(s.white4),a.win.string=i.numberWithCommas(s.betwin),c%2?(a.le.node.color=cc.Color.YELLOW,a.chan.node.color=cc.Color.WHITE):(a.chan.node.color=cc.Color.YELLOW,a.le.node.color=cc.Color.WHITE),a.white4.node.color=0===c?cc.Color.YELLOW:cc.Color.WHITE,a.white3.node.color=1===c?cc.Color.YELLOW:cc.Color.WHITE,a.red3.node.color=3===c?cc.Color.YELLOW:cc.Color.WHITE,a.red4.node.color=4===c?cc.Color.YELLOW:cc.Color.WHITE}else a.node.active=!1}))}}),cc._RF.pop()},{Helper:"Helper"}],XocXoc_top:[function(e,t){"use strict";cc._RF.push(t,"b5de3R6mw5PGbEgZCU2QLsG","XocXoc_top"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],XocXoc:[function(e,t){"use strict";cc._RF.push(t,"24723lmj75OaaA5CAEsELDw","XocXoc");var i=e("Helper"),n=e("Notice"),a=e("XocXocChat"),o=e("XocXoc_dialog"),s=e("UIUserXocXoc"),c=e("UIPopupManager"),r=e("Admob");cc.Class({extends:cc.Component,properties:{audioBG:cc.AudioSource,bettingCountDown:cc.Sprite,audioIcons:{default:[],type:cc.SpriteFrame},audioIcon:cc.Sprite,objDropdownSetting:cc.Node,boxWatchVideo:cc.Node,Progress:cc.Sprite,time:cc.Label,chat:a,usersList:{default:[],type:s},audioMoBat:cc.AudioSource,audioSingleChip:cc.AudioSource,audioMultiChip:cc.AudioSource,audioXocDia:cc.AudioSource,audioMultiChip2:cc.AudioSource,audioMultiChip3:cc.AudioSource,audioMultiChip4:cc.AudioSource,audioMultiChip5:cc.AudioSource,box_chan:cc.Node,box_le:cc.Node,box_red3:cc.Node,box_red4:cc.Node,box_white3:cc.Node,box_white4:cc.Node,total_chan:cc.Label,total_le:cc.Label,total_red3:cc.Label,total_red4:cc.Label,total_white3:cc.Label,total_white4:cc.Label,me_chan:cc.Label,me_le:cc.Label,me_red3:cc.Label,me_red4:cc.Label,me_white3:cc.Label,me_white4:cc.Label,me_name:cc.Label,me_balans:cc.Label,avatar:cc.Sprite,frame:cc.Sprite,lableBetting:cc.Label,lableWaiting:cc.Label,labelTime:cc.Label,timeWait:cc.Label,nodeWait:cc.Node,box_chip:cc.Node,users_bg:cc.Node,users_count:cc.Label,nodeBat:cc.Node,chip_1000:cc.SpriteFrame,chip_10000:cc.SpriteFrame,chip_50000:cc.SpriteFrame,chip_100000:cc.SpriteFrame,chip_1000000:cc.SpriteFrame,dot_red:cc.SpriteFrame,dot_white:cc.SpriteFrame,dot:{default:[],type:cc.Sprite},log_chan:cc.Label,log_le:cc.Label,log_top:cc.Node,logMain:cc.Node,redH:cc.Node,miniNotice:cc.Node,Animation:cc.Animation,prefabNotice:cc.Prefab,bet:cc.Node,redhat:cc.Node,loading:cc.Node,notice:n,dialog:o,fontCong:{default:null,type:cc.BitmapFont},fontTru:{default:null,type:cc.BitmapFont},red:!0},ctor:function(){this.logs=[],this.nan=!1,this.cuoc="1000",this.actionBatOpen=cc.moveTo(.5,cc.v2(-215,246)),this.actionBatClose=cc.sequence(cc.callFunc(function(){this.resetData()},this),cc.moveTo(.5,cc.v2(0,0)),cc.delayTime(.5),cc.callFunc(function(){this.audioXocDia.play(),this.Animation.play()},this)),this.maxDot={x:30,y:30},this.maxBox1_3={x:80,y:40},this.maxBox1_1={x:80,y:40},this.clients={red:{chan:0,le:0,red3:0,red4:0,white3:0,white4:0},xu:{chan:0,le:0,red3:0,red4:0,white3:0,white4:0}},this.users={red:{chan:0,le:0,red3:0,red4:0,white3:0,white4:0},xu:{chan:0,le:0,red3:0,red4:0,white3:0,white4:0}}},onLoad:function(){cc.RedT.inGame=this,this.isShowBoxUI=!1;for(var e=0;e<this.usersList.length;e++)this.usersList[e].node.active=!1;this.logMain=this.logMain.children.map(function(e){return e.children[0].getComponent(cc.Sprite)}),this.logMain.reverse(),this.log_top=this.log_top.children.map(function(e){var t={cell:e},i=e.children.map(function(e){return{c:e.children[0].getComponent(cc.Sprite),t:e.children[1].getComponent(cc.Label)}});return i.reverse(),t.data=i,t}),this.log_top.reverse(),this.chat.init(this),this.me_name.string=cc.RedT.user.name,this.me_balans.string=i.numberWithCommas(cc.RedT.user.red),cc.RedT.updateAvatar(cc.RedT.user.avatar,this.avatar),this.frame&&cc.RedT.MainGame.updateFrame(Math.floor(cc.RedT.user.systemLevel/5)-1,this.frame),cc.RedT.send({scene:"xocxoc",g:{reg:"XocXoc",xocxoc:{ingame:!0,view:!0}}}),c.Instance.loading.active=!1,localStorage.setItem("playing_game","XocXoc"),localStorage.setItem("playing_money",5e4),this.firstround=!0,cc.RedT.util.fontCong=this.fontCong,cc.RedT.util.fontTru=this.fontTru},playMusic:function(){null!=this&&null!=this.audioBG&&this.audioBG.play()},pauseMusic:function(){null!=this&&null!=this.audioBG&&this.audioBG.stop()},onSetAudio:function(){this.audioIcon.spriteFrame==this.audioIcons[1]?(this.pauseMusic(),this.audioIcon.spriteFrame=this.audioIcons[0]):(this.playMusic(),this.audioIcon.spriteFrame=this.audioIcons[1])},showSettingDropdown:function(){this.objDropdownSetting.active=!this.objDropdownSetting.active},onData:function(e){void 0!==e.user&&(e.user.newLevel&&e.user.oldLevel&&e.user.bonus&&e.user.newLevel>e.user.oldLevel&&(c.Instance.noticeBonusLvl(e),cc.RedT.user.systemLevel=e.newLevel),this.userData(e.user),cc.RedT.userData(e.user)),void 0!==e.notice&&this.addNotice(e.notice),void 0!==e.xocxoc&&this.xocxoc(e.xocxoc)},backGame:function(){clearInterval(this.timeInterval),cc.RedT.send({g:{xocxoc:{outgame:!0}}}),c.Instance.loading.active=!0,void 0!==this.timeOut&&clearTimeout(this.timeOut),this.pauseMusic(),cc.director.preloadScene("MainGame",function(){c.Instance.loading.active=!1,cc.director.loadScene("MainGame")})},signOut:function(){clearInterval(this.timeInterval),localStorage.setItem("playing_game",""),localStorage.setItem("playing_money",0),cc.director.preloadScene("MainGame",function(){cc.director.loadScene("MainGame"),cc.RedT.inGame.signOut()})},userData:function(e){this.me_balans.string=i.numberWithCommas(e.red)},showUserView:function(e,t){e.node.active=!0,e.init(t.name,t.red,t.avatar)},xocxoc:function(e){if(void 0!==e.chat&&this.chat.onData(e.chat),void 0!==e.viewUsers&&e.viewUsers.length>0){for(var t=0;t<e.viewUsers.length;t++)e.viewUsers[t].name==cc.RedT.user.name&&e.viewUsers.splice(t,1);this.users_count.string=e.viewUsers.length;var i=0;for(t=0;t<this.usersList.length;t++)t<=e.viewUsers.length-1?this.showUserView(this.usersList[t],e.viewUsers[i]):this.usersList[t].node.active=!1,i++}void 0!==e.gamestimes&&(this.gamestimes=e.gamestimes),e.ingame&&this.xocxocIngame(e.ingame),e.finish&&this.xocxocFinish(e.finish),e.history&&this.dialog.history.onData(e.history),e.top,e.status&&this.status(e.status),e.chip&&this.clientsChip(e.chip),e.mechip&&this.meChip(e.mechip),e.client&&this.updateClient(e.client),e.me&&this.updateMe(e.me),void 0!==e.notice&&this.addNotice(e.notice)},xocxocIngame:function(e){e.chip&&this.ingameChip(e.chip),null!=e.time&&(this.time_remain=e.time-1,0==e.time&&(this.time_remain=this.gamestimes.total_time-this.gamestimes.play_time),this.playTime(),this.time_remain>this.gamestimes.play_time+this.gamestimes.wait_time&&e.logs.length&&(this.nodeBat.position=cc.v2(-215,246),this.setDot([e.logs[0].red1,e.logs[0].red2,e.logs[0].red3,e.logs[0].red4]))),e.data&&this.updateData(e.data),e.logs&&(this.logs=e.logs,this.setLogs()),e.me&&this.updateMe(e.me),e.chats},ingameChip:function(e){for(var t=0,i=Object.entries(e);t<i.length;t++){var n=i[t],a=n[0],o=n[1],s=this.maxBox1_3;switch(e.box){case"chan":case"le":s=this.maxBox1_1}for(var c=0,r=Object.entries(o);c<r.length;c++){var l=r[c],h=l[0],d=l[1];if(d>0)for(;d;){var u=Math.random()*(s.x+1)>>0,p=Math.random()*(s.y+1)>>0,g=new cc.Node;(g=g.addComponent(cc.Sprite)).spriteFrame=this["chip_"+h],g.node.position=cc.v2(u,p),g.node.scale=.3,this["box_"+a].children[1].addChild(g.node),d--}}}},xocxocFinish:function(e){var t={red1:e[0],red2:e[1],red3:e[2],red4:e[3]};this.logs.unshift(t),this.logs.length>48&&this.logs.pop(),this.setDot(e),this.labelTime.node.active=!1,this.lableBetting.node.active=!1,this.lableWaiting.node.active=!1,this.time_remain=this.gamestimes.total_time,this.playTime(),this.nan||this.FinishTT()},FinishTT:function(){this.audioMoBat.play(),this.nodeBat.runAction(cc.sequence(this.actionBatOpen,cc.callFunc(this.showKQ,this),cc.delayTime(1),cc.callFunc(this.showKQ2,this))),this.betCurrent="",this.setLogs()},showKQ:function(){var e=Object.values(this.logs[0]),t=0;switch(e.forEach(function(e){e&&t++}),t%2?this.box_le.children[0].active=!0:this.box_chan.children[0].active=!0,t){case 0:this.box_white4.children[0].active=!0;break;case 1:this.box_white3.children[0].active=!0;break;case 3:this.box_red3.children[0].active=!0;break;case 4:this.box_red4.children[0].active=!0}},showKQ2:function(){var e=0,t=0,i=null,n=null,a=Object.values(this.logs[0]),o=0;a.forEach(function(e){e&&o++});var s=this.box_chip.parent.convertToWorldSpaceAR(this.box_chip.position),c=null;o%2?(i=this.box_le.children[1],e+=this.box_chan.children[1].children.length,c=this.box_chan.children[1].convertToNodeSpaceAR(s),Promise.all(this.box_chan.children[1].children.map(function(e){e.runAction(cc.spawn(cc.scaleTo(.4,.3),cc.moveTo(.4,c)))}))):(i=this.box_chan.children[1],e+=this.box_le.children[1].children.length,c=this.box_le.children[1].convertToNodeSpaceAR(s),Promise.all(this.box_le.children[1].children.map(function(e){e.runAction(cc.spawn(cc.scaleTo(.4,.3),cc.moveTo(.4,c)))})));var r=this.box_red3.children[1].convertToNodeSpaceAR(s),l=this.box_red4.children[1].convertToNodeSpaceAR(s),h=this.box_white3.children[1].convertToNodeSpaceAR(s),d=this.box_white4.children[1].convertToNodeSpaceAR(s);switch(o){case 0:n=this.box_white4.children[1],e+=this.box_red3.children[1].children.length+this.box_red4.children[1].children.length+this.box_white3.children[1].children.length,Promise.all(this.box_red3.children[1].children.map(function(e){e.runAction(cc.spawn(cc.scaleTo(.4,.3),cc.moveTo(.4,r)))})),Promise.all(this.box_red4.children[1].children.map(function(e){e.runAction(cc.spawn(cc.scaleTo(.4,.3),cc.moveTo(.4,l)))})),Promise.all(this.box_white3.children[1].children.map(function(e){e.runAction(cc.spawn(cc.scaleTo(.4,.3),cc.moveTo(.4,h)))}));break;case 1:n=this.box_white3.children[1],e+=this.box_red3.children[1].children.length+this.box_red4.children[1].children.length+this.box_white4.children[1].children.length,Promise.all(this.box_red3.children[1].children.map(function(e){e.runAction(cc.spawn(cc.scaleTo(.4,.3),cc.moveTo(.4,r)))})),Promise.all(this.box_red4.children[1].children.map(function(e){e.runAction(cc.spawn(cc.scaleTo(.4,.3),cc.moveTo(.4,l)))})),Promise.all(this.box_white4.children[1].children.map(function(e){e.runAction(cc.spawn(cc.scaleTo(.4,.3),cc.moveTo(.4,d)))}));break;case 2:e+=this.box_red3.children[1].children.length+this.box_red4.children[1].children.length+this.box_white3.children[1].children.length+this.box_white4.children[1].children.length,Promise.all(this.box_red3.children[1].children.map(function(e){e.runAction(cc.spawn(cc.scaleTo(.4,.3),cc.moveTo(.4,r)))})),Promise.all(this.box_red4.children[1].children.map(function(e){e.runAction(cc.spawn(cc.scaleTo(.4,.3),cc.moveTo(.4,l)))})),Promise.all(this.box_white3.children[1].children.map(function(e){e.runAction(cc.spawn(cc.scaleTo(.4,.3),cc.moveTo(.4,d)))})),Promise.all(this.box_white4.children[1].children.map(function(e){e.runAction(cc.spawn(cc.scaleTo(.4,.3),cc.moveTo(.4,d)))}));break;case 3:n=this.box_red3.children[1],e+=this.box_white3.children[1].children.length+this.box_red4.children[1].children.length+this.box_white4.children[1].children.length,Promise.all(this.box_white3.children[1].children.map(function(e){e.runAction(cc.spawn(cc.scaleTo(.4,.3),cc.moveTo(.4,h)))})),Promise.all(this.box_red4.children[1].children.map(function(e){e.runAction(cc.spawn(cc.scaleTo(.4,.3),cc.moveTo(.4,l)))})),Promise.all(this.box_white4.children[1].children.map(function(e){e.runAction(cc.spawn(cc.scaleTo(.4,.3),cc.moveTo(.4,d)))}));break;case 4:n=this.box_red4.children[1],e+=this.box_white3.children[1].children.length+this.box_red3.children[1].children.length+this.box_white4.children[1].children.length,Promise.all(this.box_white3.children[1].children.map(function(e){e.runAction(cc.spawn(cc.scaleTo(.4,.3),cc.moveTo(.4,h)))})),Promise.all(this.box_red3.children[1].children.map(function(e){e.runAction(cc.spawn(cc.scaleTo(.4,.3),cc.moveTo(.4,r)))})),Promise.all(this.box_white4.children[1].children.map(function(e){e.runAction(cc.spawn(cc.scaleTo(.4,.3),cc.moveTo(.4,d)))}))}e&&this.audioMultiChip.play(),setTimeout(function(){if(i){var e=this;i.children&&(t+=i.children.length);var a=i.convertToNodeSpaceAR(s);i.children.forEach(function(t){var n=cc.instantiate(t);n.position=a,n.scale=.5;var o=Math.random()*(e.maxBox1_1.x+1)>>0,s=Math.random()*(e.maxBox1_1.y+1)>>0;i.addChild(n),n.runAction(cc.sequence(cc.spawn(cc.scaleTo(.4,.3),cc.moveTo(.4,cc.v2(o,s))),cc.sequence(cc.moveTo(.1,cc.v2(o,s-6)),cc.moveTo(.1,cc.v2(o,s)))))})}if(n){var o=this;n.children&&(t+=n.children.length);var c=n.convertToNodeSpaceAR(s);n.children.forEach(function(e){var t=cc.instantiate(e);t.position=c,t.scale=.5;var i=Math.random()*(o.maxBox1_3.x+1)>>0,a=Math.random()*(o.maxBox1_3.y+1)>>0;n.addChild(t),t.runAction(cc.sequence(cc.spawn(cc.scaleTo(.4,.3),cc.moveTo(.4,cc.v2(i,a))),cc.sequence(cc.moveTo(.1,cc.v2(i,a-6)),cc.moveTo(.1,cc.v2(i,a)))))})}if(t){var r=this;Promise.all([1,2,3,4,5].map(function(e){1!==e?r["audioMultiChip"+e].play():r.audioMultiChip.play()}))}setTimeout(function(){if(this.users_bg&&i){var e=this.users_bg.parent.convertToWorldSpaceAR(this.users_bg.position),t=i.convertToNodeSpaceAR(e);if(i.children.forEach(function(e){e.runAction(cc.spawn(cc.fadeTo(.4,0),cc.moveTo(.4,t)))}),n){var a=n.convertToNodeSpaceAR(e);n.children.forEach(function(e){e.runAction(cc.spawn(cc.fadeTo(.4,0),cc.moveTo(.4,a)))})}}}.bind(this),3e3)}.bind(this),1500)},setDot:function(e){var t=this,i=Math.random()*(this.maxDot.x+1)>>0,n=Math.random()*(this.maxDot.y+1)>>0,a=n-i;a>22&&(n-=n/1.4),this.dot[0].node.position=cc.v2(i,n),i=Math.random()*(this.maxDot.x+1)>>0,(a=(n=Math.random()*(this.maxDot.y+1)>>0)-i)>22&&(n-=n/1.4),this.dot[1].node.position=cc.v2(i,n),i=Math.random()*(this.maxDot.x+1)>>0,(a=(n=Math.random()*(this.maxDot.y+1)>>0)-i)>22&&(n-=n/1.4),this.dot[2].node.position=cc.v2(i,n),i=Math.random()*(this.maxDot.x+1)>>0,(a=(n=Math.random()*(this.maxDot.y+1)>>0)-i)>22&&(n-=n/1.4),this.dot[3].node.position=cc.v2(i,n),this.dot.forEach(function(i,n){var a=e[n];i.spriteFrame=a?t.dot_red:t.dot_white})},playTime:function(){void 0!==this.timeInterval&&clearInterval(this.timeInterval);var e=this.time_remain-this.gamestimes.play_time-this.gamestimes.wait_time;this.timeInterval=setInterval(function(){if(this.time_remain&&this.gamestimes.play_time&&this.gamestimes.wait_time){if(this.time_remain>this.gamestimes.play_time+this.gamestimes.wait_time){var t=this.time_remain-(this.gamestimes.play_time+this.gamestimes.wait_time),n=i.numberPad(this.time_remain-(this.gamestimes.play_time+this.gamestimes.wait_time+1),2);(t==e||this.firstround)&&(this.tweenProgress(e,this.bettingCountDown),this.bettingCountDown.node.parent.active=!0),this.timeWait.string=n,this.lableBetting.node.active=!1,this.lableWaiting.node.active=!0,this.labelTime.node.active=!1,this.nodeWait.active=!1,this.firstround=!1}else this.time_remain>this.gamestimes.play_time?(this.bettingCountDown.node.parent.active=!1,this.lableBetting.node.active=!1,this.lableWaiting.node.active=!1,this.labelTime.node.active=!1,this.nodeWait.active=!1,this.time_remain===this.gamestimes.play_time+ +this.gamestimes.wait_time&&this.nodeBat.runAction(this.actionBatClose)):this.time_remain>-1?(this.firstround?this.tweenProgress(this.time_remain,this.bettingCountDown):this.time_remain==this.gamestimes.play_time&&this.tweenProgress(this.gamestimes.play_time,this.bettingCountDown),this.bettingCountDown.node.parent.active=!0,n=i.numberPad(this.time_remain-1,2),this.lableBetting.node.active=!0,this.lableWaiting.node.active=!1,this.labelTime.node.active=!1,this.nodeWait.active=!1,this.labelTime.string=n,this.time_remain<11?this.labelTime.node.color=cc.Color.RED:this.labelTime.node.color=cc.Color.WHITE,this.firstround=!1):clearInterval(this.timeInterval);this.time_remain--}}.bind(this),1e3)},countClient:function(e){this.users_count.string=e},updateData:function(e){this.total_chan.string=e.red.chan>0?i.numberWithCommas(e.red.chan):"",this.total_le.string=e.red.le>0?i.numberWithCommas(e.red.le):"",this.total_red3.string=e.red.red3>0?i.numberWithCommas(e.red.red3):"",this.total_red4.string=e.red.red4>0?i.numberWithCommas(e.red.red4):"",this.total_white3.string=e.red.white3>0?i.numberWithCommas(e.red.white3):"",this.total_white4.string=e.red.white4>0?i.numberWithCommas(e.red.white4):""},resetData:function(){this.betCurrent="",this.box_chan.children[1].removeAllChildren(),this.box_le.children[1].removeAllChildren(),this.box_white4.children[1].removeAllChildren(),this.box_white3.children[1].removeAllChildren(),this.box_red3.children[1].removeAllChildren(),this.box_red4.children[1].removeAllChildren(),this.box_chan.children[0].active=!1,this.box_le.children[0].active=!1,this.box_white4.children[0].active=!1,this.box_white3.children[0].active=!1,this.box_red3.children[0].active=!1,this.box_red4.children[0].active=!1,this.total_chan.string="",this.total_le.string="",this.total_red3.string="",this.total_red4.string="",this.total_white3.string="",this.total_white4.string="",this.me_chan.string="",this.me_le.string="",this.me_red3.string="",this.me_red4.string="",this.me_white3.string="",this.me_white4.string="",this.users.red.chan=0,this.users.red.le=0,this.users.red.red3=0,this.users.red.red4=0,this.users.red.white3=0,this.users.red.white4=0,this.users.xu.chan=0,this.users.xu.le=0,this.users.xu.red3=0,this.users.xu.red4=0,this.users.xu.white3=0,this.users.xu.white4=0,this.clients.red.chan=0,this.clients.red.le=0,this.clients.red.red3=0,this.clients.red.red4=0,this.clients.red.white3=0,this.clients.red.white4=0,this.clients.xu.chan=0,this.clients.xu.le=0,this.clients.xu.red3=0,this.clients.xu.red4=0,this.clients.xu.white3=0,this.clients.xu.white4=0},setLogs:function(){var e=this;this.logMain.forEach(function(t,i){var n=e.logs[i];if(n){t.node.active=!0,n=Object.values(n);var a=0;n.forEach(function(e){e&&a++}),t.spriteFrame=a%2?e.dot_red:e.dot_white}else t.node.active=!1});var t=-1,i=[],n=[],a=0,o=0,s=e.logs.slice();s.reverse(),s.forEach(function(e){var a=Object.values(e),o=0;a.forEach(function(e){e&&o++});var s=!(o%2);-1===t&&(t=s),(s!==t||n.length>3)&&(t=s,i.push(n),n=[]),s===t&&n.push(o)}),i.push(n),i.reverse(),i=i.slice(0,12),this.log_top.forEach(function(t,n){var s=i[n];s?(t.cell.active=!0,t.data.forEach(function(t,i){var n=s[i];void 0!==n?(t.c.node.parent.active=!0,t.c.spriteFrame=n%2?e.dot_red:4===n?e.dot_red:e.dot_white,t.t.string=0===n?4:n,n%2?o++:a++):t.c.node.parent.active=!1})):t.cell.active=!1}),this.log_chan.string=a,this.log_le.string=o},changerBet:function(e){var t=e.target;this.cuoc=t.name,this.bet.children.forEach(function(e){e==t?(e.children[0].active=!1,e.children[1].active=!0,e.pauseSystemEvents(),e.opacity=255):(e.children[0].active=!0,e.children[1].active=!1,e.resumeSystemEvents(),e.opacity=99)})},changerCoint:function(){this.red=!this.red,this.nodeRed.active=!this.nodeRed.active,this.nodeXu.active=!this.nodeXu.active,this.updateMeCoint()},onCuoc:function(e,t){null==this.betCurrent||null==this.betCurrent||""==this.betCurrent?cc.RedT.send({g:{xocxoc:{cuoc:{red:this.red,cuoc:this.cuoc,box:t}}}}):this.betCurrent==t?cc.RedT.send({g:{xocxoc:{cuoc:{red:this.red,cuoc:this.cuoc,box:t}}}}):this.addNotice("Only 1 place is allowed to bet")},addNotice:function(e){"string"==typeof e?c.Instance.notice.show({title:i.getLang(cc.RedT.language,"taixiu_notice"),text:e}):void 0!==e.button?c.Instance.notice.show({title:e.title,text:e.text,button:{text:"notice",type:"watchVideo"}}):c.Instance.notice.show({title:e.title,text:e.text})},clientsChip:function(e){var t=null,i=this.maxBox1_3;switch(e.box){case"chan":t=this.box_chan,i=this.maxBox1_1;break;case"le":t=this.box_le,i=this.maxBox1_1;break;case"red3":t=this.box_red3;break;case"red4":t=this.box_red4;break;case"white3":t=this.box_white3;break;case"white4":t=this.box_white4}var n=this.users_bg.parent.convertToWorldSpaceAR(this.users_bg.position);n=t.children[1].convertToNodeSpaceAR(n);var a=new cc.Node;(a=a.addComponent(cc.Sprite)).spriteFrame=this["chip_"+e.cuoc],a.node.position=n,a.node.scale=.67;var o=Math.random()*(i.x+1)>>0,s=Math.random()*(i.y+1)>>0;t.children[1].addChild(a.node);var c=cc.instantiate(this.audioSingleChip.node);a.node.addChild(c),c=c.getComponent(cc.AudioSource),a.node.runAction(cc.sequence(cc.spawn(cc.scaleTo(.4,.3),cc.moveTo(.4,cc.v2(o,s))),cc.callFunc(function(){this.play()},c),cc.sequence(cc.moveTo(.1,cc.v2(o,s)),cc.moveTo(.1,cc.v2(o,s)))))},meChip:function(e){var t=null,i=null,n=this.maxBox1_3;switch(null!=this.betCurrent&&null!=this.betCurrent&&""!=this.betCurrent||(this.betCurrent=e.box),this.bet.children.forEach(function(i){i.name==e.cuoc&&(t=i)}),e.box){case"chan":i=this.box_chan,n=this.maxBox1_1;break;case"le":i=this.box_le,n=this.maxBox1_1;break;case"red3":i=this.box_red3;break;case"red4":i=this.box_red4;break;case"white3":i=this.box_white3;break;case"white4":i=this.box_white4}var a=t.parent.convertToWorldSpaceAR(t.position);a=i.children[1].convertToNodeSpaceAR(a);var o=new cc.Node;(o=o.addComponent(cc.Sprite)).spriteFrame=this["chip_"+e.cuoc],o.node.position=a;var s=Math.random()*(n.x+1)>>0,c=Math.random()*(n.y+1)>>0;i.children[1].addChild(o.node);var r=cc.instantiate(this.audioSingleChip.node);o.node.addChild(r),r=r.getComponent(cc.AudioSource),o.node.runAction(cc.sequence(cc.spawn(cc.scaleTo(.3,.3),cc.moveTo(.3,cc.v2(s,c))),cc.callFunc(function(){this.play()},r),cc.sequence(cc.moveTo(.1,cc.v2(s,c+6)),cc.moveTo(.1,cc.v2(s,c)))))},updateMe:function(e){e.red&&this.updateMeRed(e.red),e.xu&&this.updateMeXu(e.xu)},updateMeRed:function(e){e.chan>0&&(this.users.red.chan=e.chan,this.red&&(this.me_chan.string=i.numberWithCommas(e.chan))),e.le>0&&(this.users.red.le=e.le,this.red&&(this.me_le.string=i.numberWithCommas(e.le))),e.red3>0&&(this.users.red.red3=e.red3,this.red&&(this.me_red3.string=i.numberWithCommas(e.red3))),e.red4>0&&(this.users.red.red4=e.red4,this.red&&(this.me_red4.string=i.numberWithCommas(e.red4))),e.white3>0&&(this.users.red.white3=e.white3,this.red&&(this.me_white3.string=i.numberWithCommas(e.white3))),e.white4>0&&(this.users.red.white4=e.white4,this.red&&(this.me_white4.string=i.numberWithCommas(e.white4)))},updateClient:function(e){this.updateClientRed(e.red)},updateClientRed:function(e){e.chan>0&&(this.clients.red.chan=e.chan,this.red&&(this.total_chan.string=i.numberWithCommas(e.chan))),e.le>0&&(this.clients.red.le=e.le,this.red&&(this.total_le.string=i.numberWithCommas(e.le))),e.red3>0&&(this.clients.red.red3=e.red3,this.red&&(this.total_red3.string=i.numberWithCommas(e.red3))),e.red4>0&&(this.clients.red.red4=e.red4,this.red&&(this.total_red4.string=i.numberWithCommas(e.red4))),e.white3>0&&(this.clients.red.white3=e.white3,this.red&&(this.total_white3.string=i.numberWithCommas(e.white3))),e.white4>0&&(this.clients.red.white4=e.white4,this.red&&(this.total_white4.string=i.numberWithCommas(e.white4)))},updateMeCoint:function(){this.me_chan.string=this.users.red.chan>0?i.numberWithCommas(this.users.red.chan):"",this.me_le.string=this.users.red.le>0?i.numberWithCommas(this.users.red.le):"",this.me_red3.string=this.users.red.red3>0?i.numberWithCommas(this.users.red.red3):"",this.me_red4.string=this.users.red.red4>0?i.numberWithCommas(this.users.red.red4):"",this.me_white3.string=this.users.red.white3>0?i.numberWithCommas(this.users.red.white3):"",this.me_white4.string=this.users.red.white4>0?i.numberWithCommas(this.users.red.white4):"",this.total_chan.string=this.clients.red.chan>0?i.numberWithCommas(this.clients.red.chan):"",this.total_le.string=this.clients.red.le>0?i.numberWithCommas(this.clients.red.le):"",this.total_red3.string=this.clients.red.red3>0?i.numberWithCommas(this.clients.red.red3):"",this.total_red4.string=this.clients.red.red4>0?i.numberWithCommas(this.clients.red.red4):"",this.total_white3.string=this.clients.red.white3>0?i.numberWithCommas(this.clients.red.white3):"",this.total_white4.string=this.clients.red.white4>0?i.numberWithCommas(this.clients.red.white4):""},status:function(e){setTimeout(function(){if(e.win&&e.bet){var t=new cc.Node;if(t.addComponent(cc.Label),(t=t.getComponent(cc.Label)).string=(e.win?"+":"-")+i.numberWithCommas(e.bet),t.font=e.win?cc.RedT.util.fontCong:cc.RedT.util.fontTru,t.lineHeight=130,t.fontSize=25,t.node.position=cc.v2(0,90),this.miniNotice.addChild(t.node),t.node.runAction(cc.sequence(cc.moveTo(4,cc.v2(0,200)),cc.callFunc(function(){this.node.destroy()},t))),e.win&&cc.RedT.send({user:{updateCoint:!0}}),void 0!==e.thuong&&e.thuong>0){var n=new cc.Node;n.addComponent(cc.Label),(n=n.getComponent(cc.Label)).string="+"+i.numberWithCommas(e.thuong),n.font=cc.RedT.util.fontEffect,n.lineHeight=90,n.fontSize=14,this.miniNotice.addChild(n.node),n.node.runAction(cc.sequence(cc.moveTo(4,cc.v2(0,100)),cc.callFunc(function(){this.node.destroy()},n)))}}}.bind(this),4e3)},tweenProgress:function(e,t,i){var n={a:100};cc.tween(n).to(e,{a:0},{progress:function(e,i,a,o){if(null!=t)try{t.fillRange=a/100}catch(s){cc.Tween.stopAllByTarget(n)}else cc.Tween.stopAllByTarget(n);return e+(i-e)*o}}).call(function(){i&&i()}).start()},onBtnToggleBoxWatchVideo:function(){var e=this;cc.Tween.stopAllByTarget(this.boxWatchVideo),0==this.isShowboxWatchVideo?(this.isShowboxWatchVideo=!0,this.boxWatchVideo.position=cc.v2(-250,0),this.boxWatchVideo.active=!0,cc.tween(this.boxWatchVideo).to(.25,{position:cc.v2(-20,0)}).start()):(this.isShowboxWatchVideo=!1,cc.tween(this.boxWatchVideo).to(.25,{position:cc.v2(-250,0)}).call(function(){e.boxWatchVideo.active=!0}).start())},onEnable:function(){this.intervalCountDown&&(clearInterval(this.intervalCountDown),this.intervalCountDown=null),this.check5minsWatchEvent()?(this.Progress.fillRange=0,this.time.node.active=!1):this.startCountDown()},onDisable:function(){this.hideCountDown()},hideCountDown:function(){this.intervalCountDown&&(clearInterval(this.intervalCountDown),this.intervalCountDown=null,this.time.node.active=!1)},startCountDown:function(){this.Progress.fillRange=1,this.time.node.active=!0;var e=JSON.parse(localStorage.getItem("timeEventWatch")),t=0;if(e)for(var i=0;i<e.length;i++)if(e[i].username==cc.RedT.user.name){t=e[i].time;break}var n=(t+3e5-Date.now())/1e3;void 0!==this.timeInterval&&clearInterval(this.timeInterval),this.intervalCountDown=setInterval(function(){this.time.string=this.secondsToHms(n),(n-=1)<=0&&(this.Progress.fillRange=0,this.hideCountDown())}.bind(this),1e3)},onClickEventWatchVideo:function(){if(this.check5minsWatchEvent()){c.Instance.coinsEventWatch();var e=(new Date).getTime(),t=JSON.parse(localStorage.getItem("timeEventWatch"));if(null!=t){for(var i=0,n=0;n<t.length;n++)if(t[n].username==cc.RedT.user.name){t[n].time=e,i=1;break}1==i?cc.sys.localStorage.setItem("timeEventWatch",JSON.stringify(t)):(t.push({username:cc.RedT.user.name,time:e}),cc.sys.localStorage.setItem("timeEventWatch",JSON.stringify(t)))}else t=[{username:cc.RedT.user.name,time:e}],cc.sys.localStorage.setItem("timeEventWatch",JSON.stringify(t));r.Instance.showRewarded(),this.startCountDown()}},check5minsWatchEvent:function(){var e=(new Date).getTime(),t=JSON.parse(localStorage.getItem("timeEventWatch")),i=null;if(null!=t&&"null"!==t)for(var n=0;n<t.length;n++)t[n].username==cc.RedT.user.name&&(i=t[n].time);return!i||e-(i=parseInt(i))>3e5},secondsToHms:function(e){e=Number(e);var t=Math.floor(e/3600),i=Math.floor(e%3600/60),n=Math.floor(e%3600%60);return(t>0?t+":":"")+(i>0?i+":":"0:")+(n>0?n+"":"0")}}),cc._RF.pop()},{Admob:"Admob",Helper:"Helper",Notice:"Notice",UIPopupManager:"UIPopupManager",UIUserXocXoc:"UIUserXocXoc",XocXocChat:"XocXocChat",XocXoc_dialog:"XocXoc_dialog"}],bankNap:[function(e,t){"use strict";cc._RF.push(t,"72fdbys1l5HW7J4wCB8Lxax","bankNap");var i=e("BrowserUtil"),n=e("Helper");cc.Class({extends:cc.Component,properties:{header:{default:null,type:cc.Node},body:{default:null,type:cc.Node},bangGia:{default:null,type:cc.ScrollView},prefabRight:{default:null,type:cc.Prefab},isLoad:!1,labelNumber:cc.Label,labelName:cc.Label,labelBranch:cc.Label,labelUID:cc.Label,labelTimeout:cc.Label,prefab:{default:null,type:cc.Node}},onLoad:function(){var e=this;this.isLoad||(cc.RedT.send({shop:{bank:{list:!0}}}),cc.RedT.send({shop:{info_nap_bank:!0}})),Promise.all(this.header.children.map(function(e){return e.getComponent("itemContentMenu")})).then(function(t){e.header=t});var t=this;this.keyHandle=function(e){return e.keyCode===cc.macro.KEY.tab?(t.isTop()&&t.changeNextFocusEditBox(),e.preventDefault&&e.preventDefault(),!1):e.keyCode===cc.macro.KEY.enter?(i.focusGame(),t.onNapClick(),e.preventDefault&&e.preventDefault(),!1):void 0}},infoSet:function(e,t,i,a){var o=this;void 0===a&&(a=!1);var s=this;e.length>0&&Promise.all(e.map(function(e){var t=n.numberWithCommas(e.name),i=n.numberWithCommas(e.values),a=cc.instantiate(s.prefabRight);return a.getComponent("NapRed_itemTT").init(t,i),s.bangGia.content.addChild(a),a})).then(function(e){o[t]=e})},onSelectHead:function(e,t){Promise.all(this.header.map(function(e){e.node.name==t?e.select():e.unselect()})),Promise.all(this.body.children.map(function(e){e.name==t?e.active=!0:e.active=!1}))},onEnable:function(){this.isLoad||cc.RedT.send({shop:{bank:{bankAccountList:!0}}}),cc.sys.isBrowser&&this.addEvent()},onDisable:function(){cc.sys.isBrowser&&this.removeEvent()},addEvent:function(){for(var e in cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),this.editboxs)i.getHTMLElementByEditBox(this.editboxs[e]).addEventListener("keydown",this.keyHandle,!1)},removeEvent:function(){for(var e in this.editboxs)i.getHTMLElementByEditBox(this.editboxs[e]).removeEventListener("keydown",this.keyHandle,!1);cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},onKeyDown:function(e){switch(e.keyCode){case cc.macro.KEY.tab:this.isTop()&&this.changeNextFocusEditBox();break;case cc.macro.KEY.enter:this.isTop()&&this.onNapClick()}},changeNextFocusEditBox:function(){for(var e=!1,t=0,n=this.editboxs.length;t<n;t++)if(i.checkEditBoxFocus(this.editboxs[t])){i.focusEditBox(this.editboxs[t]),e=!0;break}!e&&0<this.editboxs.length&&i.focusEditBox(this.editboxs[0])},isTop:function(){return!cc.RedT.inGame.notice.node.active&&!cc.RedT.inGame.loading.active},copyStk:function(){cc.RedT.MainGame.copyText(this.labelNumber.string)},copyAccount:function(){cc.RedT.MainGame.copyText(this.labelName.string)},copyBranch:function(){cc.RedT.MainGame.copyText(this.labelBranch.string)},copyComment:function(){cc.RedT.MainGame.copyText(this.labelUID.string)},onData:function(e){if(e.bankAccountLists&&e.bankAccountLists.length>0&&(this.isLoad=!0,e=e.bankAccountLists[0],this.labelName.string=e.name,this.labelNumber.string=e.number,this.labelBranch.string=e.branch,this.labelUID.string=e.code?e.code:cc.RedT.user.UID,this.labelTimeout.string=e.timeout?e.timeout.replace("T"," ").split(".")[0]:"-"),void 0!==e.nap_bank&&void 0!==e.nap_bank.info.menhgia){var t=e.nap_bank.info.menhgia;this.infoSet(t,"menhgiaList","MenhGia")}},backT:function(e){this.labelNumber.string=e.number,this.labelName.string=e.name,this.labelBranch.string=e.branch,this.labelUID.string=e.code?e.code:cc.RedT.user.UID,this.labelTimeout.string=e.timeout?e.timeout.replace("T"," ").split(".")[0]:"-"}}),cc._RF.pop()},{BrowserUtil:"BrowserUtil",Helper:"Helper"}],bankRut:[function(e,t){"use strict";cc._RF.push(t,"e6e82lXaWpFFKSeuqaCN4Qt","bankRut");var i=e("BrowserUtil"),n=(e("console").Console,e("Helper"));cc.Class({extends:cc.Component,properties:{dataTest:"",nodeBank:cc.Node,nodeMenhGia:cc.Node,editNumber:cc.EditBox,editName:cc.EditBox,editOTP:cc.EditBox,typeOTP:""},init:function(){var e=this;this.dropDownBank=this.nodeBank.getComponent("DropDown"),this.dropDownMenhGia=this.nodeMenhGia.getComponent("DropDown"),this.dropDownBank.labelCaption.string="",this.dropDownMenhGia.labelCaption.string="",this.editboxs=[this.editNumber,this.editName,this.editOTP],this.keyHandle=function(t){return t.keyCode===cc.macro.KEY.tab?(e.isTop()&&e.changeNextFocusEditBox(),t.preventDefault&&t.preventDefault(),!1):t.keyCode===cc.macro.KEY.enter?(i.focusGame(),e.onNapClick(),t.preventDefault&&t.preventDefault(),!1):void 0}},loadBankList:function(e){this.dataBankList=e;for(var t=new Array,i=0;i<e.length;i++)t.push({optionString:e[i].bankName});this.dropDownBank.clearOptionDatas(),this.dropDownBank.addOptionDatas(t),this.dropDownBank.selectedIndex=0},loadBankMenhGia:function(e){this.dataMenhGia=e;for(var t=new Array,i=0;i<e.length;i++)t.push({optionString:e[i].name+" ("+e[i].values+")"});this.dropDownMenhGia.clearOptionDatas(),this.dropDownMenhGia.addOptionDatas(t),this.dropDownMenhGia.selectedIndex=0},onData:function(e){void 0!==e.mua_bank&&this.loadBankMenhGia(e.mua_bank.info.menhgia),void 0!==e.bankList&&this.loadBankList(e.bankList)},onEnable:function(){cc.sys.isBrowser&&this.addEvent(),cc.RedT.send({shop:{info_mua_bank:!0}}),cc.RedT.send({shop:{bank:{bankList:!0}}})},onDisable:function(){cc.sys.isBrowser&&this.removeEvent(),this.clean()},addEvent:function(){for(var e in cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),this.editboxs)i.getHTMLElementByEditBox(this.editboxs[e]).addEventListener("keydown",this.keyHandle,!1)},removeEvent:function(){for(var e in this.editboxs)i.getHTMLElementByEditBox(this.editboxs[e]).removeEventListener("keydown",this.keyHandle,!1);cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},onKeyDown:function(e){switch(e.keyCode){case cc.macro.KEY.tab:this.isTop()&&this.changeNextFocusEditBox();break;case cc.macro.KEY.enter:this.isTop()&&this.onNapClick()}},changeNextFocusEditBox:function(){for(var e=!1,t=0,n=this.editboxs.length;t<n;t++)if(i.checkEditBoxFocus(this.editboxs[t])){i.focusEditBox(this.editboxs[t]),e=!0;break}!e&&0<this.editboxs.length&&i.focusEditBox(this.editboxs[0])},isTop:function(){return!cc.RedT.inGame.notice.node.active&&!cc.RedT.inGame.loading.active},clean:function(){this.editNumber.string=this.editName.string=this.editOTP.string=""},onClickOTP:function(){cc.RedT.send({otp:{type:this.typeOTP}})},changerTypeOTP:function(e){this.typeOTP=e.node.name},onChangerRed:function(e){void 0===e&&(e=0),e=n.numberWithCommas(n.getOnlyNumberInString(e))},onClick:function(){var e=null;if(n.isEmpty(this.dropDownBank.labelCaption.string)||n.isEmpty(this.editNumber.string)||n.isEmpty(this.editName.string)||n.isEmpty(this.dropDownMenhGia.labelCaption.string)||n.isEmpty(this.editOTP.string)?e=cc.RedT.language_shop.kttt:this.dataMenhGia[this.dropDownMenhGia.selectedIndex].values<1e4&&(e=cc.RedT.language_shop.rtt),e)cc.RedT.inGame.notice.show({title:cc.RedT.Frontendlanguages[cc.RedT.language].error,text:e});else{var t={shop:{bank:{rut:{bank:this.dataBankList[this.dropDownBank.selectedIndex].bankCode,number:this.editNumber.string,name:this.editName.string,rut:n.getOnlyNumberInString(this.dataMenhGia[this.dropDownMenhGia.selectedIndex].name),otp:this.editOTP.string}}}};cc.RedT.send(t)}}}),cc._RF.pop()},{BrowserUtil:"BrowserUtil",Helper:"Helper",console:5}],bgLoading:[function(e,t){"use strict";cc._RF.push(t,"b29c3M7ShVDkKHKf+49LVQZ","bgLoading"),cc.Class({extends:cc.Component,properties:{text:cc.Label},onDisable:function(){this.text.string=""},onData:function(e){void 0!==e.active&&(this.node.active=e.active),void 0!==e.text&&(this.text.string=e.text)}}),cc._RF.pop()},{}],coinNap:[function(e,t){"use strict";cc._RF.push(t,"2713btsP31K7ZrNxYm7+EoE","coinNap");var i=e("BrowserUtil"),n=e("Helper");cc.Class({extends:cc.Component,properties:{nodeVi:cc.Node,header:{default:null,type:cc.Node},body:{default:null,type:cc.Node},bangGia:{default:null,type:cc.ScrollView},prefabRight:{default:null,type:cc.Prefab},isLoad:!1,labelNumber:cc.Label,labelName:cc.Label,labelBranch:cc.Label,labelUID:cc.Label,labelTimeout:cc.Label,prefab:{default:null,type:cc.Node}},onLoad:function(){var e=this;this.dropDownVi=this.nodeVi.getComponent("DropDown"),Promise.all(this.header.children.map(function(e){return e.getComponent("itemContentMenu")})).then(function(t){e.header=t});var t=this;this.keyHandle=function(e){return e.keyCode===cc.macro.KEY.tab?(t.isTop()&&t.changeNextFocusEditBox(),e.preventDefault&&e.preventDefault(),!1):e.keyCode===cc.macro.KEY.enter?(i.focusGame(),t.onNapClick(),e.preventDefault&&e.preventDefault(),!1):void 0}},infoSet:function(e,t,i,a){var o=this;void 0===a&&(a=!1);var s=this;e.length>0&&(s.bangGia.content.removeAllChildren(),Promise.all(e.map(function(e){var t=n.numberWithCommas(e.name),i=n.numberWithCommas(e.values),a=cc.instantiate(s.prefabRight);return a.getComponent("NapRed_itemTT").init(t,i),s.bangGia.content.addChild(a),a})).then(function(e){o[t]=e}))},onSelectHead:function(e,t){Promise.all(this.header.map(function(e){e.node.name==t?e.select():e.unselect()})),Promise.all(this.body.children.map(function(e){e.name==t?e.active=!0:e.active=!1}))},onEnable:function(){cc.RedT.send({shop:{info_nap_coin:!0}}),cc.sys.isBrowser&&this.addEvent()},onDisable:function(){cc.sys.isBrowser&&this.removeEvent()},addEvent:function(){for(var e in cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),this.editboxs)i.getHTMLElementByEditBox(this.editboxs[e]).addEventListener("keydown",this.keyHandle,!1)},removeEvent:function(){for(var e in this.editboxs)i.getHTMLElementByEditBox(this.editboxs[e]).removeEventListener("keydown",this.keyHandle,!1);cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},onKeyDown:function(e){switch(e.keyCode){case cc.macro.KEY.tab:this.isTop()&&this.changeNextFocusEditBox();break;case cc.macro.KEY.enter:this.isTop()&&this.onNapClick()}},changeNextFocusEditBox:function(){for(var e=!1,t=0,n=this.editboxs.length;t<n;t++)if(i.checkEditBoxFocus(this.editboxs[t])){i.focusEditBox(this.editboxs[t]),e=!0;break}!e&&0<this.editboxs.length&&i.focusEditBox(this.editboxs[0])},isTop:function(){return!cc.RedT.inGame.notice.node.active&&!cc.RedT.inGame.loading.active},copyStk:function(){cc.RedT.MainGame.copyText(this.labelNumber.string)},copyAccount:function(){cc.RedT.MainGame.copyText(this.labelName.string)},copyBranch:function(){cc.RedT.MainGame.copyText(this.labelBranch.string)},copyComment:function(){cc.RedT.MainGame.copyText(this.labelUID.string)},onChangeVi:function(e,t){cc.log("onChangeVi:"+JSON.stringify(t)),this.labelNumber.string=this.payin[this.dropDownVi.labelCaption.string],this.labelUID.string=t.code?t.code:cc.RedT.user.UID,this.labelTimeout.string=t.timeout?t.timeout.replace("T"," ").split(".")[0]:"-"},loadVi:function(e){this.payin=e;var t=new Array;for(var i in e)t.push({optionString:i});this.dropDownVi.clearOptionDatas(),this.dropDownVi.addOptionDatas(t),this.dropDownVi.selectedIndex=0,this.onChangeVi(null,e)},onData:function(e){if(e.payin&&this.loadVi(e.payin),void 0!==e.nap_coin&&void 0!==e.nap_coin.info.menhgia){var t=e.nap_coin.info.menhgia;this.infoSet(t,"menhgiaList","MenhGia")}},backT:function(e){this.labelNumber.string=e.number,this.labelName.string=e.name,this.labelBranch.string=e.branch,this.labelUID.string=e.code?e.code:cc.RedT.user.UID,this.labelTimeout.string=e.timeout?e.timeout.replace("T"," ").split(".")[0]:"-"}}),cc._RF.pop()},{BrowserUtil:"BrowserUtil",Helper:"Helper"}],coinRut:[function(e,t){"use strict";cc._RF.push(t,"fb2c5wsT1lL4brs89xtqCY2","coinRut");var i=e("BrowserUtil"),n=(e("console").Console,e("Helper"));cc.Class({extends:cc.Component,properties:{dataTest:"",nodeBank:cc.Node,nodeMenhGia:cc.Node,editNumber:cc.EditBox,editOTP:cc.EditBox,typeOTP:""},init:function(){var e=this;this.dropDownBank=this.nodeBank.getComponent("DropDown"),this.dropDownMenhGia=this.nodeMenhGia.getComponent("DropDown"),this.editboxs=[this.editNumber,this.editOTP],this.keyHandle=function(t){return t.keyCode===cc.macro.KEY.tab?(e.isTop()&&e.changeNextFocusEditBox(),t.preventDefault&&t.preventDefault(),!1):t.keyCode===cc.macro.KEY.enter?(i.focusGame(),e.onNapClick(),t.preventDefault&&t.preventDefault(),!1):void 0}},loadWalletList:function(e){this.data=e;var t=new Array;for(var i in e)1==e[i]&&t.push({optionString:i});this.dropDownBank.clearOptionDatas(),this.dropDownBank.addOptionDatas(t),this.dropDownBank.selectedIndex=0},loadBankMenhGia:function(e){this.dataMenhGia=e;for(var t=new Array,i=0;i<e.length;i++)t.push({optionString:e[i].name+" ("+e[i].values+")"});this.dropDownMenhGia.clearOptionDatas(),this.dropDownMenhGia.addOptionDatas(t),this.dropDownMenhGia.selectedIndex=0},onData:function(e){void 0!==e.menhgia&&this.loadBankMenhGia(e.menhgia),void 0!==e.payout&&this.loadWalletList(e.payout)},onEnable:function(){cc.sys.isBrowser&&this.addEvent(),cc.RedT.send({shop:{info_mua_coin:!0}})},onDisable:function(){cc.sys.isBrowser&&this.removeEvent(),this.clean()},addEvent:function(){for(var e in cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),this.editboxs)i.getHTMLElementByEditBox(this.editboxs[e]).addEventListener("keydown",this.keyHandle,!1)},removeEvent:function(){for(var e in this.editboxs)i.getHTMLElementByEditBox(this.editboxs[e]).removeEventListener("keydown",this.keyHandle,!1);cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},onKeyDown:function(e){switch(e.keyCode){case cc.macro.KEY.tab:this.isTop()&&this.changeNextFocusEditBox();break;case cc.macro.KEY.enter:this.isTop()&&this.onNapClick()}},changeNextFocusEditBox:function(){for(var e=!1,t=0,n=this.editboxs.length;t<n;t++)if(i.checkEditBoxFocus(this.editboxs[t])){i.focusEditBox(this.editboxs[t]),e=!0;break}!e&&0<this.editboxs.length&&i.focusEditBox(this.editboxs[0])},isTop:function(){return!cc.RedT.inGame.notice.node.active&&!cc.RedT.inGame.loading.active},clean:function(){this.editNumber.string=this.editOTP.string=""},onClickOTP:function(){cc.RedT.send({otp:{type:this.typeOTP}})},changerTypeOTP:function(e){this.typeOTP=e.node.name},onChangerRed:function(e){void 0===e&&(e=0),e=n.numberWithCommas(n.getOnlyNumberInString(e))},onClick:function(){var e=null;n.isEmpty(this.dropDownBank.labelCaption.string)||n.isEmpty(this.editNumber.string)||n.isEmpty(this.dropDownMenhGia.labelCaption.string)||n.isEmpty(this.editOTP.string)?e=cc.RedT.language_shop.kttt:this.dataMenhGia[this.dropDownMenhGia.selectedIndex].values<1e4&&(e=cc.RedT.language_shop.rtt),e?cc.RedT.inGame.notice.show({title:cc.RedT.Frontendlanguages[cc.RedT.language].error,text:e}):cc.RedT.send({shop:{coin:{rut:{bank:this.dropDownBank.labelCaption.string,number:this.editNumber.string,rut:n.getOnlyNumberInString(this.dataMenhGia[this.dropDownMenhGia.selectedIndex].name),otp:this.editOTP.string}}}})}}),cc._RF.pop()},{BrowserUtil:"BrowserUtil",Helper:"Helper",console:5}],dialogHuongDan:[function(e,t){"use strict";cc._RF.push(t,"495d5jwe0pGBIw/joWKvc/9","dialogHuongDan");var i=e("UIPopupManager");cc.Class({extends:cc.Component,properties:{game:cc.Node,content:cc.Node,title:cc.Label},onLoad:function(){for(var e=[],t=0;t<this.game.children.length;t++)e.push(this.game.children[t].children[1].getComponent(cc.Label));for(this.popupArr={},this.huongDanAngryBirds="HuongDanAngryBirds",this.huongDanBauCua="HuongDanBauCua",this.huongDanBigBabol="HuongDanBigBabol",this.huongDanCaoThap="HuongDanCaoThap",this.huongDanMini3Cay="HuongDanMini3Cay",this.huongDanMiniPoker="HuongDanMiniPoker",this.huongDanTaiXiu="HuongDanTaiXiu",this.game=e,this.boxChosing=null,this.popupArr={},t=0;t<this.content.children.length;t++)this.popupArr[this.content.children[t].name]=this.content.children[t]},selectGame:function(e,t){var i=this,n="HuongDan"+t;null!=this.popupArr[n]?this.select(n,t):this.loadPrefab(n,function(){i.select(n,t)})},loadPrefab:function(e,t){var i=cc.instantiate(this.popupArrCache[e]);i.parent=this.content,this.popupArr[e]=i,t(i)},onBtnClose:function(){i.Instance.hideGameHuongDan()},select:function(e,t){null!=this.boxChosing&&(this.boxChosing.active=!1),this.popupArr[e].active=!0,this.title.string=t,this.boxChosing=this.popupArr[e]}}),cc._RF.pop()},{UIPopupManager:"UIPopupManager"}],hoverScale:[function(e,t){"use strict";cc._RF.push(t,"d8e56/FW3FDTab9UduKTQcx","hoverScale"),cc.Class({extends:cc.Component,properties:{pressedScale:1,transDuration:0},onLoad:function(){this.initScale=this.node.scale,this.scaleOnAction=cc.scaleTo(this.transDuration,this.pressedScale),this.scaleOffAction=cc.scaleTo(this.transDuration,this.initScale)},onEnable:function(){this.node.on(cc.Node.EventType.MOUSE_ENTER,this.eventOnHover,this),this.node.on(cc.Node.EventType.MOUSE_LEAVE,this.eventOffHover,this)},onDisable:function(){this.node.off(cc.Node.EventType.MOUSE_ENTER,this.eventOnHover,this),this.node.off(cc.Node.EventType.MOUSE_LEAVE,this.eventOffHover,this)},eventOnHover:function(){this.node.stopAllActions(),this.node.runAction(this.scaleOnAction)},eventOffHover:function(){this.node.stopAllActions(),this.node.runAction(this.scaleOffAction)}}),cc._RF.pop()},{}],iMessage_item:[function(e,t){"use strict";cc._RF.push(t,"08764g9eU1CrrI+WH3GeclU","iMessage_item"),cc.Class({extends:cc.Component,properties:{dot:cc.Node,bg:cc.Node,title:cc.Label,time:cc.Label},init:function(e){this.RedT=e},onClick:function(){this.RedT.onContentClick(this)}}),cc._RF.pop()},{}],iMessage:[function(e,t){"use strict";cc._RF.push(t,"70701e+jWpDjIG4eqgLNgmQ","iMessage");var i=e("Helper");cc.Class({extends:cc.Component,properties:{news:cc.Label,text:cc.Label,item:cc.Prefab,content:cc.Node,message:""},onLoad:function(){},onEnable:function(){cc.RedT.send({message:{update:!0}})},onData:function(e){e.list&&(this.list(e.list),this.countNews(e.list)),e.text&&(this.text.string=e.text),e.news&&(e.news>0?(this.news.node.active=!0,this.news.string=e.news):this.news.node.active=!1)},list:function(e){this.content.removeAllChildren();var t=this;Promise.all(e.map(function(e){var n=cc.instantiate(t.item);(n=n.getComponent("iMessage_item")).init(t),n.title.string=e.title,n.time.string=i.getStringDateByTime(e.time),n.bg.active=!e.read,n.dot.active=t.message==e._id,n.message=e._id,t.content.addChild(n.node)}))},onContentClick:function(e){var t=this;e.message!=this.message&&(e.bg.active=!1,cc.RedT.audio.playClick(),this.message=e.message,this.getContent(),e.dot.active=!0,Promise.all(this.content.children.filter(function(t){return t!=e.node&&(t.children[0].active=!1),t.children[1].active})).then(function(e){(e=e.length)>0?(t.news.node.active=!0,t.news.string=e):t.news.node.active=!1}))},getContent:function(){cc.RedT.send({message:{view:this.message}})},reset:function(){this.content.removeAllChildren(),this.text.string=this.news.string="",this.news.node.active=!1},countNews:function(e){var t=e.filter(function(e){return!e.read});(t=t.length)>0?(this.news.node.active=!0,this.news.string=t):this.news.node.active=!1}}),cc._RF.pop()},{Helper:"Helper"}],iconGameBai:[function(e,t){"use strict";cc._RF.push(t,"fbc3eTUdt9BmbNrv1zsHCzT","iconGameBai"),cc.Class({extends:cc.Component,properties:{title:"",game:"",table2:!0},openGame:function(){cc.RedT.IS_LOGIN?cc.RedT.inGame.MenuRoom.openGame(this):cc.RedT.inGame.dialog.showSignIn()}}),cc._RF.pop()},{}],iconGameHu:[function(e,t){"use strict";cc._RF.push(t,"b464brTuF9Jkai40xgtDiaq","iconGameHu"),cc.Class({extends:cc.Component,properties:{pot2:cc.Label,pot3:cc.Label,pot4:cc.Label}}),cc._RF.pop()},{}],iconGameTaiXiu:[function(e,t){"use strict";cc._RF.push(t,"f5d22VsrEZLuKko/Zky02F3","iconGameTaiXiu"),cc.Class({extends:cc.Component,properties:{tai:cc.Label,xiu:cc.Label}}),cc._RF.pop()},{}],iconGame:[function(e,t){"use strict";cc._RF.push(t,"a98fahA/phPCZvYv2bUDP1B","iconGame"),cc.Class({extends:cc.Component,properties:{slot:!1,mini:!1,bai:!1,khac:!1}}),cc._RF.pop()},{}],inputNumber:[function(e,t){"use strict";cc._RF.push(t,"b256eN/SStPwZz/lPd3MUDm","inputNumber");var i=e("BrowserUtil");cc.Class({extends:cc.Component,properties:{},onLoad:function(){var e=this;this.editbox=this.node.getComponent(cc.EditBox),this.onShift=!1,this.eventKeyDown=function(t){16===t.keyCode&&(e.onShift=!0,t.preventDefault()),!e.onShift&&(t.keyCode>=48&&t.keyCode<=57||t.keyCode>=96&&t.keyCode<=105||t.keyCode>=37&&t.keyCode<=40||107===t.keyCode||109===t.keyCode||189===t.keyCode||8===t.keyCode||13===t.keyCode)||t.preventDefault()},this.eventKeyUp=function(t){16===t.keyCode&&(t.preventDefault(),e.onShift=!1)}},onEnable:function(){cc.sys.isBrowser&&this.addEventTT()},onDisable:function(){cc.sys.isBrowser&&this.removeEventTT()},addEventTT:function(){i.getHTMLElementByEditBox(this.editbox).addEventListener("keydown",this.eventKeyDown,!1),i.getHTMLElementByEditBox(this.editbox).addEventListener("keyup",this.eventKeyUp,!1)},removeEventTT:function(){i.getHTMLElementByEditBox(this.editbox).removeEventListener("keydown",this.eventKeyDown,!1),i.getHTMLElementByEditBox(this.editbox).removeEventListener("keyup",this.eventKeyUp,!1)}}),cc._RF.pop()},{BrowserUtil:"BrowserUtil"}],itemContentMenu:[function(e,t){"use strict";cc._RF.push(t,"ef328suSpdNvq+JTw+borMJ","itemContentMenu"),cc.Class({extends:cc.Component,properties:{nodeUnSelect:{default:null,type:cc.Node},nodeSelect:{default:null,type:cc.Node},text:{default:null,type:cc.Node}},select:function(){this.nodeUnSelect.active=!1,this.nodeSelect.active=!0,this.text.color=cc.Color.ORANGE,this.node.pauseSystemEvents()},unselect:function(){this.nodeUnSelect.active=!0,this.nodeSelect.active=!1,this.text.color=cc.Color.WHITE,this.node.resumeSystemEvents()}}),cc._RF.pop()},{}],itemHeadMenu:[function(e,t){"use strict";cc._RF.push(t,"b32dagCeD1MVp59ygCz6Tsa","itemHeadMenu"),cc.Class({extends:cc.Component,properties:{nodeUnSelect:{default:null,type:cc.Node},nodeSelect:{default:null,type:cc.Node}},select:function(){this.nodeUnSelect.active=!1,this.nodeSelect.active=!0,this.node.pauseSystemEvents()},unselect:function(){this.nodeUnSelect.active=!0,this.nodeSelect.active=!1,this.node.resumeSystemEvents()}}),cc._RF.pop()},{}],miniBigWin:[function(e,t){"use strict";cc._RF.push(t,"1b515XdufZBFaOcG7quJClg","miniBigWin");var i=e("Helper").numberTo;cc.Class({extends:cc.Component,properties:{bet:cc.Label},onLoad:function(){this.bet.font=this.node.red?cc.RedT.util.fontCong:cc.RedT.util.fontTru,this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){cc.RedT.audio.playEf("moneywin"),i(this.bet,0,this.node.bet,1e3,!0)},this)))}}),cc._RF.pop()},{Helper:"Helper"}],mini_warning:[function(e,t){"use strict";cc._RF.push(t,"c832drPwXtFyrxiOXSF7olJ","mini_warning"),cc.Class({extends:cc.Component,properties:{text:{default:null,type:cc.Label}},onEnable:function(){this.node.runAction(cc.sequence(cc.spawn(cc.scaleTo(.09,1),cc.fadeTo(.09,255)),cc.delayTime(2.5),cc.spawn(cc.scaleTo(.09,1.5),cc.fadeTo(.09,0)),cc.callFunc(function(){this.node.destroyAllChildren(),this.node.destroy()},this)))}}),cc._RF.pop()},{}],momoNap:[function(e,t){"use strict";cc._RF.push(t,"ed955uID0pPU7eUk9zKrdiJ","momoNap");var i=e("BrowserUtil"),n=e("Helper");cc.Class({extends:cc.Component,properties:{header:{default:null,type:cc.Node},body:{default:null,type:cc.Node},bangGia:{default:null,type:cc.ScrollView},prefabRight:{default:null,type:cc.Prefab},isLoad:!1,labelPhone:{default:null,type:cc.Label},labelAccount:{default:null,type:cc.Label},labelComment:{default:null,type:cc.Label},labelTimeOut:cc.Label},onLoad:function(){var e=this;this.isLoad||cc.RedT.send({shop:{info_nap_momo:!0}}),Promise.all(this.header.children.map(function(e){return e.getComponent("itemContentMenu")})).then(function(t){e.header=t})},onEnable:function(){cc.sys.isBrowser&&this.addEvent()},onDisable:function(){cc.sys.isBrowser&&this.removeEvent(),this.clean()},addEvent:function(){for(var e in cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),this.editboxs)i.getHTMLElementByEditBox(this.editboxs[e]).addEventListener("keydown",this.keyHandle,!1)},removeEvent:function(){for(var e in this.editboxs)i.getHTMLElementByEditBox(this.editboxs[e]).removeEventListener("keydown",this.keyHandle,!1);cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},onKeyDown:function(e){switch(e.keyCode){case cc.macro.KEY.tab:this.isTop()&&this.changeNextFocusEditBox();break;case cc.macro.KEY.enter:this.isTop()&&this.onNapClick()}},changeNextFocusEditBox:function(){for(var e=!1,t=0,n=this.editboxs.length;t<n;t++)if(i.checkEditBoxFocus(this.editboxs[t])){i.focusEditBox(this.editboxs[t]),e=!0;break}!e&&0<this.editboxs.length&&i.focusEditBox(this.editboxs[0])},isTop:function(){return!cc.RedT.inGame.notice.node.active&&!cc.RedT.inGame.loading.active},clean:function(){},infoSet:function(e,t,i,a){var o=this;void 0===a&&(a=!1);var s=this;e.length>0&&Promise.all(e.map(function(e){var t=n.numberWithCommas(e.name),i=n.numberWithCommas(e.values),a=cc.instantiate(s.prefabRight);return a.getComponent("NapRed_itemTT").init(t,i),s.bangGia.content.addChild(a),a})).then(function(e){o[t]=e})},onData:function(e){if(void 0!==e.nap_momo&&void 0!==e.nap_momo.info.menhgia){var t=e.nap_momo.info.menhgia;this.infoSet(t,"menhgiaList","MenhGia")}void 0!==e.momoAccountLists&&(e=e.momoAccountLists[0],this.data=e,this.labelAccount.string=e.name,this.labelPhone.string=e.number,this.labelComment.string=e.code?e.code:cc.RedT.user.UID,this.labelTimeOut.string=e.timeout?e.timeout.replace("T"," ").split(".")[0]:"-")},backT:function(){},onSelectHead:function(e,t){Promise.all(this.header.map(function(e){e.node.name==t?e.select():e.unselect()})),Promise.all(this.body.children.map(function(e){e.name==t?e.active=!0:e.active=!1}))},copySdt:function(){cc.RedT.MainGame.copyText(this.labelPhone.string)},copyAccount:function(){cc.RedT.MainGame.copyText(this.labelAccount.string)},copyComment:function(){cc.RedT.MainGame.copyText(this.labelComment.string)},onChangerRed:function(e){void 0===e&&(e=0),e=n.numberWithCommas(n.getOnlyNumberInString(e))}}),cc._RF.pop()},{BrowserUtil:"BrowserUtil",Helper:"Helper"}],momoRut:[function(e,t){"use strict";cc._RF.push(t,"4d1798u7yhPQ6RqdVqdU8n4","momoRut");var i=e("BrowserUtil"),n=e("Helper");cc.Class({extends:cc.Component,properties:{editNumber:cc.EditBox,editName:cc.EditBox,editOTP:cc.EditBox,typeOTP:"",MenhGia:{default:null,type:cc.Label},moreMenhGia:{default:null,type:cc.Node},scrollviewMenhGia:{default:null,type:cc.ScrollView},bangGia:{default:null,type:cc.ScrollView},prefabLeft:{default:null,type:cc.Node},prefabRight:{default:null,type:cc.Prefab}},init:function(){var e=this;this.editboxs=[this.editNumber,this.editName,this.editOTP],this.keyHandle=function(t){return t.keyCode===cc.macro.KEY.tab?(e.isTop()&&e.changeNextFocusEditBox(),t.preventDefault&&t.preventDefault(),!1):t.keyCode===cc.macro.KEY.enter?(i.focusGame(),e.onNapClick(),t.preventDefault&&t.preventDefault(),!1):void 0}},onEnable:function(){this.isLoaded||cc.RedT.send({shop:{info_mua_momo:!0}}),cc.sys.isBrowser&&this.addEvent()},onDisable:function(){this.moreMenhGia.active=!1,cc.sys.isBrowser&&this.removeEvent(),this.clean()},addEvent:function(){for(var e in cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),this.editboxs)i.getHTMLElementByEditBox(this.editboxs[e]).addEventListener("keydown",this.keyHandle,!1)},removeEvent:function(){for(var e in this.editboxs)i.getHTMLElementByEditBox(this.editboxs[e]).removeEventListener("keydown",this.keyHandle,!1);cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},onKeyDown:function(e){switch(e.keyCode){case cc.macro.KEY.tab:this.isTop()&&this.changeNextFocusEditBox();break;case cc.macro.KEY.enter:this.isTop()&&this.onNapClick()}},changeNextFocusEditBox:function(){for(var e=!1,t=0,n=this.editboxs.length;t<n;t++)if(i.checkEditBoxFocus(this.editboxs[t])){i.focusEditBox(this.editboxs[t]),e=!0;break}!e&&0<this.editboxs.length&&i.focusEditBox(this.editboxs[0])},isTop:function(){return!this.moreMenhGia.active&&!cc.RedT.inGame.notice.node.active&&!cc.RedT.inGame.loading.active},toggleMoreMenhGia:function(){this.moreMenhGia.active=!this.moreMenhGia.active},infoSet:function(e,t,i,a){var o=this;void 0===a&&(a=!1);var s=this;e.length>0&&Promise.all(e.map(function(e,a){var o=cc.instantiate(s.prefabLeft),c=o.getComponent("NapRed_itemOne");c.init(s,t,i);var r=n.numberWithCommas(e.name),l=n.numberWithCommas(e.values);0==a&&(c.background.active=!0,s.MenhGia.string=r),c.text.string=r,s.scrollviewMenhGia.content.addChild(o);var h=cc.instantiate(s.prefabRight);return h.getComponent("NapRed_itemTT").init(r,l),s.bangGia.content.addChild(h),c})).then(function(e){o[t]=e})},onData:function(e){if(void 0!==e.mua_momo&&(this.isLoaded=!0,void 0!==e.mua_momo.info.menhgia)){var t=e.mua_momo.info.menhgia;this.infoSet(t,"menhgiaList","MenhGia")}},clean:function(){this.editNumber.string=this.editName.string=this.editOTP.string=""},onClickOTP:function(){cc.RedT.send({otp:{type:this.typeOTP}})},changerTypeOTP:function(e){this.typeOTP=e.node.name},onChangerRed:function(e){void 0===e&&(e=0),e=n.numberWithCommas(n.getOnlyNumberInString(e))},onClick:function(){var e=null;if((n.isEmpty(this.editNumber.string)||n.isEmpty(this.editName.string)||n.isEmpty(this.editOTP.string))&&(e=cc.RedT.language_shop.kttt),e)cc.RedT.inGame.notice.show({title:"ERROR",text:e});else{var t={bank:"Momo",number:this.editNumber.string,name:this.editName.string,rut:n.getOnlyNumberInString(this.MenhGia.string),otp:this.editOTP.string};cc.RedT.send({shop:{momo:{rut:t}}})}}}),cc._RF.pop()},{BrowserUtil:"BrowserUtil",Helper:"Helper"}],popupMinigame:[function(e,t){"use strict";cc._RF.push(t,"acd26OFlQpFU6xTJ63KhBKq","popupMinigame"),cc.Class({extends:cc.Component,properties:{list:{default:null,type:cc.Node},time:{default:null,type:cc.Label},nodeTime:{default:null,type:cc.Node},panel:{default:null,type:cc.Node},gameTx:cc.Node},onLoad:function(){cc.RedT.setting.popupMini=cc.RedT.setting.popupMini||{},this.ttOffset=null,this.ttOffset2=null,this.toggleRuning=!1,void 0!==cc.RedT.setting.popupMini.position&&(this.node.position=cc.RedT.setting.popupMini.position),void 0!==cc.RedT.setting.popupMini.open&&(cc.RedT.setting.popupMini.open?(this.list.active=!0,this.nodeTime.position=cc.v2(-155.7,-5.6),this.list.scale=1):(this.nodeTime.position=cc.v2(25,43),this.list.scale=.2,this.list.active=!1))},onEnable:function(){this.panel.on(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.panel.on(cc.Node.EventType.TOUCH_MOVE,this.eventMove,this),this.panel.on(cc.Node.EventType.TOUCH_END,this.eventEnd,this),this.panel.on(cc.Node.EventType.TOUCH_CANCEL,this.eventEnd,this),this.panel.on(cc.Node.EventType.MOUSE_ENTER,this.setTop,this)},onDisable:function(){this.panel.off(cc.Node.EventType.TOUCH_START,this.eventStart,this),this.panel.off(cc.Node.EventType.TOUCH_MOVE,this.eventMove,this),this.panel.off(cc.Node.EventType.TOUCH_END,this.eventEnd,this),this.panel.off(cc.Node.EventType.TOUCH_CANCEL,this.eventEnd,this),this.panel.off(cc.Node.EventType.MOUSE_ENTER,this.setTop,this)},eventStart:function(e){this.setTop(),this.ttOffset=cc.v2(e.touch.getLocationX()-this.node.position.x,e.touch.getLocationY()-this.node.position.y),this.ttOffset2=cc.v2(e.touch.getLocationX()-(e.touch.getLocationX()-this.node.position.x),e.touch.getLocationY()-(e.touch.getLocationY()-this.node.position.y))},eventMove:function(e){this.node.position=cc.v2(e.touch.getLocationX()-this.ttOffset.x,e.touch.getLocationY()-this.ttOffset.y)},eventEnd:function(e){cc.RedT.setting.popupMini.position=this.node.position,this.xChanger=this.ttOffset2.x-(e.touch.getLocationX()-this.ttOffset.x),this.yChanger=this.ttOffset2.y-(e.touch.getLocationY()-this.ttOffset.y),this.xChanger<5&&this.xChanger>-5&&this.yChanger<5&&this.yChanger>-5&&this.toggle()},toggle:function(){cc.RedT.audio.playClick(),this.toggleRuning||(this.toggleRuning=!0,this.list.stopAllActions(),this.list.active?(cc.RedT.setting.popupMini.open=!1,this.nodeTime.active?this.nodeTime.runAction(cc.moveTo(.3,cc.v2(25,43))):this.nodeTime.position=cc.v2(25,43),this.list.runAction(cc.sequence(cc.spawn(cc.scaleTo(.3,.2).easing(cc.easeBackIn(3)),cc.rotateTo(.3,-720)),cc.callFunc(function(){this.toggleRuning=this.list.active=!1},this)))):(cc.RedT.MainGame.checkShowAllGame()?(this.gameTx.active=!0,this.nodeTime.active=!0):(this.gameTx.active=!1,this.nodeTime.active=!1),this.list.active=cc.RedT.setting.popupMini.open=!0,this.nodeTime.active?this.nodeTime.runAction(cc.moveTo(.3,cc.v2(-155.7,-5.6))):this.nodeTime.position=cc.v2(-155.7,-5.6),this.list.runAction(cc.sequence(cc.spawn(cc.scaleTo(.3,1).easing(cc.easeBackOut(3)),cc.rotateTo(.3,720)),cc.callFunc(function(){this.toggleRuning=!1},this)))))},setTop:function(){this.node.parent.insertChild(this.node)}}),cc._RF.pop()},{}],popupTopHu:[function(e,t){"use strict";cc._RF.push(t,"60851P7puJFtJI47yoz+HGT","popupTopHu"),e("Helper"),cc.Class({extends:cc.Component,properties:{red:!1,bet:""},init:function(e){this.RedT=e,cc.RedT.setting.topHu=cc.RedT.setting.topHu||{},void 0!==cc.RedT.setting.topHu.position&&(this.node.position=cc.RedT.setting.topHu.position),void 0!==cc.RedT.setting.topHu.data&&this.onData(cc.RedT.setting.topHu.data)},onLoad:function(){this.ttOffset=null,this.ttOffset2=null,this.toggleRuning=!1,this.isFirst=!1},eventStart:function(e){this.setTop(),this.ttOffset=cc.v2(e.touch.getLocationX()-this.node.position.x,e.touch.getLocationY()-this.node.position.y),this.ttOffset2=cc.v2(e.touch.getLocationX()-(e.touch.getLocationX()-this.node.position.x),e.touch.getLocationY()-(e.touch.getLocationY()-this.node.position.y))},eventEnd:function(e){cc.RedT.setting.topHu.position=this.node.position,this.xChanger=this.ttOffset2.x-(e.touch.getLocationX()-this.ttOffset.x),this.yChanger=this.ttOffset2.y-(e.touch.getLocationY()-this.ttOffset.y),this.xChanger<5&&this.xChanger>-5&&this.yChanger<5&&this.yChanger>-5&&this.toggle()},onChangerCoint:function(){this.red=!this.red},onChangerBet:function(e,t){this.bet=t},onChangerBetFirst:function(e){0==this.isFirst&&(this.isFirst=!0,this.bet=e)},onData:function(e){cc.RedT.setting.topHu.data=e,this.onChangerGame()},onChangerGame:function(){void 0!==cc.RedT.inGame.onGetHu&&cc.RedT.MainGame.onGetHu()},setTop:function(){this.node.parent.insertChild(this.node)}}),cc._RF.pop()},{Helper:"Helper"}],ruttien:[function(e,t){"use strict";cc._RF.push(t,"1a558HqQAZIvJCav2OB+DnX","ruttien");var i=e("Bank");cc.Class({extends:cc.Component,properties:{header:{default:null,type:cc.Node},NapRed:{default:null,type:cc.Node},TieuRed:{default:null,type:cc.Node},ChuyenRed:{default:null,type:cc.Node},Bank:i},init:function(){var e=this;this.NapRed=this.NapRed.getComponent("NapRed"),this.TieuRed=this.TieuRed.getComponent("TieuRed"),this.ChuyenRed=this.ChuyenRed.getComponent("ChuyenRed"),this.NapRed.init(),this.TieuRed.init(),this.ChuyenRed.init(),this.Bank.init(),this.body=[this.NapRed,this.TieuRed,this.ChuyenRed,this.Bank],Promise.all(this.header.children.map(function(e){return e.getComponent("itemHeadMenu")})).then(function(t){e.header=t})},onEnable:function(){cc.RedT.inGame.header.node.active=!1},onDisable:function(){cc.RedT.inGame.header.node.active=!0},onSelectHead:function(e,t){Promise.all(this.header.map(function(e){e.node.name==t?e.select():e.unselect()})),Promise.all(this.body.map(function(e){e.node.name==t?e.node.active=!0:e.node.active=!1}))},superView:function(e){"NapRed"==e||"ThongTinNapRed"==e||"QuyDinhNapRed"==e?(this.onSelectHead(null,"NapRed"),"NapRed"!=e&&this.NapRed.onSelectHead(null,e)):"TieuRed"==e||"MuaXu"==e||"MuaTheNap"==e?(this.onSelectHead(null,"TieuRed"),"TieuRed"!=e&&this.TieuRed.onSelectHead(null,e)):"ChuyenRed"==e&&this.onSelectHead(null,"ChuyenRed")},onData:function(e){void 0!==e.nap_red&&this.NapRed.onData(e.nap_red),void 0!==e.mua_the_nap&&this.TieuRed.MuaTheCao.onData(e.mua_the_nap),void 0!==e.chuyen_red&&this.ChuyenRed.onData(e.chuyen_red),e.bank&&this.Bank.onData(e.bank)}}),cc._RF.pop()},{Bank:"Bank"}],sdkbox_config:[function(e,t){"use strict";cc._RF.push(t,"f3b5axJRqJLU4WKHX6icWGR","sdkbox_config"),t.exports={android:{iap:{items:{bundle_1:{type:"consumable",id:"bundle_1"},bundle_2:{type:"consumable",id:"bundle_2"},bundle_3:{type:"consumable",id:"bundle_3"},bundle_4:{type:"consumable",id:"bundle_4"},bundle_5:{type:"consumable",id:"bundle_5"}},key:"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAgn1sjpFNx/tRUa7yzlAKQG4Fiov/vB0Fwju+9bD62B2aEyTQ0/Q3Gw8zX2lyy3HHQJBOFabW8MBzo/kUOdOeZ4e8LlBymyyKRpvCF6iT8avJxJbl5uu90UyQrTl44WaWYMc1SuOJzmcxQJz5ZgnGdEv7c6W7MOoVTHQKQbFJgDWxqTrl8b6kb/WK5SCj+tuHOGuJDnLKtuW3Ao06xpV4MQJwwUfEcDaWwfVVmoMnErpvnuC8yR4vjpGgSA++13r9hS4pSNoJ5kljKVlD6vTyVkQqd3ddWZZGi80NhczhzBSWNFV7rB548T9bTVQkYKg8seexw5Je8nMhQKbzHy4liQIDAQAB"},AdMob:{testdevice:"FE20924C46522E2E204587EB339897C6,kGADSimulatorID",test:!1,ads:{interstitial:{type:"interstitial",id:"ca-app-pub-3940256099942544/1033173712"},appopen:{type:"appopen",id:"ca-app-pub-3940256099942544/1033173712"},gameover:{type:"interstitial",id:"ca-app-pub-1329374026572143/1092476511"},home:{width:300,type:"banner",id:"ca-app-pub-1329374026572143/2685130917",alignment:"bottom",height:100},rewarded:{type:"rewarded_video",id:"ca-app-pub-1329374026572143/8251968111"},reward:{type:"rewarded_video",id:"ca-app-pub-3940256099942544/5224354917"},banner:{width:300,type:"banner",id:"ca-app-pub-3940256099942544/6300978111",alignment:"bottom",height:50}},tag_for_child_directed_treatment:1}},ios:{iap:{items:{bundle_1:{type:"consumable",id:"bundle_1"},bundle_2:{type:"consumable",id:"bundle_2"},bundle_3:{type:"consumable",id:"bundle_3"},bundle_4:{type:"consumable",id:"bundle_4"},bundle_5:{type:"consumable",id:"bundle_5"}}}}},cc._RF.pop()},{}],shopMuaTheCao:[function(e,t){"use strict";cc._RF.push(t,"36ec7BUYDJJTorK1lfR1/DA","shopMuaTheCao");var i=e("BrowserUtil"),n=e("Helper");cc.Class({extends:cc.Component,properties:{NhanhMang:{default:null,type:cc.Label},MenhGia:{default:null,type:cc.Label},editSoLuong:{default:null,type:cc.EditBox},editOTP:{default:null,type:cc.EditBox},moreNhaMang:{default:null,type:cc.Node},moreMenhGia:{default:null,type:cc.Node},scrollviewNhaMang:{default:null,type:cc.ScrollView},scrollviewMenhGia:{default:null,type:cc.ScrollView},bangGia:{default:null,type:cc.ScrollView},prefabLeft:{default:null,type:cc.Node},prefabRight:{default:null,type:cc.Prefab},typeOTP:""},init:function(){var e=this;this.isLoaded=!1,this.editboxs=[this.editSoLuong,this.editOTP],this.keyHandle=function(t){return t.keyCode===cc.macro.KEY.tab?(e.isTop()&&e.changeNextFocusEditBox(),t.preventDefault&&t.preventDefault(),!1):t.keyCode===cc.macro.KEY.enter?(i.focusGame(),e.onClickMua(),t.preventDefault&&t.preventDefault(),!1):void 0}},onEnable:function(){cc.sys.isBrowser&&this.addEvent(),this.isLoaded||cc.RedT.send({shop:{info_mua:!0}})},onDisable:function(){this.moreNhaMang.active=this.moreMenhGia.active=!1,cc.sys.isBrowser&&this.removeEvent(),this.clean()},addEvent:function(){for(var e in cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),this.editboxs)i.getHTMLElementByEditBox(this.editboxs[e]).addEventListener("keydown",this.keyHandle,!1)},removeEvent:function(){for(var e in this.editboxs)i.getHTMLElementByEditBox(this.editboxs[e]).removeEventListener("keydown",this.keyHandle,!1);cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},onKeyDown:function(e){switch(e.keyCode){case cc.macro.KEY.tab:this.isTop()&&this.changeNextFocusEditBox();break;case cc.macro.KEY.enter:this.isTop()&&this.onClickMua()}},changeNextFocusEditBox:function(){for(var e=!1,t=0,n=this.editboxs.length;t<n;t++)if(i.checkEditBoxFocus(this.editboxs[t])){i.focusEditBox(this.editboxs[t]),e=!0;break}!e&&0<this.editboxs.length&&i.focusEditBox(this.editboxs[0])},isTop:function(){return!(this.moreNhaMang.active||this.moreMenhGia.active||cc.RedT.inGame.notice.node.active||cc.RedT.inGame.loading.active)},clean:function(){this.editSoLuong.string="1"},toggleMoreNhaMang:function(){this.moreNhaMang.active=!this.moreNhaMang.active,this.moreMenhGia.active=!1},hideMoreNhaMang:function(){this.moreNhaMang.active=!1,this.moreMenhGia.active=!1},toggleMoreMenhGia:function(){this.moreMenhGia.active=!this.moreMenhGia.active},infoSet:function(e,t,i,a){var o=this;void 0===a&&(a=!1);var s=this;e.length>0&&Promise.all(e.map(function(e,o){var c=cc.instantiate(s.prefabLeft),r=c.getComponent("NapRed_itemOne");if(r.init(s,t,i),a)0==o&&(r.background.active=!0,s.NhanhMang.string=e.name),r.text.string=e.name,s.scrollviewNhaMang.content.addChild(c);else{var l=n.numberWithCommas(e.name),h=n.numberWithCommas(e.values);0==o&&(r.background.active=!0,s.MenhGia.string=l),r.text.string=l,s.scrollviewMenhGia.content.addChild(c);var d=cc.instantiate(s.prefabRight);d.getComponent("NapRed_itemTT").init(l,h),s.bangGia.content.addChild(d)}return r})).then(function(e){o[t]=e})},onData:function(e){if(void 0!==e.info&&!this.isLoaded&&(this.isLoaded=!0,void 0!==e.info.nhamang&&this.infoSet(e.info.nhamang,"nhamangList","NhanhMang",!0),void 0!==e.info.menhgia)){var t=e.info.menhgia.filter(function(e){return 1==e.type});this.infoSet(t,"menhgiaList","MenhGia")}},onClickMua:function(){var e=this.editSoLuong.string>>0;e>3||e<0?cc.RedT.inGame.notice.show({title:cc.RedT.language_shop.nt,text:cc.RedT.language_shop.ws}):4!=this.editOTP.string.length?cc.RedT.inGame.notice.show({title:cc.RedT.Frontendlanguages[cc.RedT.language].error,text:cc.RedT.Frontendlanguages[cc.RedT.language].err_otp}):cc.RedT.send({shop:{mua_the:{nhamang:this.NhanhMang.string,menhgia:n.getOnlyNumberInString(this.MenhGia.string),soluong:this.editSoLuong.string,otp:this.editOTP.string}}})},onClickOTP:function(){cc.RedT.send({otp:{type:this.typeOTP}})},changerTypeOTP:function(e){this.typeOTP=e.node.name}}),cc._RF.pop()},{BrowserUtil:"BrowserUtil",Helper:"Helper"}],shopMuaXu:[function(e,t){"use strict";cc._RF.push(t,"e3d68ruZCVJyZezBdPhX4eo","shopMuaXu");var i=e("Helper"),n=e("BrowserUtil");cc.Class({extends:cc.Component,properties:{xu:{default:null,type:cc.Label},red:{default:null,type:cc.EditBox},captcha:{default:null,type:cc.EditBox},capchaSprite:cc.Sprite},onLoad:function(){var e=this;this.editboxs=[this.red,this.captcha],this.keyHandle=function(t){return t.keyCode===cc.macro.KEY.tab?(e.changeNextFocusEditBox(),t.preventDefault&&t.preventDefault(),!1):t.keyCode===cc.macro.KEY.enter?(n.focusGame(),e.onClickMua(),t.preventDefault&&t.preventDefault(),!1):void 0}},onEnable:function(){cc.sys.isBrowser&&this.addEvent(),this.reCaptcha()},onDisable:function(){cc.sys.isBrowser&&this.removeEvent(),this.clean()},addEvent:function(){for(var e in cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),this.editboxs)n.getHTMLElementByEditBox(this.editboxs[e]).addEventListener("keydown",this.keyHandle,!1)},removeEvent:function(){for(var e in this.editboxs)n.getHTMLElementByEditBox(this.editboxs[e]).removeEventListener("keydown",this.keyHandle,!1);cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},onKeyDown:function(e){switch(e.keyCode){case cc.macro.KEY.tab:this.isTop()&&this.changeNextFocusEditBox();break;case cc.macro.KEY.enter:this.isTop()&&this.onClickMua()}},changeNextFocusEditBox:function(){for(var e=!1,t=0,i=this.editboxs.length;t<i;t++)if(n.checkEditBoxFocus(this.editboxs[t])){n.focusEditBox(this.editboxs[t]),e=!0;break}!e&&0<this.editboxs.length&&n.focusEditBox(this.editboxs[0])},isTop:function(){return!cc.RedT.inGame.notice.node.active&&!cc.RedT.inGame.loading.active},clean:function(){this.red.string=this.xu.string=this.captcha.string=""},onChanger:function(e){var t=i.getOnlyNumberInString(e),n=i.numberWithCommas(t);this.xu.string=i.numberWithCommas(3*t),this.red.string="0"==n?"":n},onClickMua:function(){parseInt(i.isEmpty(this.red.string)||i.getOnlyNumberInString(this.red.string))<1e3?cc.RedT.inGame.notice.show({title:cc.RedT.language_shop.muaxu,text:cc.RedT.language_shop.minumunxo}):i.isEmpty(this.captcha.string)?cc.RedT.inGame.notice.show({title:cc.RedT.language_shop.muaxu,text:cc.RedT.language_shop.maxn}):cc.RedT.send({shop:{mua_xu:{red:i.getOnlyNumberInString(this.red.string),captcha:this.captcha.string}}})},initCaptcha:function(e){var t=this,i=new Image;i.src=e,i.width=150,i.height=50,setTimeout(function(){var e=new cc.Texture2D;e.initWithElement(i),e.handleLoadedTexture();var n=new cc.SpriteFrame(e);t.capchaSprite.spriteFrame=n},10)},reCaptcha:function(){cc.RedT.send({captcha:"withdrawXu"})}}),cc._RF.pop()},{BrowserUtil:"BrowserUtil",Helper:"Helper"}],subMenuControll:[function(e,t){"use strict";function i(e,t){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(i=e[Symbol.iterator]()).next.bind(i)}function n(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}cc._RF.push(t,"84987GimdhLo67g4TdXG7dM","subMenuControll"),cc.Class({extends:cc.Component,properties:{items:{default:[],type:cc.Node},body:{default:[],type:cc.Node}},onLoad:function(){for(var e in this.items)this.items[e]=this.items[e].getComponent("subMenuItem")},onClickItem:function(e){for(var t,n=i(this.items);!(t=n()).done;){var a=t.value;a.node==e.target?a.onSelect():a.offSelect()}for(var o,s=i(this.body);!(o=s()).done;){var c=o.value;c.name===e.target.name?c.active=!0:c.active=!1}}}),cc._RF.pop()},{}],subMenuItem:[function(e,t){"use strict";cc._RF.push(t,"19618U18J5J55/yKtlBzkGh","subMenuItem"),cc.Class({extends:cc.Component,properties:{background:cc.Node,background2:cc.Node,text:cc.Node},onSelect:function(){this.background.active=!1,this.background2.active=!0,this.text.color=cc.Color.BLACK},offSelect:function(){this.background.active=!0,this.background2.active=!1,this.text.color=cc.Color.WHITE}}),cc._RF.pop()},{}],tweenCoinAnim:[function(e,t){"use strict";cc._RF.push(t,"c080066SJlNqqZrbR4ZkMQJ","tweenCoinAnim"),e("Helper"),cc.Class({extends:cc.Component,properties:{canvasNode:cc.Node,coin:cc.Node,animTime:{default:.7,type:cc.Float},startScale:{default:.3,type:cc.Float},endScale:{default:.8,type:cc.Float},delayTime:{default:.1,type:cc.Float}},start:function(){this.coinRoot=this.coin;var e=[];this.startPos=[];for(var t=this.coin.children.length-1;t>=0;t--){var i=this.coin.children[t];e.push(i),i.parent=this.coin.parent,i.scale=0,this.startPos.push(cc.v2(this.coin.x,this.coin.y))}this.coin=e},doAction:function(){this.tweenCoin(0,0,0,function(){})},tweenCoin:function(e,t,i,n){for(var a=this.endScale,o=this.animTime,s=this.delayTime,c=[],r=0;r<this.coin.length;r++){var l=this.coin[r];l.x=this.startPos[r].x,l.y=this.startPos[r].y,l.scale=this.startScale,l.active=!0;var h=new Promise(function(e){cc.tween(l).delay(r*s).to(o,{position:cc.v2(0,0),scale:a},{easing:"sineInOut"}).to(0,{scale:0}).call(e).start()});c.push(h)}Promise.all(c).then(function(){n()})},tweenCard:function(e,t){if(null!=this.card){this.endScale;var i=this.animTime/2,n=this.delayTime,a=[],o=this.card;o.x=this.startPosCard.x,o.y=this.startPosCard.y,o.scale=1,o.active=!0;var s=new Promise(function(t){cc.tween(o).delay(e*n).to(i,{position:cc.v2(0,0),scale:1},{easing:"sineInOut"}).to(0,{scale:0}).call(t).start()});a.push(s),Promise.all(a).then(function(){t()})}}}),cc._RF.pop()},{Helper:"Helper"}],use_reversed_rotateTo:[function(e,t){"use strict";cc._RF.push(t,"68c4824NulGt6Dsr4Lnj64R","use_reversed_rotateTo"),cc.RotateTo._reverse=!0,cc._RF.pop()},{}],"use_v2.1.x_cc.Action":[function(e,t){"use strict";cc._RF.push(t,"c5c32AkWmNMf6JIQRB+AGw8","use_v2.1.x_cc.Action"),cc.macro.ROTATE_ACTION_CCW=!0,cc._RF.pop()},{}],watchVideoPopup:[function(e,t){"use strict";cc._RF.push(t,"758033Xmz1PR6fUaUGuOreu","watchVideoPopup");var i=cc.Class({extends:cc.Component,properties:{imgPopup:{default:[],type:cc.Node},coins:cc.Label},statics:{Instance:null},init:function(){i.Instance=this},randomImgPopup:function(){var e=Math.floor(3*Math.random());for(var t in this.imgPopup)this.imgPopup[t].active=!1;this.imgPopup[e].active=!0},amountOfCoins:function(e){this.coins.string=e}});t.exports=i,cc._RF.pop()},{}]},{},["243Break","243Break_history","243Break_top","243Break_setting","243Break_dialog","243Break_iline","243Break_lines","243Break_bonus_item","243Break_playBonus","243Break_item","243Break_reel","243WaySlot","243WaySlot_history","243WaySlot_top","243WaySlot_setting","Slot25_bonus_item","243WaySlot_dialog","243WaySlot_iline","243WaySlot_lines","243WaySlot_bonus_item","243WaySlot_playBonus","243WaySlot_item","243WaySlot_reel","HelloWorld","UIDatePicker","UIItemDay","DropDown","DropDownItem","DropDownOptionData","Helloworld","BaCay","BaCayChat","BaCay_LichSu","BaCay_ls_item","BaCay_dialog","BaCay_linhVat","BaCay_logMini","BaCay_top","BaCay_top_item","UIUserBaCay","BacaratChat","Bacarat_dialog","Bacarat_history","Bacarat_history_item","Bacarat_setting","Bacarat_top","Bacarat_top_item","UICardBacarat","UIGameplayBacarat","UIGateBacarat","UIItemLogRoulette","UIPopupManager","UIUserBacarat","watchVideoPopup","BauCua","BauCuaChat","BauCua_LichSu","BauCua_ls_item","BauCua_linhVat","BauCua_logMini","BauCua_top","BauCua_top_item","BigBabol","BigBabol_LichSu","BigBabol_Top","BigBabol_line","BigBabol_main_line","BigBabol_reel","BigBabol_reel_item","Binh_Dialog","Binh_History","HubManagerBinh","UIGameManagerBinh","UIItemCardBinh","UIItemChoseRoomBinh","UIItemPlayerBinh","UIItemResultBinh","UIScreenGamePlayBinh","UIScreenLobbyBinh","BJBetUIControl","BJDealer","BJGamePlay","BJLobby","BJPlayer","BJPlayerChipPoll","BJPlayerHand","BJ_UIChooseRoom","BlackJack","BlackJackChat","BJHistoryDialog","BJHistoryItem","BlackjackDialog","TaiXiu","TaiXiuBoard","TaiXiuBoard_item","TaiXiuChat","TaiXiuLichSuPhien","TaiXiuLichSuPhien_item","TaiXiuLichSu","TaiXiuLichSu_item","TaiXiuMain","TaiXiuMain_logTips","TaiXiu_DiaNan","TaiXiu_efScale","TaiXiuThongKe","TaiXiuTop","AngryBird_history","AngryBird_history_item","AngryBird_top","AngryBirds-item","AngryBirds-itemR","AngryBirds","AngryBirds_reelsL","AngryBirds_reelsR","VQRed_history_item","CaoThap","CaoThap_history","CaoThap_history_item","CaoThap_reels","CaoThap_top","CaoThap_top_item","HandRank_Lieng","Hand_Lieng","Lieng","LiengGamePlay","Loading","Mini3Cay","Mini3Cay_history","Mini3Cay_ihistory","Mini3Cay_reel","Mini3Cay_top","MiniPoker","MiniPoker_LichSu","MiniPoker_Top","MiniPoker_reel","CanvasResizer","PokerHongKong","PokerWinningResult","Poker_HongkongGamePlay","tweenCoinAnim","Poker_dialog","Hand","HandRank","HandScore","Poker_UIChooseRoom","Poker_UIItemChoseRoom","ObjectChips","Poker_Player","Poker","PokerChat","PokerGamePlay","PokerHistory","PokerHistoryItem","PokerLobby","PokerMenuRoom","Roulette","RouletteChat","Roulette_dialog","Roulette_history","Roulette_history_item","Roulette_setting","Roulette_top","Roulette_top_item","UIItemEffectDatCuocRoulette","UIUserRoulette","sdkbox_config","HubManagerSam","Sam_Dialog","Sam_History","UIGameManagerSam","UIItemCardSam","UIItemChoseRoomSam","UIItemPlayerSam","UIItemResultSam","UIScreenGamePlaySam","UIScreenLobbySam","Admob","BaseControll","EnumText","EventDispatcher","Facebook","FacebookManager","FireBaseManager","GameConfig","BrowserUtil","CheckOut","DisableClick","Card","Helper","MainAudio","iconGame","iconGameBai","iconGameHu","iconGameTaiXiu","itemContentMenu","itemHeadMenu","Message","Pagination","Pagination_item","hoverScale","ThongBaoNoHu","miniBigWin","mini_warning","inputNumber","subMenuControll","subMenuItem","IAPManager","MainGame","MileStone","ChoseLanguage","DEvent","EventAngrybird","EventBigBabol","EventMiniPoker","EventTaiXiu","EventTaiXiu_item","Dialog","ForGotPass","Friend","Friend_item","BaoMat","DangKyOTP","DoiMatKhau","BaoMatGame","BaoMatTaiKhoan","CaNhan","ChooseAvatarPopup","KetSat","Profile","Settings","Bank","bankNap","bankRut","ChuyenRed","ChuyenRed_daily","Coin","coinNap","coinRut","Momo","momoNap","momoRut","NapIAP","UIItemNapIAP","NapRed","NapRed_itemOne","NapRed_itemTT","Shop","shopMuaTheCao","shopMuaXu","TieuRed","UIItemHeadShop","ruttien","SignIn","SignName","SignOut","SignUp","TheCao","TheCao_item","TopRank","TopRank_item","iMessage","iMessage_item","Header","Menu","MenuRoom","dialogHuongDan","PokerNap","popupMinigame","popupTopHu","NewsContents","NewsItem","ItemNotice","Notice","bgLoading","OneSignal","ResourceManager","RestApi","RichTextLanguage","SpriteLanguage","SystemPlugin","TextLanguage","TextLanguageShop","EF_NoHu","PanelMiniGame","PushNohu","SicboChat","Sicbo_dialog","Sicbo_history","Sicbo_history_item","Sicbo_setting","Sicbo_top","Sicbo_top_item","UIGamePlaySicbo","UIGateSicbo","UIUserSicbo","VKObjectPoolManager","SlotBingo","SlotBingo_history","SlotBingo_setting","SlotBingo_top","SlotBingo_dialog","SlotBingo_iline","SlotBingo_lines","BonusItem","SlotBingo_playBonus","BingoItem","SlotBingo_item","SlotBingo_reel","SlotBingo_bonus_item","SlotBingo_history_item","HubManagerTienLenSolo","IngameGameChat","TLMN_Deck","TLMN_Dialog","TLMN_History","TLMN_HistoryItem","TLMN_History_Detail_Item","TLMN_historyDetail","UIGameManagerTienLenSolo","UIItemCardTienLenSolo","UIItemChoseRoomTienLenSolo","UIItemPlayerTienLen","UIItemResultTienLenSolo","UIScreenGamePlayTienLenSolo","UIScreenLobbyTienLenSolo","UIUserXocXoc","XocXoc","XocXocChat","XocXoc_dialog","XocXoc_history","XocXoc_history_item","XocXoc_top","use_reversed_rotateTo","use_v2.1.x_cc.Action"]);